!function(e,t){"use strict";function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){Ti.length||(Oi(),Ai=!0),Ti[Ti.length]=e}function o(){for(;ji<Ti.length;){var e=ji;if(ji+=1,Ti[e].call(),ji>qi){for(var t=0,r=Ti.length-ji;t<r;t++)Ti[t]=Ti[t+ji];Ti.length-=ji,ji=0}}Ti.length=0,ji=0,Ai=!1}function a(e){return function(){function t(){clearTimeout(r),clearInterval(n),e()}var r=setTimeout(t,0),n=setInterval(t,50)}}function i(){}function s(e){try{return e.then}catch(e){return Ni=e,Bi}}function c(e,t){try{return e(t)}catch(e){return Ni=e,Bi}}function l(e,t,r){try{e(t,r)}catch(e){return Ni=e,Bi}}function u(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,e!==i&&g(e,this)}function p(e,t,r){return new e.constructor(function(n,o){var a=new u(i);a.then(n,o),d(e,new v(t,r,a))})}function d(e,t){for(;3===e._V;)e=e._W;if(u._Y&&u._Y(e),0===e._V)return 0===e._U?(e._U=1,void(e._X=t)):1===e._U?(e._U=2,void(e._X=[e._X,t])):void e._X.push(t);f(e,t)}function f(e,t){ki(function(){var r=1===e._V?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._V?h(t.promise,e._W):m(t.promise,e._W));var n=c(r,e._W);n===Bi?m(t.promise,Ni):h(t.promise,n)})}function h(e,t){if(t===e)return m(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=s(t);if(r===Bi)return m(e,Ni);if(r===e.then&&t instanceof u)return e._V=3,e._W=t,void y(e);if("function"==typeof r)return void g(r.bind(t),e)}e._V=1,e._W=t,y(e)}function m(e,t){e._V=2,e._W=t,u._Z&&u._Z(e,t),y(e)}function y(e){if(1===e._U&&(d(e,e._X),e._X=null),2===e._U){for(var t=0;t<e._X.length;t++)d(e,e._X[t]);e._X=null}}function v(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function g(e,t){var r=!1,n=l(e,function(e){r||(r=!0,h(t,e))},function(e){r||(r=!0,m(t,e))});r||n!==Bi||(r=!0,m(t,Ni))}function b(){Mi=!1,Pi._Y=null,Pi._Z=null}function _(e){function t(t){(e.allRejections||w(a[t].error,e.whitelist||Di))&&(a[t].displayId=o++,e.onUnhandled?(a[t].logged=!0,e.onUnhandled(a[t].displayId,a[t].error)):(a[t].logged=!0,E(a[t].displayId,a[t].error)))}function r(t){a[t].logged&&(e.onHandled?e.onHandled(a[t].displayId,a[t].error):a[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+a[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+a[t].displayId+".")))}e=e||{},Mi&&b(),Mi=!0;var n=0,o=0,a={};Pi._Y=function(e){2===e._V&&a[e._1]&&(a[e._1].logged?r(e._1):clearTimeout(a[e._1].timeout),delete a[e._1])},Pi._Z=function(e,r){0===e._U&&(e._1=n++,a[e._1]={displayId:null,error:r,timeout:setTimeout(t.bind(null,e._1),w(r,Di)?100:2e3),logged:!1})}}function E(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function w(e,t){return t.some(function(t){return e instanceof t})}function S(e){var t=new Pi(Pi._0);return t._V=1,t._W=e,t}function O(e){return e&&DataView.prototype.isPrototypeOf(e)}function C(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function x(e){return"string"!=typeof e&&(e=String(e)),e}function k(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Ki.iterable&&(t[Symbol.iterator]=function(){return t}),t}function T(e){this.map={},e instanceof T?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function A(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function j(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function q(e){var t=new FileReader,r=j(t);return t.readAsArrayBuffer(e),r}function R(e){var t=new FileReader,r=j(t);return t.readAsText(e),r}function I(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function N(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Ki.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Ki.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Ki.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Ki.arrayBuffer&&Ki.blob&&O(e)?(this._bodyArrayBuffer=N(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ki.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Zi(e))?this._bodyArrayBuffer=N(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ki.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ki.blob&&(this.blob=function(){var e=A(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(q)}),this.text=function(){var e=A(this);if(e)return e;if(this._bodyBlob)return R(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ki.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}function P(e){var t=e.toUpperCase();return $i.indexOf(t)>-1?t:e}function D(e,t){t=t||{};var r=t.body;if(e instanceof D){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new T(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new T(t.headers)),this.method=P(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function M(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function L(e){var t=new T;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function U(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new T(t.headers),this.url=t.url||"",this._initBody(e)}function F(e,t){return new Promise(function(r,n){function o(){i.abort()}var a=new D(e,t);if(a.signal&&a.signal.aborted)return n(new ts("Aborted","AbortError"));var i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:L(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new U(t,e))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.onabort=function(){n(new ts("Aborted","AbortError"))},i.open(a.method,a.url,!0),"include"===a.credentials?i.withCredentials=!0:"omit"===a.credentials&&(i.withCredentials=!1),"responseType"in i&&Ki.blob&&(i.responseType="blob"),a.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",o),i.onreadystatechange=function(){4===i.readyState&&a.signal.removeEventListener("abort",o)}),i.send(void 0===a._bodyInit?null:a._bodyInit)})}function H(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function V(e,t,r,n,o){for(var a in e)if(e.hasOwnProperty(a)){var i;try{if("function"!=typeof e[a]){var s=Error((n||"React class")+": "+r+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.");throw s.name="Invariant Violation",s}i=e[a](t,a,n,r,null,yd)}catch(e){i=e}if(!i||i instanceof Error||md((n||"React class")+": type specification of "+r+" `"+a+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof i+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),i instanceof Error&&!(i.message in vd)){vd[i.message]=!0;var c=o?o():"";md("Failed "+r+" type: "+i.message+(null!=c?c:""))}}}function G(){return null}function Q(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function J(){Cd||(Cd=!0,Q("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function K(e,t,r){if("string"!=typeof t){if(Nd){var n=Id(t);n&&n!==Nd&&K(e,n,r)}var o=jd(t);qd&&(o=o.concat(qd(t)));for(var a=0;a<o.length;++a){var i=o[a];if(!(kd[i]||Td[i]||r&&r[i])){var s=Rd(t,i);try{Ad(e,i,s)}catch(e){}}}return e}return e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(){var e=[],t=[];return{clear:function(){t=Md,e=Md},notify:function(){for(var r=e=t,n=0;n<r.length;n++)r[n]()},get:function(){return t},subscribe:function(r){var n=!0;return t===e&&(t=e.slice()),t.push(r),function(){n&&e!==Md&&(n=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function re(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function ne(){}function oe(e,t){var r={run:function(n){try{var o=e(t.getState(),n);(o!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=o,r.error=null)}catch(e){r.shouldComponentUpdate=!0,r.error=e}}};return r}function ae(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.getDisplayName,i=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,s=o.methodName,c=void 0===s?"connectAdvanced":s,l=o.renderCountProp,u=void 0===l?void 0:l,p=o.shouldHandleStateChanges,d=void 0===p||p,f=o.storeKey,h=void 0===f?"store":f,m=o.withRef,y=void 0!==m&&m,v=re(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),g=h+"Subscription",b=Hd++,_=(r={},r[h]=Od,r[g]=Sd,r),E=(n={},n[g]=Sd,n);return function(r){Dd("function"==typeof r,"You must pass a component to the function returned by "+c+". Instead received "+JSON.stringify(r));var n=r.displayName||r.name||"Component",o=i(n),a=Fd({},v,{getDisplayName:i,methodName:c,renderCountProp:u,shouldHandleStateChanges:d,storeKey:h,withRef:y,displayName:o,wrappedComponentName:n,WrappedComponent:r}),s=function(n){function i(e,t){$(this,i);var r=ee(this,n.call(this,e,t));return r.version=b,r.state={},r.renderCount=0,r.store=e[h]||t[h],r.propsMode=Boolean(e[h]),r.setWrappedInstance=r.setWrappedInstance.bind(r),Dd(r.store,'Could not find "'+h+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+h+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}return te(i,n),i.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[g]=t||this.context[g],e},i.prototype.componentDidMount=function(){d&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},i.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=ne,this.store=null,this.selector.run=ne,this.selector.shouldComponentUpdate=!1},i.prototype.getWrappedInstance=function(){return Dd(y,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},i.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},i.prototype.initSelector=function(){var e=t(this.store.dispatch,a);this.selector=oe(e,this.store),this.selector.run(this.props)},i.prototype.initSubscription=function(){if(d){var e=(this.propsMode?this.props:this.context)[g];this.subscription=new Ud(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(Vd)):this.notifyNestedSubs()},i.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.prototype.addExtraProps=function(e){if(!(y||u||this.propsMode&&this.subscription))return e;var t=Fd({},e);return y&&(t.ref=this.setWrappedInstance),u&&(t[u]=this.renderCount++),this.propsMode&&this.subscription&&(t[g]=this.subscription),t},i.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return e.createElement(r,this.addExtraProps(t.props))},i}(e.Component);return s.WrappedComponent=r,s.displayName=o,s.childContextTypes=E,s.contextTypes=_,s.propTypes=_,s.prototype.componentWillUpdate=function(){var e=this;if(this.version!==b){this.version=b,this.initSelector();var t=[];this.subscription&&(t=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),d&&(this.subscription.trySubscribe(),t.forEach(function(t){return e.subscription.listeners.subscribe(t)}))}},Bd(s,r)}}function ie(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function se(e,t){if(ie(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Gd.call(t,r[o])||!ie(e[r[o]],t[r[o]]))return!1;return!0}function ce(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function le(e,t,r){function n(){f===d&&(f=d.slice())}function o(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return p}function a(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return n(),f.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,n();var r=f.indexOf(e);f.splice(r,1)}}}function i(e){if(!ce(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,p=u(p,e)}finally{h=!1}for(var t=d=f,r=0;r<t.length;r++){(0,t[r])()}return e}function s(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,i({type:zd.REPLACE})}function c(){var e,t=a;return e={subscribe:function(e){function r(){e.next&&e.next(o())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:t(r)}}},e[Qd]=function(){return this},e}var l;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(le)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,p=t,d=[],f=d,h=!1;return i({type:zd.INIT}),l={dispatch:i,subscribe:a,getState:o,replaceReducer:s},l[Qd]=c,l}function ue(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function pe(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function de(e,t,r,n){var o=Object.keys(t),a=r&&r.type===zd.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!ce(e))return"The "+a+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+o.join('", "')+'"';var i=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!n[e]});return i.forEach(function(e){n[e]=!0}),r&&r.type===zd.REPLACE?void 0:i.length>0?"Unexpected "+(i.length>1?"keys":"key")+' "'+i.join('", "')+'" found in '+a+'. Expected to find one of the known reducer keys instead: "'+o.join('", "')+'". Unexpected keys will be ignored.':void 0}function fe(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:zd.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:zd.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+zd.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function he(e,t){return function(){return t(e.apply(this,arguments))}}function me(e,t){if("function"==typeof e)return he(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var a=r[o],i=e[a];"function"==typeof i&&(n[a]=he(i,t))}return n}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=null!=t[r]?t[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){ye(e,t,n[t])})}return e}function ge(){for(var e=arguments,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=e[n];return 0===r.length?function(e){return e}:1===r.length?r[0]:r.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function be(){for(var e=arguments,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=e[n];return function(e){return function(){var t=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:t.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=r.map(function(e){return e(o)});return n=ge.apply(void 0,a)(t.dispatch),ve({},t,{dispatch:n})}}}function _e(){}function Ee(e){var t=$d.call(e,tf),r=e[tf];try{e[tf]=void 0;var n=!0}catch(e){}var o=ef.call(e);return n&&(t?e[tf]=r:delete e[tf]),o}function we(e){return nf.call(e)}function Se(e){return null==e?void 0===e?af:of:sf&&sf in Object(e)?Ee(e):we(e)}function Oe(e){return null!=e&&"object"==typeof e}function Ce(e){if(!Oe(e)||Se(e)!=lf)return!1;var t=cf(e);if(null===t)return!0;var r=ff.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&df.call(r)==hf}function xe(e,t,r){Ce(e)||Q(r+"() in "+t+" must return a plain object. Instead received "+e+".")}function ke(e){return function(t,r){function n(){return o}var o=e(t,r);return n.dependsOnOwnProps=!1,n}}function Te(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ae(e,t){return function(r,n){var o=n.displayName,a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(r,n){a.mapToProps=e,a.dependsOnOwnProps=Te(e);var i=a(r,n);return"function"==typeof i&&(a.mapToProps=i,a.dependsOnOwnProps=Te(i),i=a(r,n)),xe(i,o,t),i},a}}function je(e){return"function"==typeof e?Ae(e,"mapDispatchToProps"):void 0}function qe(e){return e?void 0:ke(function(e){return{dispatch:e}})}function Re(e){return e&&"object"==typeof e?ke(function(t){return me(e,t)}):void 0}function Ie(e){return"function"==typeof e?Ae(e,"mapStateToProps"):void 0}function Ne(e){return e?void 0:ke(function(){return{}})}function Be(e,t,r){return vf({},r,e,t)}function Pe(e){return function(t,r){var n=r.displayName,o=r.pure,a=r.areMergedPropsEqual,i=!1,s=void 0;return function(t,r,c){var l=e(t,r,c);return i?o&&a(l,s)||(s=l):(i=!0,s=l,xe(s,n,"mergeProps")),s}}}function De(e){return"function"==typeof e?Pe(e):void 0}function Me(e){return e?void 0:function(){return Be}}function Le(e,t,r){if(!e)throw new Error("Unexpected value for "+t+" in "+r+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||Q("The selector for "+t+" of "+r+" did not specify a value for dependsOnOwnProps.")}function Ue(e,t,r,n){Le(e,"mapStateToProps",n),Le(t,"mapDispatchToProps",n),Le(r,"mergeProps",n)}function Fe(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function He(e,t,r,n){return function(o,a){return r(e(o,a),t(n,a),a)}}function Ve(e,t,r,n,o){function a(o,a){return h=o,m=a,y=e(h,m),v=t(n,m),g=r(y,v,m),f=!0,g}function i(){return y=e(h,m),t.dependsOnOwnProps&&(v=t(n,m)),g=r(y,v,m)}function s(){return e.dependsOnOwnProps&&(y=e(h,m)),t.dependsOnOwnProps&&(v=t(n,m)),g=r(y,v,m)}function c(){var t=e(h,m),n=!d(t,y);return y=t,n&&(g=r(y,v,m)),g}function l(e,t){var r=!p(t,m),n=!u(e,h);return h=e,m=t,r&&n?i():r?s():n?c():g}var u=o.areStatesEqual,p=o.areOwnPropsEqual,d=o.areStatePropsEqual,f=!1,h=void 0,m=void 0,y=void 0,v=void 0,g=void 0;return function(e,t){return f?l(e,t):a(e,t)}}function Ge(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,a=Fe(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=r(e,a),s=n(e,a),c=o(e,a);return Ue(i,s,c,a.displayName),(a.pure?Ve:He)(i,s,c,e,a)}function Qe(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function We(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function ze(e,t){return e===t}function Ye(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}function Je(e){if("header"!==e.type){var t=e.attribute,r=e.nested_attribute_value;e.nameLc=e.name.toLowerCase();var n=t;r&&(n+="|"+r),sy[n]=e}}function Ke(){this.__data__=[],this.size=0}function Xe(e,t){return e===t||e!==e&&t!==t}function Ze(e,t){for(var r=e.length;r--;)if(uy(e[r][0],t))return r;return-1}function $e(e){var t=this.__data__,r=py(t,e);return!(r<0)&&(r==t.length-1?t.pop():fy.call(t,r,1),--this.size,!0)}function et(e){var t=this.__data__,r=py(t,e);return r<0?void 0:t[r][1]}function tt(e){return py(this.__data__,e)>-1}function rt(e,t){var r=this.__data__,n=py(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function nt(e){var t=this,r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var o=e[r];t.set(o[0],o[1])}}function ot(){this.__data__=new gy,this.size=0}function at(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function it(e){return this.__data__.get(e)}function st(e){return this.__data__.has(e)}function ct(e){var t=qy.call(e,Iy),r=e[Iy];try{e[Iy]=void 0;var n=!0}catch(e){}var o=Ry.call(e);return n&&(t?e[Iy]=r:delete e[Iy]),o}function lt(e){return Py.call(e)}function ut(e){return null==e?void 0===e?Ly:My:Uy&&Uy in Object(e)?Ny(e):Dy(e)}function pt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function dt(e){if(!Hy(e))return!1;var t=Fy(e);return t==Gy||t==Qy||t==Vy||t==Wy}function ft(e){return!!Ky&&Ky in e}function ht(e){if(null!=e){try{return $y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function mt(e){return!(!Hy(e)||Xy(e))&&(zy(e)?sv:rv).test(ev(e))}function yt(e,t){return null==e?void 0:e[t]}function vt(e,t){var r=lv(e,t);return cv(r)?r:void 0}function gt(){this.__data__=hv?hv(null):{},this.size=0}function bt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function _t(e){var t=this.__data__;if(hv){var r=t[e];return r===vv?void 0:r}return bv.call(t,e)?t[e]:void 0}function Et(e){var t=this.__data__;return hv?void 0!==t[e]:wv.call(t,e)}function wt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=hv&&void 0===t?Ov:t,this}function St(e){var t=this,r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var o=e[r];t.set(o[0],o[1])}}function Ot(){this.size=0,this.__data__={hash:new xv,map:new(dv||gy),string:new xv}}function Ct(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function xt(e,t){var r=e.__data__;return Tv(t)?r["string"==typeof t?"string":"hash"]:r.map}function kt(e){var t=Av(this,e).delete(e);return this.size-=t?1:0,t}function Tt(e){return Av(this,e).get(e)}function At(e){return Av(this,e).has(e)}function jt(e,t){var r=Av(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function qt(e){var t=this,r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var o=e[r];t.set(o[0],o[1])}}function Rt(e,t){var r=this.__data__;if(r instanceof gy){var n=r.__data__;if(!dv||n.length<Bv-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Nv(n)}return r.set(e,t),this.size=r.size,this}function It(e){var t=this.__data__=new gy(e);this.size=t.size}function Nt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Bt(e,t,r){"__proto__"==t&&Uv?Uv(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Pt(e,t,r){var n=e[t];Vv.call(e,t)&&uy(n,r)&&(void 0!==r||t in e)||Fv(e,t,r)}function Dt(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),o?Fv(r,s,c):Gv(r,s,c)}return r}function Mt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Lt(e){return null!=e&&"object"==typeof e}function Ut(e){return zv(e)&&Fy(e)==Yv}function Ft(){return!1}function Ht(e,t){var r=typeof e;return!!(t=null==t?ag:t)&&("number"==r||"symbol"!=r&&ig.test(e))&&e>-1&&e%1==0&&e<t}function Vt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=cg}function Gt(e){return zv(e)&&lg(e.length)&&!!ug[Fy(e)]}function Qt(e){return function(t){return e(t)}}function Wt(e,t){var r=rg(e),n=!r&&eg(e),o=!r&&!n&&og(e),a=!r&&!n&&!o&&yg(e),i=r||n||o||a,s=i?Wv(e.length,String):[],c=s.length;for(var l in e)!t&&!gg.call(e,l)||i&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||sg(l,c))||s.push(l);return s}function zt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_g)}function Yt(e,t){return function(r){return e(t(r))}}function Jt(e){if(!Eg(e))return Og(e);var t=[];for(var r in Object(e))xg.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Kt(e){return null!=e&&lg(e.length)&&!zy(e)}function Xt(e){return Tg(e)?bg(e):kg(e)}function Zt(e,t){return e&&Qv(t,Ag(t),e)}function $t(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}function er(e){if(!Hy(e))return qg(e);var t=Eg(e),r=[];for(var n in e)("constructor"!=n||!t&&Ig.call(e,n))&&r.push(n);return r}function tr(e){return Tg(e)?bg(e,!0):Ng(e)}function rr(e,t){return e&&Qv(t,Bg(t),e)}function nr(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function or(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a}function ar(){return[]}function ir(e,t){return Qv(e,Qg(e),t)}function sr(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function cr(e,t){return Qv(e,Zg(e),t)}
function lr(e,t,r){var n=t(e);return rg(e)?n:zg(n,r(e))}function ur(e){return eb(e,Ag,Qg)}function pr(e){return eb(e,Bg,Zg)}function dr(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&bb.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function fr(e){var t=new e.constructor(e.byteLength);return new wb(t).set(new wb(e)),t}function hr(e,t){var r=t?Sb(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function mr(e){var t=new e.constructor(e.source,Cb.exec(e));return t.lastIndex=e.lastIndex,t}function yr(e){return Tb?Object(Tb.call(e)):{}}function vr(e,t){var r=t?Sb(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function gr(e,t,r){var n=e.constructor;switch(t){case Lb:return Sb(e);case qb:case Rb:return new n(+e);case Ub:return Ob(e,r);case Fb:case Hb:case Vb:case Gb:case Qb:case Wb:case zb:case Yb:case Jb:return jb(e,r);case Ib:return new n;case Nb:case Db:return new n(e);case Bb:return xb(e);case Pb:return new n;case Mb:return Ab(e)}}function br(e){return"function"!=typeof e.constructor||Eg(e)?{}:$b(Jg(e))}function _r(e){return zv(e)&&vb(e)==t_}function Er(e){return zv(e)&&vb(e)==i_}function wr(e,t,r,n,o,a){var i,s=t&p_,c=t&d_,l=t&f_;if(r&&(i=o?r(e,n,o,a):r(e)),void 0!==i)return i;if(!Hy(e))return e;var u=rg(e);if(u){if(i=_b(e),!s)return Mg(e,i)}else{var p=vb(e),d=p==m_||p==y_;if(og(e))return Dg(e,s);if(p==v_||p==h_||d&&!o){if(i=c||d?{}:e_(e),!s)return c?$g(e,Pg(i,e)):Wg(e,jg(i,e))}else{if(!g_[p])return o?e:{};i=Kb(e,p,s)}}a||(a=new Dv);var f=a.get(e);if(f)return f;a.set(e,i),u_(e)?e.forEach(function(n){i.add(wr(n,t,r,n,e,a))}):a_(e)&&e.forEach(function(n,o){i.set(o,wr(n,t,r,o,e,a))});var h=l?c?rb:tb:c?Bg:Ag,m=u?void 0:h(e);return Mv(m||e,function(n,o){m&&(o=n,n=e[o]),Gv(i,o,wr(n,t,r,o,e,a))}),i}function Sr(e){return S_(e,O_|C_)}function Or(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function Cr(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Or(e.slice(0,0))}function xr(){return{label_asym_id:"",struct_oper_id:"1",label_seq_id:"",exchanges:""}}function kr(e){return x_(e)}function Tr(e,t){var r=t&&"to"===t?"T23:59:59Z":"T00:00:00Z";return e.substring(6)+"-"+e.substring(0,2)+"-"+e.substring(3,5)+r}function Ar(e,t){t.forEach(function(t){return delete e[t]})}function jr(e){var t,r,n=metadata.structure,o=metadata.chemical;if(n.uiAttrMap[e])t=n.uiAttrMap[e],r="text";else{if(!o.uiAttrMap[e])return null;t=o.uiAttrMap[e],r="text_chem"}return Object.assign(t,{attribute:e,service:r}),t}function qr(e,t,r,n,o){void 0===o&&(o="json"),t.referrer=wf.referer,fetch(e,t).then(function(e){if(!e.ok)throw Error(e.status+": "+e.statusText);return"json"===o?e.json():e.text()}).then(function(e){r(e,null,n)}).catch(function(e){console.error(R_,e),r(null,e,n)})}function Rr(e){return e?new Date(e).toLocaleString("en-US"):null}function Ir(e){return"booleans"===e?{appLoaded:!1,countLoading:!1,dataLoading:!1,dev:!1,hasMypdb:!1,addUrl:!0}:"menu-state"===e?{menuIndex:-1,menuItems:[],menuOpen:!1,loading:!1}:"tabular-report"===e?{batch:!1,format:null,mode:null,clicked:[]}:"request-options"===e?{pager:{start:0,rows:25},scoring_strategy:Pm,sort:[{sort_by:"score",direction:"desc"}]}:"request-pager"===e?{start:0,rows:25}:"request-sort"===e?[{sort_by:"score",direction:"desc"}]:"views"===e?{tree:metadata.tree_ids?metadata.tree_ids[0]:null,devObj:null,mypdb:"login",report:Im,search:Bf,tab:jf}:void 0}function Nr(e){return"chemical"===e?{count:-1,parameters:{value:"",type:wm,match_subset:!1,descriptor_type:Sm,match_type:Om}}:"sequence"===e?{count:-1,entry_id:"",parameters:{evalue_cutoff:pm,identity_cutoff:dm,target:um,value:""}}:"seqmotif"===e?{count:-1,placeholder:Zm.sequenceMotifSearch[0],parameters:{value:"",pattern_type:hm,target:lm[0].key}}:"structure"===e?{count:-1,parameters:{operator:"strict_shape_match",value:{entry_id:"",asym_id:""}}}:"strucmotif"===e?{count:-1,value:"",rmsd_cutoff:ym,atom_pairing_scheme:gm,residues:[xr(),xr(),xr()]}:void 0}function Br(e){return document.getElementById(e)}function Pr(e){return document.getElementById(e).value}function Dr(e,t){t||(t="and");var r={type:"group",nodes:[],logical_operator:t};return e&&(r.label=e),r}function Mr(){return Object.assign(Dr(),{id:Fr()})}function Lr(e){return Object.assign(Ur(e),{id:Fr(),count:-1})}function Ur(e){return{type:"terminal",service:e,parameters:{}}}function Fr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function Hr(e){var t=e.query,r=e.return_type;return q_(JSON.stringify(t)+r)}function Vr(e){var t=[];return e.result_set&&e.result_set.forEach(function(e){t.push(e.identifier)}),t}function Gr(e,t){var r,n=t.type;console.log(R_,"getIterable",e,typeof e),Array.isArray(e)?r=e:(e=e.toUpperCase(),r=-1!==e.indexOf(",")?e.split(","):-1!==e.indexOf(" ")?e.split(" "):[e]),on(R_,r,"getIterable: arr");for(var o=[],a=0,i=r.length;a<i;a++){var s=r[a];if("string"==typeof s){if(s=s.trim(),s.length>0)if("integer"===n||"number"===n){if("integer"===n?s=parseInt(s):"number"===n&&(s=parseFloat(s)),isNaN(s))throw t.display_name+" contains an invalid value.";o.push(s)}else o.push(s)}else o.push(s)}return o}function Qr(e){var t={};if(e&&e.length>0)for(var r,n=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e)};null!==(r=n.exec(e));){var a=o(r[1]),i=o(r[2]);t[a]=i}return t}function Wr(e){if(sy[e])return sy[e];var t=jr(e);return t?{type:"item",attribute:e,name:t.display_name,placeholder:"",header_index:-1}:null}function zr(e,t){if(tn(t))return null;for(var r=e.nodes,n=0;n<r.length;n++){var o=r[n];if(o.label===t)return o;if(o.service===t)return o}return null}function Yr(e){var t=e.split(" ");return[{sort_by:t[0],direction:t[1]}]}function Jr(){return"undefined"!=typeof Storage?"session"===Nm?window.sessionStorage:window.localStorage:null}function Kr(e){return e||(e=window.location.search),e&&e.length>0?decodeURIComponent(e.substring(1)):null}function Xr(e){return document.getElementById(e)?document.getElementById(e).offsetWidth:-1}function Zr(e,t){return e?-1!==e.indexOf("text"):(console.warn("isAnyTextService: service IS NULL !!!!!!!!!!!!!!!!!!!! "+t),!1)}function $r(e){return"rcsb_entry_container_identifiers.entry_id"===e||"rcsb_repository_holdings_removed_entry_container_identifiers.entry_id"===e||"rcsb_repository_holdings_unreleased_entry_container_identifiers.entry_id"===e||"rcsb_chem_comp_container_identifiers.comp_id"===e||"rcsb_chem_comp_container_identifiers.prd_id"===e}function en(e){return e&&e.format&&-1!==e.format.indexOf("date")}function tn(e){if(null===e)return!0;var t=typeof e;return"undefined"===t||"function"===t||("object"===t?Array.isArray(e)?0===e.length:0===Object.keys(e).length:"string"===t?0===e.trim().length:"number"===t?isNaN(e):"boolean"!==t)}function rn(e){return e.substring(5,7)+"/"+e.substring(8,10)+"/"+e.substring(0,4)}function nn(e){return e&&-1!==e.indexOf("range")}function on(e,t,r){null!==r&&void 0!==r&&"string"==typeof r||(r="object"),console.log(e+": "+r+"="+dn(t,2))}function an(e,t,r){var n=t;t++;var o,a;if(null==e)return"null";if(Array.isArray(e)){o='<table class="obj">',a=I_++,o+='<thead><tr><th onclick="toggleStateObj('+a+')" class="array">&darr; Array</th><th onclick="toggleAll('+a+')">&darr;&darr;</th></tr></thead>',o+='<tbody class="tbody" id="tbody'+a+'">';for(var i=0,s=e.length;i<s;i++)o+="<tr><td>"+i+"</td><td>"+an(e[i],t,r)+"</td></tr>";return o+="</tbody>",o+="</table>"}if(void 0===e)return"undefined";if("boolean"==typeof e)return e?"true":"false";if("number"==typeof e||"string"==typeof e)return e;if("function"==typeof e)return"function";if("object"==typeof e){o='<table class="obj">',a=I_++,o+='<thead><tr><th onclick="toggleStateObj('+a+')" class="object">&darr; Object</th><th onclick="toggleAll('+a+')">&darr;&darr;</th></tr></thead>',o+=0===n?'<tbody id="tbody'+a+'">':'<tbody class="tbody" id="tbody'+a+'">';for(var c in e)if(r.includes(c)){var l=Array.isArray(e[c])?e[c].length:typeof e[c];o+="<tr><td>"+c+" ["+l+"]</td><td>[exclude]</td></tr>"}else o+="<tr><td>"+c+"</td><td>"+an(e[c],t,r)+"</td></tr>";return o+="</tbody>",o+="</table>"}return"unkown"}function sn(e){return'"'+e+'"'}function cn(e){return e.replace(/<b>/g,"").replace(/<\/b>/g,"").replace(/<em>/g,"").replace(/<\/em>/g,"")}function ln(e){return e[0].sort_by+" "+e[0].direction}function un(e,t,r,n){var o=document.getElementById("data-form");o.action=r,n&&(o.target=n,o.rel="noopener"),console.log(R_,"submit: target="+n),e&&"data"===t?o.elements.data.value=JSON.stringify(e):"ids"===t&&(o.elements.ids.value=e),o.submit()}function pn(e){for(var t=""+e;t.length<7;)t="0"+t;return"GO:"+t}function dn(e,t){return(void 0===t||isNaN(t))&&(t=2),JSON.stringify(e,null,t)}function fn(e){return void 0===e||null===e||0===e.trim().length?null:e.trim()}function hn(e,t){var r=t.terminal,n=e[r.id];n.count=-1,n.parameters.negation=!n.parameters.negation}function mn(e,t){var r=t.terminal,n=t.operator,o=r.parameters.operator,a=e[r.id];nn(o)&&nn(n)||(nn(o)?a.parameters.value="":nn(n)&&(a.parameters.value=[])),a.count=-1,a.parameters.operator=n}function yn(e,t){var r=t.terminal,n=t.item,o=e[r.id];if(o.count=-1,n){var a=n.attribute,i=jr(a);o.attrObj=i,o.item=n,Object.assign(o.parameters,{attribute:a,operator:i.default_operator,negation:!1,value:""})}else Ar(o,["attrObj","item","to","from"]),o.parameters={}}function vn(e,t){var r=t.limit,n=t.terminal,o=t.terminal_id;o&&(n=e[o]);var a=e[n.id],i=a.parameters,s=i.attribute,c=i.operator;a.count=-1;var l=t.value;nn(c)?(Array.isArray(i.value)||(i.value=[]),"from"===r?i.value[0]=l:i.value[1]=l):("rcsb_entry_container_identifiers.entry_id"!==s&&"rcsb_entity_container_identifiers.entry_id"!==s&&"rcsb_chem_comp_container_identifiers.comp_id"!==s&&"rcsb_chem_comp_descriptor.InChIKey"!==s||(l=l.toUpperCase()),a.parameters.value=l)}function gn(e,t){on(N_,t,"payload");var r=t.group,n=t.service,o=e[r.id],a=Mr();on(N_,o,"parentGroup"),o.nodes.push(a),e[a.id]=a,On(e,a,n)}function bn(e,t){var r=t.group,n=t.service;On(e,e[r.id],n)}function _n(e,t){var r=t.group,n=t.parentGroup,o=e[n.id];o.nodes=o.nodes.filter(function(e){return e.id!==r.id}),delete e[r.id]}function En(e,t){var r=t.group,n=t.terminal,o=e[r.id];o.nodes=o.nodes.filter(function(e){return e.id!==n.id}),delete e[n.id]}function wn(e,t){var r=t.group,n=e[r.id];n.logical_operator="and"===n.logical_operator?"or":"and"}function Sn(e,t){var r=t.count,n=t.terminal_id;Object.assign(e[n],{count:r})}function On(e,t,r){var n=Lr(r);t.nodes.push(n),e[n.id]=n}function Cn(e,t){var r=t.value,n=t.terminal,o=e[n.id];o.count=-1,o.parameters.value=r}function xn(e,t){e=Object.assign({},e,t);var r=e.rows,n=e.start,o=e.total_count;e.page=n/r+1,e.total_pages=Math.ceil(o/r),e.start_num=n+1;var a=e.page*r;return e.end_num=o<a?o:a,e}function kn(e){var t,r,n;return e&&(r=e.request,n=e.service),r?(console.log(B_,"getQueryBuilder: return qb from request"),t=kr(r.query)):(console.log(B_,"getQueryBuilder: return empty qb, service="+n),t=Nn(n)),r&&(t.map={},Ln(t,t)),Mn(t),t}function Tn(e){e.count=-1;for(var t=0,r=e.nodes.length;t<r;t++)e.nodes[t].count=-1}function An(e,t){if(t){var r=t.service,n=e.map,o=e.nodes,a=zr(e,r);a?a.open=!a.open:(a=Bn(n,r),console.log("setOpen: serviceNode="+a),o.push(a),n[a.id]=a),Mn(e)}}function jn(e,t){var r=Mr();t.nodes.push(r),e[r.id]=r}function qn(e,t,r){var n=Lr(r);t.nodes.push(n),e[n.id]=n}function Rn(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n];r.push({label_asym_id:o.label_asym_id,struct_oper_id:o.struct_oper_id,label_seq_id:o.label_seq_id,exchanges:In(t,o)})}return r}function In(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=n.residue_id,a=n.allowed;if(o.label_asym_id===t.label_asym_id&&o.struct_oper_id===t.struct_oper_id&&o.label_seq_id===t.label_seq_id)return a.join(",")}return""}function Nn(e){e||(e="text"),console.log("getEmptyQueryBuilder",e),console.log("getEmptyQueryBuilder: u.isAnyTextService(service, 10)",Zr(e,10));var t={},r=Bn(t,e),n={open:!0,type:"group",logical_operator:"and",nodes:[r],map:t};return Zr(e,11)&&(t[r.id]=r),n}function Bn(e,t){return Zr(t,12)?Dn(e,t):Pn(t)}function Pn(e){console.log("getSimilarityServiceNode",e);var t={type:"terminal",service:e,open:!0,id:Fr()};return Object.assign(t,Nr(e)),t}function Dn(e,t){console.log("getTextServiceNode",t);var r={type:"group",logical_operator:"and",nodes:[],label:t,is_root:!0,open:!0,id:Fr()};return jn(e,r),qn(e,r.nodes[0],t),r}function Mn(e){for(var t=!1,r=0,n=sm.length;r<n;r++){var o=zr(e,sm[r]);o&&o.open&&(o.showAnd=t,o.open&&(t=!0))}}function Ln(e,t){var r=e.map,n=t.type;if("group"===n){var o=t.label,a=t.nodes;if(o===Jh){var i=a[0],s=a[1],c=i.parameters,l=i.service,u=c.attribute,p=u+"|"+s.parameters.value;console.log("itemKey",p),t.type="terminal",t.attrObj=jr(u),t.item=Wr(p),t.service=l,t.parameters=c,t.id=Fr(),r[t.id]=t,Ar(t,["label","logical_operator","nodes"])}else t.map?e.open=!0:(t.id=Fr(),r[t.id]=t,o&&Zr(o,13)&&(t.count=-1,t.is_root=!0,t.open=!0)),t.nodes.forEach(function(t){Ln(e,t)})}else if("terminal"===n){var d=t.service;if(t.count=-1,Zr(d,14)){if(t.id=Fr(),"full_text"!==d){var f=t.parameters,h=f.attribute,m=f.operator;t.attrObj=jr(h),t.item=Wr(h),en(t.attrObj)&&(nn(m)?t.parameters.value=[rn(t.parameters.value[0]),rn(t.parameters.value[1])]:t.parameters.value=rn(t.parameters.value))}e.map[t.id]=t}else if(t.open=!0,delete t.map,"sequence"===d){var y=100*t.parameters.identity_cutoff;Object.assign(t.parameters,{identity_cutoff:y})}else if("strucmotif"===d){var v=t.parameters,g=v.value,b=v.exchanges,_=v.rmsd_cutoff,E=v.atom_pairing_scheme,w=Rn(g.residue_ids,b);Object.assign(t,{value:g.entry_id,residues:w,rmsd_cutoff:_,atom_pairing_scheme:E}),delete t.parameters,delete t.id}}}function Un(e,t){var r=t.request.request_info.query_id,n=kr(t.request);delete n.request_options.pager,t.request=n;var o=kr(e),a=o.map,i=o.ids;for(a[r]?a[r].last_run=Date.now():(i.unshift(r),t.last_run=Date.now(),a[r]=t,o.id=r),console.log(P_,"add query_id="+r+", ids.length="+i.length);i.length>Tm;){delete a[i.pop()]}return Jr().setItem("history",JSON.stringify(o)),o}function Fn(e,t){var r=kr(e),n=r.ids;return r.ids=n.filter(function(e){return e!==t}),delete r.map[t],r.id===t&&(r.id=null),Jr().setItem("history",JSON.stringify(r)),r}function Hn(){return{map:{},ids:[],id:null}}function Vn(e,t){for(var r=e.drilldown,n=t.attribute,o=0,a=r.length;o<a;o++)if(r[o].attribute===n){r[o].maxGroups+=10;break}}function Gn(e,t){for(var r=t.attribute,n=t.value,o=t.checked,a=e.drilldown,i=0,s=a.length;i<s;i++)if(a[i].attribute===r){var c=a[i].groups;if(c){for(var l=0,u=c.length;l<u;l++)if(c[l].label===n){c[l].checked=o;break}break}}}function Qn(e,t,r){on(D_,r,"setProps: "+t+": payload");var n=zr(e,t);on(D_,n,"setProps: node BEFORE assign"),r.parameters&&(Object.assign(n.parameters,r.parameters),delete r.parameters),Object.assign(n,r),on(D_,n,"setProps: node")}function Wn(e,t){void 0===e&&(e="query");var r=t.type,n=t.payload;switch(r){case tm:return n.alignmentView;default:return e}}function zn(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Lf:return Object.assign({},e,n);default:return e}}function Yn(e,t){void 0===e&&(e=1170);var r=t.type,n=t.payload;switch(r){case Uf:return n.containerWidth;default:return e}}function Jn(e,t){void 0===e&&(e=Af);var r=t.type,n=t.payload;switch(r){case Ff:return n.control;default:return e}}function Kn(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Lh:var o=kr(e),a=n.attribute,i=n.checked;return console.log(M_,a,i),o.map[a].checked=i,o;case Uh:return n.data;case Fh:var s=n.attributes,c=kr(e),l=c.map;return Object.keys(l).forEach(function(e){return l[e].checked=!1}),s.forEach(function(e){l[e]&&(l[e].checked=!0)}),c;default:return e}}function Xn(e,t){void 0===e&&(e=1200);var r=t.type,n=t.payload;switch(r){case Hf:return n.cw;default:return e}}function Zn(e,t){void 0===e&&(e={map:{},ids:[],id:null});var r=t.type,n=t.payload;switch(r){case Bh:return Object.assign({},e,n);case Nh:return n.history;case Ph:return Un(e,n);case Dh:return Fn(e,n.id);case Mh:return Hn(e);default:return e}}function $n(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Vf:return n;default:return e}}function eo(e,t){void 0===e&&(e={rows:25,start:0,total_count:0});var r=t.type,n=t.payload;switch(r){case Gf:return xn(e,n);default:return e}}function to(e,t){void 0===e&&(e=null);var r,n,o,a=t.type,i=t.payload;switch(a!==ah&&e&&(r=kr(e),o=r.map,r.count=-1,0===a.indexOf("QB_STRUCTURAL_MOTIF")&&(n=zr(r,"strucmotif").residues)),a){case ah:return kn(i);case ih:return Tn(r),r;case ch:return r&&Object.assign(r,i),r;case sh:return An(r,i),r;case lh:return Sn(o,i),r;case yh:return gn(o,i),r;case vh:return bn(o,i),r;case gh:return _n(o,i),r;case bh:return En(o,i),r;case _h:return yn(o,i),r;case Eh:return wn(o,i),r;case wh:return hn(o,i),r;case Sh:return mn(o,i),r;case Oh:return vn(o,i),r;case uh:return gn(o,i),r;case ph:return bn(o,i),r;case dh:return _n(o,i),r;case fh:return En(o,i),r;case hh:return wn(o,i),r;case mh:return Cn(o,i),r;case Ch:return Qn(r,"chemical",i),r;case xh:return Qn(r,"sequence",i),r;case kh:return Qn(r,"seqmotif",i),r;case Ah:return Qn(r,"strucmotif",i),r;case jh:return n.push(i),Object.assign(zr(r,"strucmotif"),{count:-1}),r;case qh:return n.splice(i,1),Object.assign(zr(r,"strucmotif"),{count:-1}),r;case Rh:var s=n[i.index];return delete i.index,Object.assign(s,i),Object.assign(zr(r,"strucmotif"),{count:-1}),r;case Th:return Qn(r,"structure",i),r;default:return e}}function ro(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case zf:return n.request;default:return e}}function no(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Yf:return n.html;default:return e}}function oo(e,t){void 0===e&&(e="entry");var r=t.type,n=t.payload;switch(r){case Jf:return n.returnType;default:return e}}function ao(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload,o=kr(e);switch(r){case Wf:return Vn(o,n),o;case Qf:return Gn(o,n),o;case Kf:return null!==n&&n.data?(n.data.drilldown||(n.data.drilldown=o&&o.drilldown?o.drilldown:null),n.data):null;default:return e}}function io(e,t){void 0===e&&(e={all:!0,ids:[]});var r=t.type,n=t.payload;switch(r){case Xf:var o=!e.all;return Object.assign({},e,{all:o});case $f:var a=n.id,i=n.checked;"_"!==a.charAt(4)&&"-"!==a.charAt(4)||(a=a.substring(0,4));var s=[].concat(e.ids);if(i&&!s.includes(a))s.push(a);else{var c=s.indexOf(a);-1!==c&&s.splice(c,1)}return Object.assign({},e,{ids:s});case Zf:return Object.assign({},e,{all:!0,ids:[]});default:return e}}function so(e,t){void 0===e&&(e=Ir("request-sort"));var r=t.type,n=t.payload;switch(r){case eh:return n.sort;default:return e}}function co(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case th:return n;default:return e}}function lo(e,t){void 0===e&&(e=Ir("tabular-report"));var r=t.type,n=t.payload;switch(r){case Hh:return Object.assign({},e,n);default:return e}}function uo(e,t){void 0===e&&(e={});var r=t.type,n=t.payload,o=kr(e);switch(r){case Ih:console.log(M_,r);var a=n.tree_id,i=n.tree;return o[a]=i,o;default:return e}}function po(e,t){void 0===e&&(e={arr:[],index:0,history_index:0});var r=t.type,n=t.payload,o=kr(e);switch(r){case oh:var a=n.urlObj;return a.index=o.arr.length,o.arr.push(a),o.index=o.arr.length-1,o;case rh:return Object.assign(o,n),o;default:return e}}function fo(e,t){void 0===e&&(e=Ir("views"));var r=t.type,n=t.payload;switch(r){case nh:return Object.assign({},e,n);default:return e}}function ho(e){var t=e.query,r=e.request_info,n=r?r.query_id:null;on(F_,t,"checkForMalformedQuery: query");var o=!1,a=!0;if("group"===t.type?t.nodes.forEach(function(e){var t=e.type,r=e.label,n=e.service;if("group"===t&&r&&Zr(r)||"terminal"===t&&n&&!Zr(n)){if("group"===t&&"text"===r){var i=[];jo(e,i),i.forEach(function(e){var t=e.parameters;if(!t)throw"No parameters found. The request format is no longer supported. "+H_;var r=t.attribute;if(r){"struct.pdbx_descriptor"===r&&(r=qo(e,"struct.pdbx_descriptor"),o=!0);var n=jr(r);if(!n)throw'The attribute "'+r+'" is no longer supported. '+H_;"text"!==n.service&&(console.log("attrObj.service NOT EQUALS text"),a=!1),"input-group"!==e.label||n.is_iterable||(console.log("input-group FOUND FOR NON-ITERABLE attrObj"),a=!1)}else console.log("attribute DOES NOT EXIST"),a=!1})}}else console.log("INVALID NODE"),a=!1}):(console.log("TOP-LEVEL NODE IS A TERMINAL NODE"),a=!1),console.log("checkForMalformedQuery: modified="+o),console.log("checkForMalformedQuery: valid="+a),!a&&t.nodes&&n&&("stats"===n||"growth_stats"===n)){if(1===t.nodes.length&&"terminal"===t.nodes[0].type)e.query=_o(t.nodes[0]);else{t=So(t,"group"===t.type?t.nodes[0].service:t.service),e.query=So(t)}r.query_id=Hr(e),o=!0,a=!0}if("group"===t.type&&"strucmotif"===t.nodes[0].service){e.query=t;var i=e.query.nodes[0].parameters;i.rmsd_cutoff||(i.rmsd_cutoff=ym),i.atom_pairing_scheme||(i.atom_pairing_scheme=gm),void 0!==i.score_cutoff&&delete i.score_cutoff,i.value&&void 0!==i.value.data&&(i.value.entry_id=i.value.data,delete i.value.data),o=!0,a=!0}if(!a){var s={services:[],groupLabels:[],terminalLabels:[],fulltextNodes:[],textNodes:[],textchemNodes:[],nontextNodes:[],errors:[],numTerminalNodes:0};Ao(t,s),on(F_,s,"checkForMalformedQuery: queryObj");var c=s.terminalLabels,l=s.fulltextNodes,u=s.textNodes,p=s.textchemNodes,d=s.nontextNodes,f=s.errors,h=s.numTerminalNodes;if(f.length)throw"request query contains error(s): "+f.join(" ")+H_;if(l.length+u.length+p.length+d.length+f.length!==h&&console.error("checkForMalformedQuery: INVALID numTerminalNodes"),!a&&1===h){var m;l.length?m=l[0]:u.length?m=u[0]:p.length?m=p[0]:d.length&&(m=d[0]);var y=m.service;console.log("checkForMalformedQuery: numTerminalNodes === 1: service="+y),Zr(y)&&("text"!==y&&"text_chem"!==y||!c.includes("input-group")||Oo(m),"terminal"===m.type&&(m=So(m)),m=So(m,y)),e.query=So(m),o=!0,a=!0}if(!a){var v=Dr();if(l.length){var g;1===l.length?g=So(l[0]):(g=Dr(null,"or"),l.forEach(function(e){g.nodes.push(e)})),g=So(g,"full_text"),v.nodes.push(g)}if(u.length){u.forEach(function(e){"input-group"===e.label&&Oo(e)});var b=t;if(To(b),mo(b),"group"==b.type){var _=!1;b.nodes.forEach(function(e){"terminal"===e.type&&(_=!0)}),_&&(b=So(b))}else b=So(b),b=So(b);b.label="text",v.nodes.push(b)}if(p.length){p.forEach(function(e){"input-group"===e.label&&Oo(e)});var E;1===p.length&&(E=So(p[0]),E=So(E,"text_chem"),v.nodes.push(E))}d.forEach(function(e){v.nodes.push(e)}),e.query=v,o=!0,a=!0}}ko(e.query),o?on(F_,e.query,"checkForMalformedQuery: query AFTER MODIFICATION"):console.log("checkForMalformedQuery: query UNMODIFIED")}function mo(e){for(var t={value:!0},r=1;t.value&&(Co(e,null,-1,t),!(++r>10)););}function yo(e,t,r){var n,o;if(e){var a=jr(e),i=a.default_operator,s=a.nestedAttribute;if(o=a.service,"in"===i&&(t=[t]),s&&r){n=Dr(Jh);var c=Ur(o),l=Ur(o),u=jr(s.attribute);c.parameters={attribute:e,operator:i,value:t},l.parameters={attribute:s.attribute,operator:u.default_operator,value:r},n.nodes=[c,l]}else n=Ur(o),n.parameters={attribute:e,operator:i,value:t}}else o=Yh,n=Ur(o),n.parameters.value=t;return n=So(n),n=So(n,o),n=So(n),bo(n)}function vo(e,t,r){var n={query:e,return_type:t,request_options:{return_counts:!0}};return r&&(n.request_info={query_id:r}),n}function go(e){return"/search?request="+encodeURIComponent(JSON.stringify(e))}function bo(e,t){var r=Ir("request-options");t||(t=Bm);var n={query:e,return_type:t,request_options:r};return wo(n),n}function _o(e){var t=e.service;return e=So(e),e=So(e,t),So(e)}function Eo(e){if(!e||!e.type)return!1;var t={found:!1};return xo(e,t),t.found}function wo(e){e.request_info||(e.request_info={}),e.request_info.query_id||(e.request_info.query_id=Hr(e))}function So(e,t){var r=Dr(t);return r.nodes.push(e),r}function Oo(e){var t=e.parameters,r=t.attribute,n=t.negation,o=t.value,a=jr(r),i=a.service,s=a.is_iterable,c=a.default_operator,l=[];s?Ar(e,["input_group"]):(o.forEach(function(e){l.push({type:"terminal",service:i,parameters:{attribute:r,operator:c,negation:n,value:e}})}),e.nodes=l,e.logical_operator=n?"and":"or",e.type="group",Ar(e,["service","parameters","label","node_id"]))}function Co(e,t,r,n){if(n.value=!1,!e.label===Jh&&delete e.label,"group"===e.type)if(e.nodes=e.nodes.filter(function(e){return"terminal"===e.type||e.nodes.length}),1===e.nodes.length){var o=e.nodes[0];t?(t.nodes[r]=o,n.value=!0):(Object.assign(e,o),"terminal"===o.type&&(delete e.nodes,delete e.logical_operator),n.value=!0)}else e.nodes.forEach(function(t,r){Co(t,e,r,n)})}function xo(e,t){!1===t.found&&("group"===e.type?e.nodes.forEach(function(e){return xo(e,t)}):!e.parameters||"exists"!==e.parameters.operator&&tn(e.parameters.value)||(t.found=!0))}function ko(e){"group"===e.type?(e.label&&e.label!==Jh&&!Zr(e.label)&&e.label!==Kh&&delete e.label,e.nodes.forEach(function(e){return ko(e)})):delete e.node_id}function To(e){"group"===e.type&&(e.nodes=e.nodes.filter(function(e){return"group"===e.type||"text"===e.service}),e.nodes.forEach(function(e){return To(e)}))}function Ao(e,t){var r=e.type,n=e.label,o=e.service,a=e.nodes,i=e.parameters;if("group"===r)n&&!t.groupLabels.includes(n)&&t.groupLabels.push(n),a.forEach(function(e){return Ao(e,t)});else if(t.numTerminalNodes++,n&&!t.terminalLabels.includes(n)&&t.terminalLabels.push(n),t.services.includes(o)||t.services.push(o),"text"===o)if(i){var s=i.attribute;if(s){"struct.pdbx_descriptor"===s&&(s=qo(e,"struct.pdbx_descriptor"));var c=jr(s);c?"text_chem"===c.service?(e.service="text_chem",t.textchemNodes.push(e)):t.textNodes.push(e):t.errors.push('The "'+s+'" attribute is no longer supported. ')}else{var l=e.parameters.value;"*"===l?t.errors.push('Full text wildcard search using "*" is no longer supported. '):(e.service="full_text",delete e.parameters.negation,t.fulltextNodes.push(e))}}else t.errors.push("No parameters found. The request format is no longer supported. ");else t.nontextNodes.push(e)}function jo(e,t){"group"===e.type?e.nodes.forEach(function(e){return jo(e,t)}):t.push(e)}function qo(e,t){return"struct.pdbx_descriptor"===t&&(t="struct_keywords.pdbx_keywords",e.parameters.attribute=t),t}function Ro(e){var t=kr(e.query);mo(t);var r="";return r+="group"===t.type?Io(t,"root"):No(t)}function Io(e,t){var r="",n=e.logical_operator,o=e.nodes;r+="root"===t?"":"( ";var a=[];return o.forEach(function(e){"terminal"===e.type?a.push(No(e)):a.push(Io(e,!1))}),r+=a.join(Po(n)),r+="root"===t?"":" )"}function No(e){var t,r,n,o,a,i,s,c,l,u,p,d,f,h,m,y,v,g,b,_,E,w,S,O=[],C=e.service,x=e.parameters;if(x&&(s=x.attribute,g=x.descriptor_type,c=x.evalue_cutoff,S=x.exchanges,l=x.identity_cutoff,v=x.match_subset,b=x.match_type,p=x.negation,d=x.operator,u=x.pattern_type,f=x.target,y=x.type,h=x.value,E=x.rmsd_cutoff,w=x.atom_pairing_scheme,S=x.exchanges,x.value&&(m=x.value.entry_id,_=x.value.residue_ids)),"full_text"===C)i="",h=Bo(h),O.push("Full Text = "+h);else if("text"===C||"text_chem"===C){i="";var k=jr(s);null===k?console.error("attrObj IS NULL FOR "+s):(i+=k.display_name,i+=p?Po("not"):"","exists"===d?i+=" "+Po(d):(h=Bo(h,d,k),"number"==typeof h?("in"===d||nn(d))&&(d="exact_match"):("in"===d&&-1===h.indexOf("(")||nn(d))&&(d="exact_match"),i+=d&&"exact_match"!==d?Po(Qh[d]):V_,i+=h),O.push(i))}else if("chemical"===C)t=cm[C]+' Search = <span class="sequence-wrap">'+h+"</span>",t+=Po("where")+ay.query_type+V_+ay[y],"formula"===y?t+=Po("and")+ay.match_subset+V_+v:(t+=Po("and")+ay.descriptor_type+V_+ay[g],t+=Po("and")+ay.match_type+V_+ay[b]),O.push(t);else if("seqmotif"===C)r=cm[C]+' = <span class="sequence-wrap">'+h+"</span>"+Po("and")+ay.target+V_+ay[f]+Po("and")+ay.pattern_type+V_+ay[u],O.push(r);else if("sequence"===C)n=cm[C]+' = <span class="sequence-wrap">'+h+"</span>"+Po("and")+ay.target+V_+ay[f]+Po("and")+ay.evalue_cutoff+V_+c+Po("and")+ay.identity_cutoff+V_+l+"%",O.push(n);else if("strucmotif"===C){var T=_.map(function(e){var t=S.find(function(t){return t.residue_id.label_asym_id===e.label_asym_id&&t.residue_id.struct_oper_id===e.struct_oper_id&&t.residue_id.label_seq_id===e.label_seq_id}),r=t?" ["+t.allowed.join(",")+"]":"";return e.label_asym_id+"_"+e.struct_oper_id+"-"+e.label_seq_id+r}).join(Po("and"));o=cm[C]+' = <span class="sequence-wrap">'+m+" ("+T+")</span>"+Po("and")+ay.rmsd_cutoff+V_+E+Po("and")+ay.atom_pairing_scheme+V_+sn(ay[w]),O.push(o)}else if("structure"===C){var A=h.assembly_id?ay.assembly_id+V_+sn(h.assembly_id):ay.asym_id+V_+sn(h.asym_id),j=[ay.entry_id+V_+sn(h.entry_id),A,ay.shape_match+V_+sn(ay[d])];a=cm[C]+Po("where")+"( "+j.join(Po("and"))+" )",O.push(a)}return O.join(Po("and"))}function Bo(e,t,r){if(r&&r.format&&"date"===r.format)return Array.isArray(e)?"[ "+rn(e[0])+" - "+rn(e[1])+" ]":rn(e);if("string"==typeof e)return sn(e);if(t&&Array.isArray(e)){if(nn(t))return"[ "+e[0]+" - "+e[1]+" ]";if("in"===t)return 1===e.length?e[0]:"("+e.join(", ")+")"}return e}function Po(e){return" <strong>"+e.toUpperCase()+"</strong> "}function Do(e,t,r,n){if(0===n.indexOf("/search/browse")){var o="/search/browse"===n?Ir("views").tree:n.replace("/search/browse/","");console.log(G_,"tree_id="+o),Mo(t,r,nh,{tab:qf,tree:o})}else if(0===n.indexOf("/search/mypdb")){var a="/search/mypdb"===n?e.mypdb?"queries":"login":n.replace("/search/mypdb/","");Mo(t,r,nh,{tab:Rf,mypdb:a})}else{var i="/search"===n||"/search/advanced"===n?"text":n.replace("/search/advanced/","");console.log(G_,"service="+i),Mo(t,r,nh,{tab:jf}),Mo(t,r,ah,{service:i}),Mo(t,r,Vf,{type:zm,value:Qm.advancedSearchNoQuery})}}function Mo(e,t,r,n){t?t(r,n):e({type:r,payload:n})}function Lo(e){return Q_.test(e)}function Uo(e){return W_.test(e)}function Fo(e){return e=parseFloat(e),!isNaN(e)||(alert("Sequence E-Value Cutoff must be a value in scientific, decimal or integer notation"),!1)}function Ho(e){return e=parseInt(e),!!(Number.isInteger(e)&&e>=0&&e<=100)||(alert("Sequence Identity Cutoff must be an integer between 0 and 100 inclusive, representing a percentage value"),!1)}function Vo(e,t){if(!Qo(e))return!1;if(!z_[t].test(e)){var r=ay[t]+" sequences may only contain the characters "+Y_[t]+"\n";r+=X_;for(var n in Y_)r+=ay[n]+": "+Y_[n]+"\n";return alert(r),!1}return!0}function Go(e){return!(e.length<jm)||(alert("The sequence motif must contain at least "+jm+" characters"),!1)}function Qo(e){return!(e.length<Am)||(alert("The sequence must contain at least "+Am+" residues"),!1)}function Wo(e){for(var t=0;t<K_;t++){var r=J_[t];if(z_[r].test(e))return r}return null}function zo(e,t){try{var r=e(),n=r.queryBuilder,o=r.returnType,a=kr(n);Ar(a,$_),a.nodes=a.nodes.filter(function(e){return e.open}),a.nodes.forEach(function(e){if("group"===e.type?sa(e):oa(e),e.is_invalid)throw e.service+" is invalid"}),a.nodes=a.nodes.filter(function(e){return!e.is_empty});var i=Ko(a.nodes,o);if(console.log(Z_,"getRequest: proceed",i),i){if(a.nodes.length)return t?vo(a,o):bo(a,o);alert(Qm.emptyQuery)}}catch(e){console.log(e)}return null}function Yo(e,t){var r=e(),n=r.returnType,o=t.service?t.service:t.label,a=kr(t);return Zr(o,3)?sa(a,!0):oa(a,!0),a.is_empty||a.is_invalid?null:vo(a,n)}function Jo(e,t){var r=e(),n=r.returnType;try{var o=kr(t),a=o.id,i=o.service;"full_text"===i?da(o):pa(o),o.label=i;return vo(o,n,a)}catch(e){return console.log(Z_,"getTerminalCountRequest",e),alert(e),null}}function Ko(e,t){for(var r,n=!0,o=0,a=e.length;o<a;o++){var i=e[o];if("terminal"===i.type){if("sequence"===i.service&&"polymer_entity"!==t){r=Qm.sequenceReturnType.replace("<RETURN_TYPE>",ny[t].value);break}if("seqmotif"===i.service&&"polymer_entity"!==t){r=Qm.seqmotifReturnType.replace("<RETURN_TYPE>",ny[t].value);break}if("strucmotif"===i.service&&"assembly"!==t){r=Qm.strucmotifReturnType.replace("<RETURN_TYPE>",ny[t].value);break}if("structure"===i.service){var s=i.parameters&&i.parameters.value&&!!i.parameters.value.assembly_id,c=i.parameters&&i.parameters.value&&!!i.parameters.value.asym_id;if("assembly"!==t&&s){r=Qm.structureAssemblyIdReturnType.replace("<RETURN_TYPE>",ny[t].value);break}if("polymer_entity"!==t&&c){
r=Qm.structureAsymIdReturnType.replace("<RETURN_TYPE>",ny[t].value);break}}}}return r&&(confirm(r)||(n=!1)),n}function Xo(e,t,r){if("string"==typeof e&&(e=e.trim()),console.log(Z_,"getValue: value=",e),console.log(Z_,"getValue: u.isDate(attrObj)=",en(t)),tn(e))throw t.display_name+" contains an empty or invalid value.";return t.is_iterable?e=Gr(e,t):"number"===t.type?nn(r)?(e[0]=parseFloat(e[0]),e[1]=parseFloat(e[1])):e=parseFloat(e):"integer"===t.type?nn(r)?(e[0]=parseInt(e[0]),e[1]=parseInt(e[1])):e=parseInt(e):en(t)&&(nn(r)?(e[0]=Tr(e[0],"from"),e[1]=Tr(e[1],"to")):e=Tr(e)),e}function Zo(e){return{label_asym_id:e.label_asym_id,struct_oper_id:e.struct_oper_id,label_seq_id:+e.label_seq_id}}function $o(e,t){"group"===e.type?(Ar(e,aE),e.nodes.forEach(function(e){return $o(e,t)})):"terminal"===e.type&&pa(e)}function ea(e,t){var r=e.parameters,n=r.value,o=r.type;tn(n)?(t&&alert("Enter a value."),e.is_empty=!0):"formula"===o?Ar(r,["descriptor_type","match_type"]):Ar(r,["match_subset"])}function ta(e,t){"group"===e.type?(Ar(e,aE),e.nodes.forEach(function(e){return ta(e,t)})):"terminal"===e.type&&da(e)}function ra(e,t){var r=e.parameters,n=r.value;tn(n)?(t&&alert("Enter a sequence motif"),e.is_empty=!0):Go(n)||(e.is_invalid=!0)}function na(e,t){var r=e.parameters,n=r.evalue_cutoff,o=r.identity_cutoff,a=r.target,i=r.value;tn(i)?(t&&alert("Enter a sequence, either directly, or by entering a PDB ID and selecting a value from the menu."),e.is_empty=!0):Vo(i,a)&&Fo(n)&&Ho(o)?(r.evalue_cutoff=parseFloat(n),r.identity_cutoff=parseInt(o)/100):e.is_invalid=!0}function oa(e,t){Ar(e,tE);var r=e.service;"chemical"===r?ea(e,t):"sequence"===r?na(e,t):"seqmotif"===r?ra(e,t):"strucmotif"===r?ia(e,t):"structure"===r&&aa(e,t)}function aa(e,t){var r=e.parameters,n=r.value,o=n.entry_id;(tn(o)||4!==o.length)&&(t&&alert("Enter a PDB ID"),tn(o)?e.is_empty=!0:e.is_invalid=!0)}function ia(e,t){on(Z_,e,"nodeToStrucmotifQuery: node");var r,n=e.residues,o=e.rmsd_cutoff,a=e.value,i=e.atom_pairing_scheme,s=!0,c=!0;if(tn(a)?(s=!1,r="PDB ID is empty. "):4!==a.trim().length&&(s=!1,c=!1,r="PDB ID is of invalid length. "),n=n.filter(function(e){return!(tn(e.label_asym_id)&&tn(e.label_seq_id))}),e.residues=n,n.length>0&&(c=!1),n.length>=3)for(var l=0;l<n.length;l++){var u=n[l],p=u.label_asym_id,d=u.label_seq_id;if(tn(p)||tn(d)){s=!1,r="Each residue must have a defined Chain ID, Operator, and Residue Number. ";break}}else s=!1,r+="Three or more residues must be defined. ";if(console.log(Z_,"nodeToStrucmotifQuery: valid=",s),console.log(Z_,"nodeToStrucmotifQuery: empty=",c),on(Z_,n,"nodeToStrucmotifQuery: residues"),e.is_empty=c,!c)if(s){var f={type:"terminal",service:"strucmotif",parameters:{value:{entry_id:a,residue_ids:n.map(function(e){return Zo(e)})},rmsd_cutoff:+o,atom_pairing_scheme:i,exchanges:n.filter(function(e){return e.exchanges}).map(function(e){return{residue_id:Zo(e),allowed:e.exchanges.split(",")}})},label:$h};Object.assign(e,f),Ar(e,["value","residues","rmsd_cutoff"])}else alert("Structure Motif query is invalid. "+r),e.is_invalid=!0}function sa(e,t){Ar(e,eE),la(e),"full_text"===e.label?ta(e,t):$o(e,t),e.nodes.length||(e.is_empty=!0)}function ca(e){e.nodes.forEach(function(e){"group"===e.type&&ca(e)}),e.nodes=e.nodes.filter(function(e){return"group"!==e.type||"group"===e.type&&e.nodes.length})}function la(e){ua(e),ca(e)}function ua(e){e.nodes=e.nodes.filter(function(e){return"group"===e.type||("exists"===e.parameters.operator||(!tn(e.parameters.value)||void 0))}),e.nodes.forEach(function(e){"group"===e.type&&ua(e)})}function pa(e){var t=e.attrObj,r=e.item,n=e.parameters,o=t.service,a=r.nested_attribute,i=r.nested_attribute_value,s=(n.negation,n.operator);if("exists"===s?delete n.value:n.value=Xo(n.value,t,s),Ar(e,nE),a){var c=kr(e);e.type="group",e.logical_operator="and",e.nodes=[c,{type:"terminal",service:o,parameters:{attribute:a,operator:"exact_match",value:i,negation:!1}}],e.label=Jh,Ar(e,oE)}}function da(e){Ar(e,rE)}function fa(e,t,r){return function(n,o){ga(bo(_o(Oa(e,t)),r),"attributeValueSearch")(n,o)}}function ha(e,t){return console.log(iE,"countSearch: type="+e),function(r,n){var o;"qb"===e?o=zo(n,sE):"service"===e?o=Yo(n,t):"node"===e&&(o=Jo(n,t)),ga(o,"countSearch")(r,n)}}function ma(e){return function(t,r){if(e){for(var n,o=r(),a=o.history,i=o.request,s=a.id,c=a.ids,l=a.map,u=c.length,p=0;p<u&&(c[p]!==i.request_info.query_id||("prev"===e?p<u-1&&(n=l[c[p+1]]):p>0&&(n=l[c[p-1]]),!n));p++);n||(n=l[s]),n&&(t({type:Lf,payload:{addUrl:!1}}),ga(n.request,"prevNextSearch")(t,r))}}}function ya(){return function(e,t){ga(zo(t),"queryBuilderSearch")(e,t)}}function va(){return function(e,t){var r=t(),n=r.request,o=r.searchResults,a=n.query,i=o.drilldown,s=o.result_type,c="mol_definition"===s?"text_chem":"text",l="mol_definition"===s?"chemical":"structure",u=zr(a,c);u||(u=Dr(c),a.nodes.push(u));for(var p=[],d=0;d<i.length;d++){var f=i[d],h=f.attribute,m=f.groups,y=[];if(m){for(var v=0,g=m.length;v<g;v++){var b=m[v],_=b.checked,E=b.label;if(_){var w=metadata[l].facetFilters[h]?wa(c,l,h,E):Sa(c,h,E);y.push(w)}}if(y.length){var S=Dr(null,"or");S.nodes=y,p.push(S)}}}if(p.length){p.forEach(function(e){mo(e)});var O=Dr();O.nodes=p,u.nodes.push(O),ga(n,"refinementSearch")(e,t)}else alert("No Refinements have been selected")}}function ga(e,t){return function(r,n){if(e){var o="countSearch"===t?Gh:Vh,a="countSearch"!==t,i=!0,s=!0,c=!0;"countSearch"===t?(i=!1,s=!1,c=!1):"queryBuilderSearch"===t&&(i=!1,c=!1),e.query.label===Kh&&"components/SearchBar"!==t&&"urlSearch"!==t&&delete e.query.label;try{if(c&&ho(e),i&&r({type:ah,payload:{request:e}}),s){var l=e.request_info,u=l?l.query_id:null;u?r({type:Bh,payload:{id:u}}):console.warn("ATTEMPTING TO SET HISTORY BUT query_id IS NULL")}ja(o,e,a)(r,n)}catch(e){r({type:Vf,payload:{type:Wm,value:e+""}})}}}}function ba(){return function(e,t){try{var r=Kr();if(r){var n=Qr(r),o=n.q,a=n.query,i=n.request,s=n.return_type,c=n.rt;if(o||a||i){if(o)console.log(iE,"urlSearch: q="+o),a=_a(o),a=xa(a),i=bo(a,c);else if(a){if(a=JSON.parse(a),a.return_type&&(s=a.return_type,delete a.return_type),a.type||(a.type="terminal"),"terminal"===a.type){if(!a.service)if(a.parameters&&a.parameters.attribute){var l=jr(a.parameters.attribute);a.service=l?l.service:"text"}else a.service="full_text";if(Zr(a.service,2))a=_o(a);else{var u=a.parameters,p=a.service;"structure"===p?u.operator||(u.operator="strict_shape_match"):"sequence"===a.service&&(u.target||(u.target=um),u.evalue_cutoff||(u.evalue_cutoff=pm),u.identity_cutoff||(u.identity_cutoff=dm)),a=Ca(a)}}else{ka(a,"text");var d=[];if(a.nodes.forEach(function(e){"terminal"===e.type&&(console.log(iE+": urlSearch: node.service="+e.service),d.includes(e.service)||d.push(e.service))}),0===d.length)a.label="text",a=So(a);else{if(1!==d.length)throw"query contains multiple terminal nodes of more than one service type";a=So(a,d[0]),a=So(a)}}i=bo(a,s)}else if(i){i=JSON.parse(i);var f=i.request_options;f?i.request_options.pager=Ir("request-pager"):i.request_options=Ir("request-options")}ga(i,"urlSearch")(e,t)}else e({type:Vf,payload:{type:Wm,value:"UNKNOWN ERROR in "+iE+": urlSearch(): qs="+r}})}else e({type:Vf,payload:{type:zm,value:Qm.noQuery}})}catch(t){e({type:Vf,payload:{type:Wm,value:"ERROR: "+t}})}}}function _a(e){if(console.log(iE,"q="+e),tn(e))return null;var t,r,n;return-1!==e.indexOf(Mm)&&(t=e.split(Mm),r="or"),-1!==e.indexOf(Dm)&&(t=e.split(Dm),r="and"),t?(n=Dr(null,r),t.forEach(function(e){return n.nodes.push(Ea(e))})):n=Ea(e),n}function Ea(e){console.log(iE,"getQueryFromStr: s="+e);var t,r,n,o,a=e.indexOf(":"),i=!1;if(-1===a)r=e,n={service:"full_text",parameters:{value:r}};else{t=e.substring(0,a).trim(),r=e.substring(a+1).trim(),"-"===t.substring(0,1)&&(t=t.substring(1),i=!0);var s=jr(t);o=s.service;var c=s.default_operator;if("in"===c&&(r=Gr(r,s)),"exact_match"===c&&"string"!=typeof r&&(r=""+r),0===r.indexOf(">")||0===r.indexOf("<"))c=r.substring(0,1),"="===r.substring(1,2)&&(c+="="),console.log(iE,"operator="+c),r=r.replace(c,"").trim(),c=iy[c],r=-1!==r.indexOf(".")?parseFloat(r):parseInt(r);else if(-1!==r.indexOf(" - ")){var l=r.split(" - ");isNaN(l[0])||isNaN(l[1])||(c="range",r=[parseFloat(l[0]),parseFloat(l[1])])}n={parameters:{attribute:t,negation:i,operator:c,value:r}}}return Object.assign(Ur(o),n)}function wa(e,t,r,n){var o=jr(r),a=metadata[t].facetFilters[r],i=Sa(e,r,n),s=Ur(e);s.parameters=a;var c=Dr();return c.nodes.push(i),c.nodes.push(s),o.nestedAttribute&&o.nestedAttribute.attribute===a.attribute&&(c.label=Jh),c}function Sa(e,t,r){var n;if("rcsb_entry_info.resolution_combined"===t||"chem_comp.formula_weight"===t||"rcsb_chem_comp_info.atom_count_heavy"===t){var o=r.split("-");0===r.indexOf("*")?(n="less",r=parseFloat(o[1])):-1!==r.indexOf("-*")?(n="greater_or_equal",r=parseFloat(o[0])):(n="range",r=[parseFloat(o[0]),parseFloat(o[1])])}else"rcsb_accession_info.initial_release_date"===t||"rcsb_chem_comp_info.initial_release_date"===t?(n="range_closed",r=[r+"-01-01T00:00:00Z",parseInt(r)+4+"-12-31T23:59:59Z"]):n="exact_match";var a=Ur(e);return a.parameters={attribute:t,operator:n,value:r},a}function Oa(e,t){var r={type:"terminal"},n=jr(e),o=n.default_operator,a=n.service,i=o;return"in"===i&&(t=Gr(t,n)),r.service=a,r.parameters={attribute:e,operator:i,value:t},r}function Ca(e){var t=Dr();return t.nodes.push(e),t}function xa(e){var t="group"===e.type?e.nodes[0].service:e.service;if("group"===e.type&&2===e.nodes.length){var r=e.nodes[0].parameters.attribute,n=e.nodes[1].parameters.attribute;("rcsb_polymer_entity_container_identifiers.reference_sequence_identifiers.database_accession"===r&&"rcsb_polymer_entity_container_identifiers.reference_sequence_identifiers.database_name"===n||"rcsb_polymer_entity_annotation.annotation_id"===r&&"rcsb_polymer_entity_annotation.type"===n||"rcsb_polymer_instance_annotation.annotation_lineage.name"===r&&"rcsb_polymer_instance_annotation.type"===n||"rcsb_polymer_entity_annotation.name"===r&&"rcsb_polymer_entity_annotation.type"===n||"rcsb_polymer_entity_annotation.annotation_lineage.name"===r&&"rcsb_polymer_entity_annotation.type"===n||"rcsb_polymer_entity_annotation.annotation_lineage.id"===r&&"rcsb_polymer_entity_annotation.type"===n)&&(e.label=Jh,e=So(e))}return e=So(e,t),So(e)}function ka(e,t){"group"===e.type?e.nodes.forEach(function(e){return ka(e,t)}):e.service||(e.service="text")}function Ta(e){return function(t,r){var n=r(),o=n.booleans,a=n.history,i=n.urls,s=JSON.parse(e.state);if(on(cE,s,"popState: state~~~~~~~~~~~~~~~~~~~"),s){var c=r().urls,l=c.arr,u=c.index,p=c.history_index;u=s.history_index<p?u-1:u+1,u<0&&(u=0),u>l.length-1&&(u=l.length);var d=l[u];t({type:rh,payload:{history_index:s.history_index,index:u}});var f=d.value,h=d.type;if("request"===h){t({type:Lf,payload:{addUrl:!1}});ga(a.map[f].request,cE)(t,r)}else"referrer"===h?window.location=f:"path"===h&&(t({type:Lf,payload:{addUrl:!1}}),Do(o,t,null,f),Aa({path:f}))}else window.location=i[0].value}}function Aa(e){return function(t,r){var n,o=r(),a=o.booleans,i=o.urls,s=i.history_index+1,c={history_index:s};if(e){var l,u,p=e.path,d=e.referrer,f=e.request,h=e.src,m=e.view,y=e.id;f?(l=f.request_info.query_id,u="request",n=lE+"?request="+encodeURIComponent(JSON.stringify(f))):p?(l=p,u="path",n=p):d&&(l=d,u="referrer");var v={value:l,src:h,type:u,view:m,id:y};t(a.addUrl?{type:oh,payload:{urlObj:v}}:{type:Lf,payload:{addUrl:!0}})}else n=lE;history.pushState(JSON.stringify(c),null,n),t({type:rh,payload:{history_index:s}})}}function ja(e,t,r){return function(n,o){n({type:Vf,payload:null});var a,i=Date.now(),s=o().views.report,c=t.query,l="custom_report"===s?o().tabularReport.attributes:null;if(c&&Eo(c)){if(e===Vh){if(t.request_options?t.request_options.pager||(t.request_options.pager=Ir("request-pager")):t.request_options=Ir("request-options"),n({type:zf,payload:{request:t}}),r){a=Ro(t),n({type:Yf,payload:{html:a}});var u=o(),p=u.pager,d=u.returnType;t.return_type!==d&&n({type:Jf,payload:{returnType:t.return_type}}),n({type:eh,payload:{sort:t.request_options.sort}}),n({type:Gf,payload:{start:0}}),t.request_options.pager.rows=p.rows,n({type:Hh,payload:{batch:null,format:null,mode:null}}),n({type:Zf});Aa({request:t,src:uE+".getSearchData"})(n,o)}n({type:nh,payload:{tab:jf}}),n({type:Lf,payload:pE})}else n({type:Lf,payload:dE});var f=JSON.stringify({report:s,request:t,newSearch:r,attributes:l}),h=Object.assign({},Vm,{body:f});qr(xf,h,Na,{reqType:e,request:t,html:a,newSearch:r,dispatch:n,getState:o,start:i})}else alert(Qm.emptyQuery+" !!!!!!!!!!!!!!!!!!!!!!!")}}function qa(e){return function(t,r){var n=r().pager,o=n.rows,a=n.start;a="next"===e?a+o:a-o,t({type:Gf,payload:{start:a}});var i=kr(r().request);i.request_options.pager.start=a,ja(Vh,i,!1)(t,r)}}function Ra(e){return function(t,r){e=parseInt(e);var n={rows:e,start:0};t({type:Gf,payload:n});var o=kr(r().request);o.request_options.pager=n,ja(Vh,o,!1)(t,r)}}function Ia(e){return function(t,r){t({type:eh,payload:{sort:e}}),t({type:Gf,payload:{start:0}});var n=kr(r().request);n.request_options.sort=e,n.request_options.pager.start=0,ja(Vh,n,!1)(t,r)}}function Na(e,t,r){if(console.log("getSearchDataCallback: "+r.reqType+": took="+(Date.now()-r.start)),e)if(e.statusCode&&204!==e.statusCode){var n=e.statusCode+" "+e.msg;Da(r,n)}else{var o=r.reqType;o===Gh?Pa(r,e):Ma(r,e)}else{Da(r,t?t.message:uE+": process: UNKNOWN ERROR")}}function Ba(e,t){Ua(e),La(e)}function Pa(e,t){var r=e.request,n=e.dispatch,o=r.query,a=r.request_info,i=o.label,s=o.service,c=a?a.query_id:null;console.log(uE,"label",i),console.log(uE,"service",s);var l=t.statusCode&&204===t.statusCode?0:t.total_count;n(i&&Zr(i,1)?{type:lh,payload:{count:l,terminal_id:c}}:s===zh?{type:Ch,payload:{count:l}}:s===Zh?{type:kh,payload:{count:l}}:s===Xh?{type:xh,payload:{count:l}}:s===em?{type:Th,payload:{count:l}}:s===$h?{type:Ah,payload:{count:l}}:{type:ch,payload:{count:l}}),n({type:Lf,payload:{countLoading:!1}})}function Da(e,t){var r=e.reqType,n=e.dispatch;console.log(uE,"processDataError:",r,t),n({type:Vf,payload:{type:Wm,value:"ERROR: "+t}}),n({type:Lf,payload:{countLoading:!1,dataLoading:!1}})}function Ma(e,t){var r=e.request,n=e.html,o=e.newSearch,a=e.dispatch,i=(e.getState,t.total_count?t.total_count:0);204===t.statusCode?(a({type:Vf,payload:{type:Ym,value:Qm.noResults}}),a({type:Kf,payload:null})):(t.drilldown&&console.log(uE,"processSearch: data.drilldown.length="+t.drilldown.length),a({type:Kf,payload:{data:t,request:r}}),o&&t.drilldown&&Ba(t,r)),a({type:Gf,payload:{total_count:i}}),a({type:Ph,payload:{request:r,html:n,count:i}}),a({type:Lf,payload:{dataLoading:!1}})}function La(e){var t=e.drilldown,r=e.result_type;if(t){var n=[],o={};e.drilldown.forEach(function(e){return o[e.attribute]=e});("mol_definition"===r?Object.keys(metadata.chemical.drilldownAttributeMap):Object.keys(metadata.structure.drilldownAttributeMap)).forEach(function(e){o[e]&&n.push(o[e])}),e.drilldown=n}}function Ua(e){if(e.drilldown)for(var t=0,r=e.drilldown.length;t<r;t++){var n=function(t,r){var n=e.drilldown[t];if("rcsb_accession_info.initial_release_date"===n.attribute||"rcsb_chem_comp_info.initial_release_date"===n.attribute){if(n.groups){var o={},a=[];n.groups.forEach(function(e){var t=parseInt(e.label),r=t-t%5;o[r]?o[r]+=e.population:(a.push(r),o[r]=e.population)}),a.sort(),n.groups=[],a.forEach(function(e){return n.groups.push({label:""+e,population:o[e],checked:!1})})}return"break"}}(t);if("break"===n)break}}function Fa(e){return function(t,r){var n=r(),o=n.pager,a=n.request,i=n.select,s=i.all,c=i.ids,l="You are requesting to download more than "+xm+' files. This will take a considerable amount of time using the Web interface, since the files can only be downloaded in batches of 50 at a time. \n\nYou may wish to consider using the Batch Download Shell Script. Click the "batch downloads shell script" link on the Download page for more information.';if(hE=Va(e),s){var u=o.total_count;u>xm&&alert(l);var p=kr(a);p.request_options.pager={start:0,rows:u};var d=JSON.stringify({mode:"download-files",reportRequest:p}),f=Object.assign({},Vm,{body:d});qr(Cf,f,Ha,null,"text")}else if(c.length){var h=c.join(",");un(h,"ids",hE)}else alert("No Result IDs have been selected.")}}function Ha(e,t){e?(console.log(fE,": callback: data.length = "+e.length),console.log(fE,": batchDownloadRoute ="+hE),un(e,"ids",hE)):console.log(fE+": callback: "+t)}function Va(e){return"mol_definition"===e?Sf+"/ligands":Sf}function Ga(e){if(__){var t="menu-container-"+__.guid,r=Xa(t);Ka(e.target,r),r.found||("selector-search"===__.name?__.closeMenu():__.setState({menuOpen:!1}))}}function Qa(e){var t=e.keyCode,r=Br("jira-fdbck-modal");if("none"===window.getComputedStyle(r).display){var n=!1;if(__&&"selector-search"!==__.name){var o=__.state,a=o.menuIndex,i=o.menuItems;if(o.menuOpen)if(38===t&&a>-1||40===t&&a<i.length-1){var s=38===t?a-1:a+1;if(-1!==s){"search-bar"===__.name&&"header"===i[s].type&&(38===t?s--:s++);var c=Br("menu"+s);c&&(c.parentNode.scrollTop=Math.max(c.offsetTop-308,0))}__.setState({menuIndex:s})}else if(13===t)if(a>-1&&"header"!==i[a].type)n=!0,__.menuSelect(i[a]);else if("search-bar"===__.name&&-1===a){if(2===i.length){var l=i[1],u=__.state.attributes[l.attrIndex].attribute;if($r(u)){n=!0;var p=cn(l.__html);__.handleSearch(u,p)}}n||(n=!0,w_.search())}}if(!n&&13===t)if(__&&__.state.menuOpen)__.setState({menuOpen:!1});else{var d=b_(),f=d.control;console.log(mE,"handleKeyDown: control="+f),f===Af?E_.search():w_.search()}}}function Wa(e){b_=e}function za(e){E_=e}function Ya(e){w_=e}function Ja(e,t){void 0!==e.menuOpen&&(__&&__.guid!==t.guid&&__.setState({menuOpen:!1}),t.setState(e),__=e.menuOpen?t:null)}function Ka(e,t){if(e){if(e.id&&e.id===t.id)return void(t.found=!0);if(!(++t.count<yE))return;Ka(e.parentNode,t)}}function Xa(e){return{id:e,found:!1,count:0}}function Za(e,t){return function(r,n){console.log(vE,"saveTreeData: tree_id="+e),r({type:Ih,payload:{tree_id:e,tree:t}})}}function $a(){return function(e,t){Wa(t)}}function ei(e,t){return function(r,n){var o=n(),a=o.request,i=o.views;e===i.search&&t===i.report||(r({type:nh,payload:{search:e,report:t}}),i.report!==t&&"create_custom_report"!==t&&(r({type:Gf,payload:{start:0}}),a.request_options.pager.start=0,ja(Vh,a,!1)(r,n)))}}function ti(e,t){return function(r){return r({type:e,payload:t})}}function ri(e,t){var r={};for(var n in e)"function"==typeof e[n]||t.includes(n)||(r[n]=e[n]);return JSON.stringify(r,null,2)}function ni(e){var t=jr(e),r=t.description,n=t.examples,o=t.max,a=t.min,i='<table class="search-tooltip-html">';return i+="<tr><td>Description</td><td>"+r+"</td></tr>",n&&(i+='<tr><td>Examples</td><td><div class="ex">'+n.join('</div><div class="ex">')+"</div></td></tr>"),void 0!==a&&void 0!==o&&(i+="<tr><td>Minimum</td><td>"+a+"</td></tr>",i+="<tr><td>Maximum</td><td>"+o+"</td></tr>"),i+="</table>"}function oi(e){var t=kr(e);delete t.request.request_options.pager;var r=Object.assign({},Gm,{body:JSON.stringify(t)});qr(Fw,r,ai)}function ai(e,t){e?alert("Query saved to MyPDB"):t?alert("An unknown error occurred while saving query to MyPDB: \n\n"+t):alert("An unknown error occurred while saving query to MyPDB")}function ii(e,t){var r=e.request,n=e.returnType,o=e.searchResults,a=e.tabularReport,i=e.views,s=t.batch,c=t.format,l=t.from,u=t.to,p=o.total_count,d=a.attributes,f=i.report,h=li(r,s,l,u,p,xm),m={attributes:d,batch:s,format:c,report:f,reportRequest:h,returnType:n,total_count:p};console.log(ES,"getData: ",s,c,f,d),un(m,"data",Of)}function si(){un(null,"data","/mypdb/account-data")}function ci(e,t){var r=e.request,n=e.searchResults,o=t.batch,a=t.mode,i=t.from,s=t.to,c=n.total_count,l=li(r,o,i,s,c,km),u={batch:o,mode:a,reportRequest:l,total_count:c},p="display"===a?"_blank":null;console.log(ES,"getIds: ",o,a,i,s,p),un(u,"data",Cf,p)}function li(e,t,r,n,o,a){return e=kr(e),e.request_options.pager.start=t?r:0,e.request_options.pager.rows=t?n-r+1:Math.min(o,a),e}function ui(e,t){for(var r=e.toLowerCase(),n=0,o=t.length;n<o;n++){var a=t[n];if(pi(a)&&a.nameLc===r)return a}return null}function pi(e){return"item"===e.type||"item-nested"===e.type}function di(e,t){if("rcsb_accession_info.initial_release_date"===t||"rcsb_chem_comp_info.initial_release_date"===t)return e+" - "+(parseInt(e)+4);if("rcsb_entry_info.resolution_combined"===t||"chem_comp.formula_weight"===t)return 0===e.indexOf("*-")?"< "+e.replace("*-",""):-1!==e.indexOf("-*")?"> "+e.replace("-*",""):e.replace("-"," - ");if("rcsb_chem_comp_info.atom_count_heavy"===t){if(0===e.indexOf("*-"))return"< "+e.replace("*-","");if(-1!==e.indexOf("-*"))return"> "+e.replace("-*","");var r=e.split("-");return parseInt(r[0])+" - "+parseInt(r[1])}return e}function fi(e,t){var r="mol_definition"===t?metadata.chemical.drilldownAttributeMap:metadata.structure.drilldownAttributeMap;return r[e]?r[e]:e}function hi(e){return Vr(e).join(",")}function mi(e){var t=e.data,r=e.sequence_match,n=t.identifier,o=n,a=r[0],i=o+"_alignment.fasta",s="> Query ("+a.query_beg+","+a.query_end+")\n"+a.query_aligned_seq+"\n> Subject: "+o+" ("+a.subject_beg+","+a.subject_end+")\n"+a.subject_aligned_seq+"\n",c=new Blob([s],{type:"text/plain;charset=utf-8"});ix(c,i)}function yi(e,t,r){var n=e.entry_id,o=e.asym_id,a={options:{return_sequence_data:!1},context:{mode:"pairwise",method:{name:"fatcat-rigid"},structures:[{entry_id:n,asym_id:o},{entry_id:t,asym_id:r}]}};return"alignment?query="+encodeURIComponent(JSON.stringify(a))}function vi(e,t,r,n,o,a,i){var s=[{pdbId:e.value.entry_id,props:{kind:"motif",label:e.value.entry_id,targets:e.value.residue_ids}},{pdbId:t,props:{kind:"motif",assemblyId:r,label:t+" #"+n+": "+a+" Å",targets:o},matrix:i}];return"3d-view?loadPdbIds="+encodeURIComponent(JSON.stringify(s))}function gi(e){var t=0;do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t-100}function bi(e){window.scrollTo(0,gi(document.getElementById("tree-item-"+e)))}function _i(e){e.s?e.s=!1:e.ch&&e.ch.forEach(function(e){return _i(e)})}function Ei(e,t){return{type:"group",logical_operator:"and",nodes:[e,t],label:Jh}}function wi(e,t){return{type:"terminal",service:t,parameters:e}}function Si(e){return e=e.trim(),!(e.length<2)&&('"'===e.substring(0,1)&&'"'===e.substring(e.length-1,e.length))}var Oi,Ci="default"in e?e.default:e,xi="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ki=n,Ti=[],Ai=!1,ji=0,qi=1024,Ri=void 0!==xi?xi:self,Ii=Ri.MutationObserver||Ri.WebKitMutationObserver;Oi="function"==typeof Ii?function(e){var t=1,r=new Ii(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}(o):a(o),n.requestFlush=Oi,n.makeRequestCallFromTimer=a;var Ni=null,Bi={},Pi=u;u._Y=null,u._Z=null,u._0=i,u.prototype.then=function(e,t){if(this.constructor!==u)return p(this,e,t);var r=new u(i);return d(this,new v(e,t,r)),r};var Di=[ReferenceError,TypeError,RangeError],Mi=!1,Li=b,Ui=_,Fi={disable:Li,enable:Ui},Hi=Pi,Vi=S(!0),Gi=S(!1),Qi=S(null),Wi=S(void 0),zi=S(0),Yi=S("");Pi.resolve=function(e){if(e instanceof Pi)return e;if(null===e)return Qi;if(void 0===e)return Wi;if(!0===e)return Vi;if(!1===e)return Gi;if(0===e)return zi;if(""===e)return Yi;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new Pi(t.bind(e))}catch(e){return new Pi(function(t,r){r(e)})}return S(e)};var Ji=function(e){return"function"==typeof Array.from?(Ji=Array.from,Array.from(e)):(Ji=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};Pi.all=function(e){var t=Ji(e);return new Pi(function(e,r){function n(a,i){if(i&&("object"==typeof i||"function"==typeof i)){if(i instanceof Pi&&i.then===Pi.prototype.then){for(;3===i._V;)i=i._W;return 1===i._V?n(a,i._W):(2===i._V&&r(i._W),void i.then(function(e){n(a,e)},r))}var s=i.then;if("function"==typeof s){return void new Pi(s.bind(i)).then(function(e){n(a,e)},r)}}t[a]=i,0==--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)n(a,t[a])})},Pi.reject=function(e){return new Pi(function(t,r){r(e)})},Pi.race=function(e){return new Pi(function(t,r){Ji(e).forEach(function(e){Pi.resolve(e).then(t,r)})})},Pi.prototype.catch=function(e){return this.then(null,e)};var Ki={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(Ki.arrayBuffer)var Xi=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Zi=ArrayBuffer.isView||function(e){return e&&Xi.indexOf(Object.prototype.toString.call(e))>-1};T.prototype.append=function(e,t){e=C(e),t=x(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},T.prototype.delete=function(e){delete this.map[C(e)]},T.prototype.get=function(e){return e=C(e),this.has(e)?this.map[e]:null},T.prototype.has=function(e){return this.map.hasOwnProperty(C(e))},T.prototype.set=function(e,t){this.map[C(e)]=x(t)},T.prototype.forEach=function(e,t){var r=this;for(var n in r.map)r.map.hasOwnProperty(n)&&e.call(t,r.map[n],n,r)},T.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),k(e)},T.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),k(e)},T.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),k(e)},Ki.iterable&&(T.prototype[Symbol.iterator]=T.prototype.entries);var $i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];D.prototype.clone=function(){return new D(this,{body:this._bodyInit})},B.call(D.prototype),B.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new T(this.headers),url:this.url})},U.error=function(){var e=new U(null,{status:0,statusText:""});return e.type="error",e};var es=[301,302,303,307,308];U.redirect=function(e,t){if(-1===es.indexOf(t))throw new RangeError("Invalid status code");return new U(null,{status:t,headers:{location:e}})};var ts=self.DOMException;try{new ts}catch(e){ts=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},ts.prototype=Object.create(Error.prototype),ts.prototype.constructor=ts}F.polyfill=!0,self.fetch||(self.fetch=F,self.Headers=T,self.Request=D,self.Response=U);var rs=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,os=Object.prototype.propertyIsEnumerable,as=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,o=arguments,a=H(e),i=1;i<arguments.length;i++){r=Object(o[i]);for(var s in r)ns.call(r,s)&&(a[s]=r[s]);if(rs){n=rs(r);for(var c=0;c<n.length;c++)os.call(r,n[c])&&(a[n[c]]=r[n[c]])}}return a},is=function(e){return e&&e.Math==Math&&e},ss=is("object"==typeof globalThis&&globalThis)||is("object"==typeof window&&window)||is("object"==typeof self&&self)||is("object"==typeof xi&&xi)||Function("return this")(),cs=function(e){try{return!!e()}catch(e){return!0}},ls=!cs(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),us={}.propertyIsEnumerable,ps=Object.getOwnPropertyDescriptor,ds=ps&&!us.call({1:2},1),fs=ds?function(e){var t=ps(this,e);return!!t&&t.enumerable}:us,hs={f:fs},ms=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ys={}.toString,vs=function(e){return ys.call(e).slice(8,-1)},gs="".split,bs=cs(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==vs(e)?gs.call(e,""):Object(e)}:Object,_s=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e},Es=function(e){return bs(_s(e))},ws=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Ss=function(e,t){if(!ws(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!ws(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!ws(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!ws(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},Os={}.hasOwnProperty,Cs=function(e,t){return Os.call(e,t)},xs=ss.document,ks=ws(xs)&&ws(xs.createElement),Ts=function(e){return ks?xs.createElement(e):{}},As=!ls&&!cs(function(){return 7!=Object.defineProperty(Ts("div"),"a",{get:function(){return 7}}).a}),js=Object.getOwnPropertyDescriptor,qs=ls?js:function(e,t){if(e=Es(e),t=Ss(t,!0),As)try{return js(e,t)}catch(e){}if(Cs(e,t))return ms(!hs.f.call(e,t),e[t])},Rs={f:qs},Is=function(e){if(!ws(e))throw TypeError(String(e)+" is not an object");return e},Ns=Object.defineProperty,Bs=ls?Ns:function(e,t,r){if(Is(e),t=Ss(t,!0),Is(r),As)try{return Ns(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e},Ps={f:Bs},Ds=ls?function(e,t,r){return Ps.f(e,t,ms(1,r))}:function(e,t,r){return e[t]=r,e},Ms=function(e,t){try{Ds(ss,e,t)}catch(r){ss[e]=t}return t},Ls=ss["__core-js_shared__"]||Ms("__core-js_shared__",{}),Us=Ls,Fs=Function.toString;"function"!=typeof Us.inspectSource&&(Us.inspectSource=function(e){return Fs.call(e)});var Hs,Vs,Gs,Qs=Us.inspectSource,Ws=ss.WeakMap,zs="function"==typeof Ws&&/native code/.test(Qs(Ws)),Ys=r(function(e){(e.exports=function(e,t){return Us[e]||(Us[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),Js=0,Ks=Math.random(),Xs=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Js+Ks).toString(36)},Zs=Ys("keys"),$s=function(e){return Zs[e]||(Zs[e]=Xs(e))},ec={},tc=ss.WeakMap,rc=function(e){return Gs(e)?Vs(e):Hs(e,{})},nc=function(e){return function(t){var r;if(!ws(t)||(r=Vs(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(zs){var oc=new tc,ac=oc.get,ic=oc.has,sc=oc.set;Hs=function(e,t){return sc.call(oc,e,t),t},Vs=function(e){return ac.call(oc,e)||{}},Gs=function(e){return ic.call(oc,e)}}else{var cc=$s("state");ec[cc]=!0,Hs=function(e,t){return Ds(e,cc,t),t},Vs=function(e){return Cs(e,cc)?e[cc]:{}},Gs=function(e){return Cs(e,cc)}}var lc,uc,pc={set:Hs,get:Vs,has:Gs,enforce:rc,getterFor:nc},dc=r(function(e){var t=pc.get,r=pc.enforce,n=String(String).split("String");(e.exports=function(e,t,o,a){var i=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;if("function"==typeof o&&("string"!=typeof t||Cs(o,"name")||Ds(o,"name",t),r(o).source=n.join("string"==typeof t?t:"")),e===ss)return void(s?e[t]=o:Ms(t,o));i?!c&&e[t]&&(s=!0):delete e[t],s?e[t]=o:Ds(e,t,o)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||Qs(this)})}),fc=ss,hc=function(e){return"function"==typeof e?e:void 0},mc=function(e,t){return arguments.length<2?hc(fc[e])||hc(ss[e]):fc[e]&&fc[e][t]||ss[e]&&ss[e][t]},yc=Math.ceil,vc=Math.floor,gc=function(e){return isNaN(e=+e)?0:(e>0?vc:yc)(e)},bc=Math.min,_c=function(e){return e>0?bc(gc(e),9007199254740991):0},Ec=Math.max,wc=Math.min,Sc=function(e,t){var r=gc(e);return r<0?Ec(r+t,0):wc(r,t)},Oc=function(e){return function(t,r,n){var o,a=Es(t),i=_c(a.length),s=Sc(n,i);if(e&&r!=r){for(;i>s;)if((o=a[s++])!=o)return!0}else for(;i>s;s++)if((e||s in a)&&a[s]===r)return e||s||0;return!e&&-1}},Cc={includes:Oc(!0),indexOf:Oc(!1)},xc=Cc.indexOf,kc=function(e,t){var r,n=Es(e),o=0,a=[];for(r in n)!Cs(ec,r)&&Cs(n,r)&&a.push(r);for(;t.length>o;)Cs(n,r=t[o++])&&(~xc(a,r)||a.push(r));return a},Tc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ac=Tc.concat("length","prototype"),jc=Object.getOwnPropertyNames||function(e){return kc(e,Ac)
},qc={f:jc},Rc=Object.getOwnPropertySymbols,Ic={f:Rc},Nc=mc("Reflect","ownKeys")||function(e){var t=qc.f(Is(e)),r=Ic.f;return r?t.concat(r(e)):t},Bc=function(e,t){for(var r=Nc(t),n=Ps.f,o=Rs.f,a=0;a<r.length;a++){var i=r[a];Cs(e,i)||n(e,i,o(t,i))}},Pc=/#|\.prototype\./,Dc=function(e,t){var r=Lc[Mc(e)];return r==Fc||r!=Uc&&("function"==typeof t?cs(t):!!t)},Mc=Dc.normalize=function(e){return String(e).replace(Pc,".").toLowerCase()},Lc=Dc.data={},Uc=Dc.NATIVE="N",Fc=Dc.POLYFILL="P",Hc=Dc,Vc=Rs.f,Gc=function(e,t){var r,n,o,a,i,s=e.target,c=e.global,l=e.stat;if(r=c?ss:l?ss[s]||Ms(s,{}):(ss[s]||{}).prototype)for(n in t){if(a=t[n],e.noTargetGet?(i=Vc(r,n),o=i&&i.value):o=r[n],!Hc(c?n:s+(l?".":"#")+n,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;Bc(a,o)}(e.sham||o&&o.sham)&&Ds(a,"sham",!0),dc(r,n,a,e)}},Qc=Array.isArray||function(e){return"Array"==vs(e)},Wc=function(e){return Object(_s(e))},zc=function(e,t,r){var n=Ss(t);n in e?Ps.f(e,n,ms(0,r)):e[n]=r},Yc=!!Object.getOwnPropertySymbols&&!cs(function(){return!String(Symbol())}),Jc=Yc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Kc=Ys("wks"),Xc=ss.Symbol,Zc=Jc?Xc:Xc&&Xc.withoutSetter||Xs,$c=function(e){return Cs(Kc,e)||(Yc&&Cs(Xc,e)?Kc[e]=Xc[e]:Kc[e]=Zc("Symbol."+e)),Kc[e]},el=$c("species"),tl=function(e,t){var r;return Qc(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!Qc(r.prototype)?ws(r)&&null===(r=r[el])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},rl=mc("navigator","userAgent")||"",nl=ss.process,ol=nl&&nl.versions,al=ol&&ol.v8;al?(lc=al.split("."),uc=lc[0]+lc[1]):rl&&(!(lc=rl.match(/Edge\/(\d+)/))||lc[1]>=74)&&(lc=rl.match(/Chrome\/(\d+)/))&&(uc=lc[1]);var il=uc&&+uc,sl=$c("species"),cl=$c("isConcatSpreadable"),ll=il>=51||!cs(function(){var e=[];return e[cl]=!1,e.concat()[0]!==e}),ul=function(e){return il>=51||!cs(function(){var t=[],r=t.constructor={};return r[sl]=function(){return{foo:1}},1!==t[e](Boolean).foo})}("concat"),pl=function(e){if(!ws(e))return!1;var t=e[cl];return void 0!==t?!!t:Qc(e)};Gc({target:"Array",proto:!0,forced:!ll||!ul},{concat:function(e){var t,r,n,o,a,i=arguments,s=Wc(this),c=tl(s,0),l=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?s:i[t],pl(a)){if(o=_c(a.length),l+o>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,l++)r in a&&zc(c,l,a[r])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");zc(c,l++,a)}return c.length=l,c}});var dl=$c("toStringTag"),fl={};fl[dl]="z";var hl="[object z]"===String(fl),ml=$c("toStringTag"),yl="Arguments"==vs(function(){return arguments}()),vl=function(e,t){try{return e[t]}catch(e){}},gl=hl?vs:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=vl(t=Object(e),ml))?r:yl?vs(t):"Object"==(n=vs(t))&&"function"==typeof t.callee?"Arguments":n},bl=hl?{}.toString:function(){return"[object "+gl(this)+"]"};hl||dc(Object.prototype,"toString",bl,{unsafe:!0});var _l,El=Object.keys||function(e){return kc(e,Tc)},wl=ls?Object.defineProperties:function(e,t){Is(e);for(var r,n=El(t),o=n.length,a=0;o>a;)Ps.f(e,r=n[a++],t[r]);return e},Sl=mc("document","documentElement"),Ol=$s("IE_PROTO"),Cl=function(){},xl=function(e){return"<script>"+e+"<\/script>"},kl=function(e){e.write(xl("")),e.close();var t=e.parentWindow.Object;return e=null,t},Tl=function(){var e,t=Ts("iframe");return t.style.display="none",Sl.appendChild(t),t.src=String("javascript:"),e=t.contentWindow.document,e.open(),e.write(xl("document.F=Object")),e.close(),e.F},Al=function(){try{_l=document.domain&&new ActiveXObject("htmlfile")}catch(e){}Al=_l?kl(_l):Tl();for(var e=Tc.length;e--;)delete Al.prototype[Tc[e]];return Al()};ec[Ol]=!0;var jl=Object.create||function(e,t){var r;return null!==e?(Cl.prototype=Is(e),r=new Cl,Cl.prototype=null,r[Ol]=e):r=Al(),void 0===t?r:wl(r,t)},ql=qc.f,Rl={}.toString,Il="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Nl=function(e){try{return ql(e)}catch(e){return Il.slice()}},Bl=function(e){return Il&&"[object Window]"==Rl.call(e)?Nl(e):ql(Es(e))},Pl={f:Bl},Dl=$c,Ml={f:Dl},Ll=Ps.f,Ul=function(e){var t=fc.Symbol||(fc.Symbol={});Cs(t,e)||Ll(t,e,{value:Ml.f(e)})},Fl=Ps.f,Hl=$c("toStringTag"),Vl=function(e,t,r){e&&!Cs(e=r?e:e.prototype,Hl)&&Fl(e,Hl,{configurable:!0,value:t})},Gl=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Ql=function(e,t,r){if(Gl(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},Wl=[].push,zl=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,a=6==e,i=5==e||a;return function(s,c,l,u){for(var p,d,f=Wc(s),h=bs(f),m=Ql(c,l,3),y=_c(h.length),v=0,g=u||tl,b=t?g(s,y):r?g(s,0):void 0;y>v;v++)if((i||v in h)&&(p=h[v],d=m(p,v,f),e))if(t)b[v]=d;else if(d)switch(e){case 3:return!0;case 5:return p;case 6:return v;case 2:Wl.call(b,p)}else if(o)return!1;return a?-1:n||o?o:b}},Yl={forEach:zl(0),map:zl(1),filter:zl(2),some:zl(3),every:zl(4),find:zl(5),findIndex:zl(6)},Jl=Yl.forEach,Kl=$s("hidden"),Xl=$c("toPrimitive"),Zl=pc.set,$l=pc.getterFor("Symbol"),eu=Object.prototype,tu=ss.Symbol,ru=mc("JSON","stringify"),nu=Rs.f,ou=Ps.f,au=Pl.f,iu=hs.f,su=Ys("symbols"),cu=Ys("op-symbols"),lu=Ys("string-to-symbol-registry"),uu=Ys("symbol-to-string-registry"),pu=Ys("wks"),du=ss.QObject,fu=!du||!du.prototype||!du.prototype.findChild,hu=ls&&cs(function(){return 7!=jl(ou({},"a",{get:function(){return ou(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=nu(eu,t);n&&delete eu[t],ou(e,t,r),n&&e!==eu&&ou(eu,t,n)}:ou,mu=function(e,t){var r=su[e]=jl(tu.prototype);return Zl(r,{type:"Symbol",tag:e,description:t}),ls||(r.description=t),r},yu=Jc?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof tu},vu=function(e,t,r){e===eu&&vu(cu,t,r),Is(e);var n=Ss(t,!0);return Is(r),Cs(su,n)?(r.enumerable?(Cs(e,Kl)&&e[Kl][n]&&(e[Kl][n]=!1),r=jl(r,{enumerable:ms(0,!1)})):(Cs(e,Kl)||ou(e,Kl,ms(1,{})),e[Kl][n]=!0),hu(e,n,r)):ou(e,n,r)},gu=function(e,t){Is(e);var r=Es(t),n=El(r).concat(Su(r));return Jl(n,function(t){ls&&!_u.call(r,t)||vu(e,t,r[t])}),e},bu=function(e,t){return void 0===t?jl(e):gu(jl(e),t)},_u=function(e){var t=Ss(e,!0),r=iu.call(this,t);return!(this===eu&&Cs(su,t)&&!Cs(cu,t))&&(!(r||!Cs(this,t)||!Cs(su,t)||Cs(this,Kl)&&this[Kl][t])||r)},Eu=function(e,t){var r=Es(e),n=Ss(t,!0);if(r!==eu||!Cs(su,n)||Cs(cu,n)){var o=nu(r,n);return!o||!Cs(su,n)||Cs(r,Kl)&&r[Kl][n]||(o.enumerable=!0),o}},wu=function(e){var t=au(Es(e)),r=[];return Jl(t,function(e){Cs(su,e)||Cs(ec,e)||r.push(e)}),r},Su=function(e){var t=e===eu,r=au(t?cu:Es(e)),n=[];return Jl(r,function(e){!Cs(su,e)||t&&!Cs(eu,e)||n.push(su[e])}),n};if(Yc||(tu=function(){if(this instanceof tu)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Xs(e),r=function(e){this===eu&&r.call(cu,e),Cs(this,Kl)&&Cs(this[Kl],t)&&(this[Kl][t]=!1),hu(this,t,ms(1,e))};return ls&&fu&&hu(eu,t,{configurable:!0,set:r}),mu(t,e)},dc(tu.prototype,"toString",function(){return $l(this).tag}),dc(tu,"withoutSetter",function(e){return mu(Xs(e),e)}),hs.f=_u,Ps.f=vu,Rs.f=Eu,qc.f=Pl.f=wu,Ic.f=Su,Ml.f=function(e){return mu($c(e),e)},ls&&(ou(tu.prototype,"description",{configurable:!0,get:function(){return $l(this).description}}),dc(eu,"propertyIsEnumerable",_u,{unsafe:!0}))),Gc({global:!0,wrap:!0,forced:!Yc,sham:!Yc},{Symbol:tu}),Jl(El(pu),function(e){Ul(e)}),Gc({target:"Symbol",stat:!0,forced:!Yc},{for:function(e){var t=String(e);if(Cs(lu,t))return lu[t];var r=tu(t);return lu[t]=r,uu[r]=t,r},keyFor:function(e){if(!yu(e))throw TypeError(e+" is not a symbol");if(Cs(uu,e))return uu[e]},useSetter:function(){fu=!0},useSimple:function(){fu=!1}}),Gc({target:"Object",stat:!0,forced:!Yc,sham:!ls},{create:bu,defineProperty:vu,defineProperties:gu,getOwnPropertyDescriptor:Eu}),Gc({target:"Object",stat:!0,forced:!Yc},{getOwnPropertyNames:wu,getOwnPropertySymbols:Su}),Gc({target:"Object",stat:!0,forced:cs(function(){Ic.f(1)})},{getOwnPropertySymbols:function(e){return Ic.f(Wc(e))}}),ru){var Ou=!Yc||cs(function(){var e=tu();return"[null]"!=ru([e])||"{}"!=ru({a:e})||"{}"!=ru(Object(e))});Gc({target:"JSON",stat:!0,forced:Ou},{stringify:function(e,t,r){for(var n,o=arguments,a=[e],i=1;arguments.length>i;)a.push(o[i++]);if(n=t,(ws(t)||void 0!==e)&&!yu(e))return Qc(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!yu(t))return t}),a[1]=t,ru.apply(null,a)}})}tu.prototype[Xl]||Ds(tu.prototype,Xl,tu.prototype.valueOf),Vl(tu,"Symbol"),ec[Kl]=!0,Ul("asyncIterator");var Cu=Ps.f,xu=ss.Symbol;if(ls&&"function"==typeof xu&&(!("description"in xu.prototype)||void 0!==xu().description)){var ku={},Tu=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Tu?new xu(e):void 0===e?xu():xu(e);return""===e&&(ku[t]=!0),t};Bc(Tu,xu);var Au=Tu.prototype=xu.prototype;Au.constructor=Tu;var ju=Au.toString,qu="Symbol(test)"==String(xu("test")),Ru=/^Symbol\((.*)\)[^)]+$/;Cu(Au,"description",{configurable:!0,get:function(){var e=ws(this)?this.valueOf():this,t=ju.call(e);if(Cs(ku,e))return"";var r=qu?t.slice(7,-1):t.replace(Ru,"$1");return""===r?void 0:r}}),Gc({global:!0,forced:!0},{Symbol:Tu})}Ul("hasInstance"),Ul("isConcatSpreadable"),Ul("iterator"),Ul("match"),Ul("matchAll"),Ul("replace"),Ul("search"),Ul("species"),Ul("split"),Ul("toPrimitive"),Ul("toStringTag"),Ul("unscopables"),Vl(Math,"Math",!0),Vl(ss.JSON,"JSON",!0),Ul("asyncDispose"),Ul("dispose"),Ul("observable"),Ul("patternMatch"),Ul("replaceAll");var Iu,Nu,Bu,Pu=function(e){return function(t,r){var n,o,a=String(_s(t)),i=gc(r),s=a.length;return i<0||i>=s?e?"":void 0:(n=a.charCodeAt(i),n<55296||n>56319||i+1===s||(o=a.charCodeAt(i+1))<56320||o>57343?e?a.charAt(i):n:e?a.slice(i,i+2):o-56320+(n-55296<<10)+65536)}},Du={codeAt:Pu(!1),charAt:Pu(!0)},Mu=!cs(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Lu=$s("IE_PROTO"),Uu=Object.prototype,Fu=Mu?Object.getPrototypeOf:function(e){return e=Wc(e),Cs(e,Lu)?e[Lu]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Uu:null},Hu=$c("iterator"),Vu=!1,Gu=function(){return this};[].keys&&(Bu=[].keys(),"next"in Bu?(Nu=Fu(Fu(Bu)))!==Object.prototype&&(Iu=Nu):Vu=!0),void 0==Iu&&(Iu={}),Cs(Iu,Hu)||Ds(Iu,Hu,Gu);var Qu={IteratorPrototype:Iu,BUGGY_SAFARI_ITERATORS:Vu},Wu={},zu=Qu.IteratorPrototype,Yu=function(){return this},Ju=function(e,t,r){var n=t+" Iterator";return e.prototype=jl(zu,{next:ms(1,r)}),Vl(e,n,!1),Wu[n]=Yu,e},Ku=function(e){if(!ws(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},Xu=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return Is(r),Ku(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),Zu=Qu.IteratorPrototype,$u=Qu.BUGGY_SAFARI_ITERATORS,ep=$c("iterator"),tp=function(){return this},rp=function(e,t,r,n,o,a,i){Ju(r,t,n);var s,c,l,u=function(e){if(e===o&&m)return m;if(!$u&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},p=t+" Iterator",d=!1,f=e.prototype,h=f[ep]||f["@@iterator"]||o&&f[o],m=!$u&&h||u(o),y="Array"==t?f.entries||h:h;if(y&&(s=Fu(y.call(new e)),Zu!==Object.prototype&&s.next&&(Fu(s)!==Zu&&(Xu?Xu(s,Zu):"function"!=typeof s[ep]&&Ds(s,ep,tp)),Vl(s,p,!0))),"values"==o&&h&&"values"!==h.name&&(d=!0,m=function(){return h.call(this)}),f[ep]!==m&&Ds(f,ep,m),Wu[t]=m,o)if(c={values:u("values"),keys:a?m:u("keys"),entries:u("entries")},i)for(l in c)!$u&&!d&&l in f||dc(f,l,c[l]);else Gc({target:t,proto:!0,forced:$u||d},c);return c},np=Du.charAt,op=pc.set,ap=pc.getterFor("String Iterator");rp(String,"String",function(e){op(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=ap(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=np(r,n),t.index+=e.length,{value:e,done:!1})});var ip=function(e,t,r,n){try{return n?t(Is(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&Is(o.call(e)),t}},sp=$c("iterator"),cp=Array.prototype,lp=function(e){return void 0!==e&&(Wu.Array===e||cp[sp]===e)},up=$c("iterator"),pp=function(e){if(void 0!=e)return e[up]||e["@@iterator"]||Wu[gl(e)]},dp=function(e){var t,r,n,o,a,i,s=Wc(e),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,p=void 0!==u,d=pp(s),f=0;if(p&&(u=Ql(u,l>2?arguments[2]:void 0,2)),void 0==d||c==Array&&lp(d))for(t=_c(s.length),r=new c(t);t>f;f++)i=p?u(s[f],f):s[f],zc(r,f,i);else for(o=d.call(s),a=o.next,r=new c;!(n=a.call(o)).done;f++)i=p?ip(o,u,[n.value,f],!0):n.value,zc(r,f,i);return r.length=f,r},fp=$c("iterator"),hp=function(e,t){if(!t)return!1;var r=!1;try{var n={};n[fp]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},mp=!hp(function(e){Array.from(e)});Gc({target:"Array",stat:!0,forced:mp},{from:dp}),"undefined"==typeof Promise&&(Fi.enable(),self.Promise=Hi),Object.assign=as;var yp=!cs(function(){return Object.isExtensible(Object.preventExtensions({}))}),vp=r(function(e){var t=Ps.f,r=Xs("meta"),n=0,o=Object.isExtensible||function(){return!0},a=function(e){t(e,r,{value:{objectID:"O"+ ++n,weakData:{}}})},i=function(e,t){if(!ws(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Cs(e,r)){if(!o(e))return"F";if(!t)return"E";a(e)}return e[r].objectID},s=function(e,t){if(!Cs(e,r)){if(!o(e))return!0;if(!t)return!1;a(e)}return e[r].weakData},c=function(e){return yp&&l.REQUIRED&&o(e)&&!Cs(e,r)&&a(e),e},l=e.exports={REQUIRED:!1,fastKey:i,getWeakData:s,onFreeze:c};ec[r]=!0}),gp=r(function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,r,n,o,a){var i,s,c,l,u,p,d,f=Ql(r,n,o?2:1);if(a)i=e;else{if("function"!=typeof(s=pp(e)))throw TypeError("Target is not iterable");if(lp(s)){for(c=0,l=_c(e.length);l>c;c++)if((u=o?f(Is(d=e[c])[0],d[1]):f(e[c]))&&u instanceof t)return u;return new t(!1)}i=s.call(e)}for(p=i.next;!(d=p.call(i)).done;)if("object"==typeof(u=ip(i,f,d.value,o))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}}),bp=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},_p=function(e,t,r){var n,o;return Xu&&"function"==typeof(n=t.constructor)&&n!==r&&ws(o=n.prototype)&&o!==r.prototype&&Xu(e,o),e},Ep=function(e,t,r){var n=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),a=n?"set":"add",i=ss[e],s=i&&i.prototype,c=i,l={},u=function(e){var t=s[e];dc(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!ws(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!ws(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!ws(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(Hc(e,"function"!=typeof i||!(o||s.forEach&&!cs(function(){(new i).entries().next()}))))c=r.getConstructor(t,e,n,a),vp.REQUIRED=!0;else if(Hc(e,!0)){var p=new c,d=p[a](o?{}:-0,1)!=p,f=cs(function(){p.has(1)}),h=hp(function(e){new i(e)}),m=!o&&cs(function(){for(var e=new i,t=5;t--;)e[a](t,t);return!e.has(-0)});h||(c=t(function(t,r){bp(t,c,e);var o=_p(new i,t,c);return void 0!=r&&gp(r,o[a],o,n),o}),c.prototype=s,s.constructor=c),(f||m)&&(u("delete"),u("has"),n&&u("get")),(m||d)&&u(a),o&&s.clear&&delete s.clear}return l[e]=c,Gc({global:!0,forced:c!=i},l),Vl(c,e),o||r.setStrong(c,e,n),c},wp=function(e,t,r){for(var n in t)dc(e,n,t[n],r);return e},Sp=$c("species"),Op=function(e){var t=mc(e),r=Ps.f;ls&&t&&!t[Sp]&&r(t,Sp,{configurable:!0,get:function(){return this}})},Cp=Ps.f,xp=vp.fastKey,kp=pc.set,Tp=pc.getterFor,Ap={getConstructor:function(e,t,r,n){var o=e(function(e,a){bp(e,o,t),kp(e,{type:t,index:jl(null),first:void 0,last:void 0,size:0}),ls||(e.size=0),void 0!=a&&gp(a,e[n],e,r)}),a=Tp(t),i=function(e,t,r){var n,o,i=a(e),c=s(e,t);return c?c.value=r:(i.last=c={index:o=xp(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=c),n&&(n.next=c),ls?i.size++:e.size++,"F"!==o&&(i.index[o]=c)),e},s=function(e,t){var r,n=a(e),o=xp(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return wp(o.prototype,{clear:function(){for(var e=this,t=a(e),r=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,ls?t.size=0:e.size=0},delete:function(e){var t=this,r=a(t),n=s(t,e);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),ls?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=this,n=a(this),o=Ql(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(o(t.value,t.key,r);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),wp(o.prototype,r?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),ls&&Cp(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,r){var n=t+" Iterator",o=Tp(t),a=Tp(n);rp(e,t,function(e,t){kp(this,{type:n,target:e,state:o(e),kind:t,last:void 0})},function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},r?"entries":"values",!r,!0),Op(t)}},jp=(Ep("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Ap),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),qp=$c("unscopables"),Rp=Array.prototype;void 0==Rp[qp]&&Ps.f(Rp,qp,{configurable:!0,value:jl(null)});var Ip=function(e){Rp[qp][e]=!0},Np=pc.set,Bp=pc.getterFor("Array Iterator"),Pp=rp(Array,"Array",function(e,t){Np(this,{type:"Array Iterator",target:Es(e),index:0,kind:t})},function(){var e=Bp(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values");Wu.Arguments=Wu.Array,Ip("keys"),Ip("values"),Ip("entries");var Dp=$c("iterator"),Mp=$c("toStringTag"),Lp=Pp.values;for(var Up in jp){var Fp=ss[Up],Hp=Fp&&Fp.prototype;if(Hp){if(Hp[Dp]!==Lp)try{Ds(Hp,Dp,Lp)}catch(e){Hp[Dp]=Lp}if(Hp[Mp]||Ds(Hp,Mp,Up),jp[Up])for(var Vp in Pp)if(Hp[Vp]!==Pp[Vp])try{Ds(Hp,Vp,Pp[Vp])}catch(e){Hp[Vp]=Pp[Vp]}}}var Gp=function(e){var t,r,n,o,a=arguments.length,i=a>1?arguments[1]:void 0;return Gl(this),t=void 0!==i,t&&Gl(i),void 0==e?new this:(r=[],t?(n=0,o=Ql(i,a>2?arguments[2]:void 0,2),gp(e,function(e){r.push(o(e,n++))})):gp(e,r.push,r),new this(r))};Gc({target:"Map",stat:!0},{from:Gp});var Qp=function(){for(var e=arguments,t=arguments.length,r=new Array(t);t--;)r[t]=e[t];return new this(r)};Gc({target:"Map",stat:!0},{of:Qp});var Wp=function(){for(var e,t=arguments,r=Is(this),n=Gl(r.delete),o=!0,a=0,i=arguments.length;a<i;a++)e=n.call(r,t[a]),o=o&&e;return!!o};Gc({target:"Map",proto:!0,real:!0,forced:!1},{deleteAll:function(){return Wp.apply(this,arguments)}});var zp=function(e){var t=pp(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Is(t.call(e))},Yp=function(e){return Map.prototype.entries.call(e)};Gc({target:"Map",proto:!0,real:!0,forced:!1},{every:function(e){var t=Is(this),r=Yp(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3);return!gp(r,function(e,r){if(!n(r,e,t))return gp.stop()},void 0,!0,!0).stopped}});var Jp=$c("species"),Kp=function(e,t){var r,n=Is(e).constructor;return void 0===n||void 0==(r=Is(n)[Jp])?t:Gl(r)};Gc({target:"Map",proto:!0,real:!0,forced:!1},{filter:function(e){var t=Is(this),r=Yp(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3),o=new(Kp(t,mc("Map"))),a=Gl(o.set);return gp(r,function(e,r){n(r,e,t)&&a.call(o,e,r)},void 0,!0,!0),o}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{find:function(e){var t=Is(this),r=Yp(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3);return gp(r,function(e,r){if(n(r,e,t))return gp.stop(r)},void 0,!0,!0).result}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{findKey:function(e){var t=Is(this),r=Yp(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3);return gp(r,function(e,r){if(n(r,e,t))return gp.stop(e)},void 0,!0,!0).result}}),Gc({target:"Map",stat:!0},{groupBy:function(e,t){var r=new this;Gl(t);var n=Gl(r.has),o=Gl(r.get),a=Gl(r.set);return gp(e,function(e){var i=t(e);n.call(r,i)?o.call(r,i).push(e):a.call(r,i,[e])}),r}});var Xp=function(e,t){return e===t||e!=e&&t!=t};Gc({target:"Map",proto:!0,real:!0,forced:!1},{includes:function(e){return gp(Yp(Is(this)),function(t,r){if(Xp(r,e))return gp.stop()},void 0,!0,!0).stopped}}),Gc({target:"Map",stat:!0},{keyBy:function(e,t){var r=new this;Gl(t);var n=Gl(r.set);return gp(e,function(e){n.call(r,t(e),e)}),r}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{keyOf:function(e){return gp(Yp(Is(this)),function(t,r){if(r===e)return gp.stop(t)},void 0,!0,!0).result}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{mapKeys:function(e){var t=Is(this),r=Yp(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3),o=new(Kp(t,mc("Map"))),a=Gl(o.set);return gp(r,function(e,r){a.call(o,n(r,e,t),r)},void 0,!0,!0),o}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{mapValues:function(e){var t=Is(this),r=Yp(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3),o=new(Kp(t,mc("Map"))),a=Gl(o.set);return gp(r,function(e,r){a.call(o,e,n(r,e,t))},void 0,!0,!0),o}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{merge:function(e){for(var t=arguments,r=Is(this),n=Gl(r.set),o=0;o<arguments.length;)gp(t[o++],n,r,!0);return r}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{reduce:function(e){var t=Is(this),r=Yp(t),n=arguments.length<2,o=n?void 0:arguments[1];if(Gl(e),gp(r,function(r,a){n?(n=!1,o=a):o=e(o,a,r,t)},void 0,!0,!0),n)throw TypeError("Reduce of empty map with no initial value");return o}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{some:function(e){var t=Is(this),r=Yp(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3);return gp(r,function(e,r){if(n(r,e,t))return gp.stop()},void 0,!0,!0).stopped}}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{update:function(e,t){var r=Is(this),n=arguments.length;Gl(t);var o=r.has(e);if(!o&&n<3)throw TypeError("Updating absent value");var a=o?r.get(e):Gl(n>2?arguments[2]:void 0)(e,r);return r.set(e,t(a,e,r)),r}});var Zp=function(e,t){var r,n=Is(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof o)throw TypeError("At least one callback required");return n.has(e)?(r=n.get(e),"function"==typeof t&&(r=t(r),n.set(e,r))):"function"==typeof o&&(r=o(),n.set(e,r)),r};Gc({target:"Map",proto:!0,real:!0,forced:!1},{upsert:Zp}),Gc({target:"Map",proto:!0,real:!0,forced:!1},{updateOrInsert:Zp});Ep("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Ap);Gc({target:"Set",stat:!0},{from:Gp}),Gc({target:"Set",stat:!0},{of:Qp});var $p=function(){for(var e=arguments,t=Is(this),r=Gl(t.add),n=0,o=arguments.length;n<o;n++)r.call(t,e[n]);return t};Gc({target:"Set",proto:!0,real:!0,forced:!1},{addAll:function(){return $p.apply(this,arguments)}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{deleteAll:function(){return Wp.apply(this,arguments)}});var ed=function(e){return Set.prototype.values.call(e)};Gc({target:"Set",proto:!0,real:!0,forced:!1},{every:function(e){var t=Is(this),r=ed(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3);return!gp(r,function(e){if(!n(e,e,t))return gp.stop()},void 0,!1,!0).stopped}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{difference:function(e){var t=Is(this),r=new(Kp(t,mc("Set")))(t),n=Gl(r.delete);return gp(e,function(e){n.call(r,e)}),r}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{filter:function(e){var t=Is(this),r=ed(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3),o=new(Kp(t,mc("Set"))),a=Gl(o.add);return gp(r,function(e){n(e,e,t)&&a.call(o,e)},void 0,!1,!0),o}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{find:function(e){var t=Is(this),r=ed(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3);return gp(r,function(e){if(n(e,e,t))return gp.stop(e)},void 0,!1,!0).result}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{intersection:function(e){var t=Is(this),r=new(Kp(t,mc("Set"))),n=Gl(t.has),o=Gl(r.add);return gp(e,function(e){n.call(t,e)&&o.call(r,e)}),r}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{isDisjointFrom:function(e){var t=Is(this),r=Gl(t.has);return!gp(e,function(e){if(!0===r.call(t,e))return gp.stop()}).stopped}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{isSubsetOf:function(e){var t=zp(this),r=Is(e),n=r.has;return"function"!=typeof n&&(r=new(mc("Set"))(e),n=Gl(r.has)),!gp(t,function(e){if(!1===n.call(r,e))return gp.stop()},void 0,!1,!0).stopped}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{isSupersetOf:function(e){var t=Is(this),r=Gl(t.has);return!gp(e,function(e){if(!1===r.call(t,e))return gp.stop()}).stopped}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{join:function(e){var t=Is(this),r=ed(t),n=void 0===e?",":String(e),o=[];return gp(r,o.push,o,!1,!0),o.join(n)}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{map:function(e){var t=Is(this),r=ed(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3),o=new(Kp(t,mc("Set"))),a=Gl(o.add);return gp(r,function(e){a.call(o,n(e,e,t))},void 0,!1,!0),o}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{reduce:function(e){var t=Is(this),r=ed(t),n=arguments.length<2,o=n?void 0:arguments[1];if(Gl(e),gp(r,function(r){n?(n=!1,o=r):o=e(o,r,r,t)},void 0,!1,!0),n)throw TypeError("Reduce of empty set with no initial value");return o}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{some:function(e){var t=Is(this),r=ed(t),n=Ql(e,arguments.length>1?arguments[1]:void 0,3);return gp(r,function(e){if(n(e,e,t))return gp.stop()},void 0,!1,!0).stopped}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{symmetricDifference:function(e){var t=Is(this),r=new(Kp(t,mc("Set")))(t),n=Gl(r.delete),o=Gl(r.add);return gp(e,function(e){n.call(r,e)||o.call(r,e)}),r}}),Gc({target:"Set",proto:!0,real:!0,forced:!1},{union:function(e){var t=Is(this),r=new(Kp(t,mc("Set")))(t);return gp(e,Gl(r.add),r),r}});for(var td=r(function(e){(function(){var t,r,n,o,a,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-a)/1e6},r=process.hrtime,t=function(){var e;return e=r(),1e9*e[0]+e[1]},o=t(),i=1e9*process.uptime(),a=o-i):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(xi)}),rd="undefined"==typeof window?xi:window,nd=["moz","webkit"],od="AnimationFrame",ad=rd["request"+od],id=rd["cancel"+od]||rd["cancelRequest"+od],sd=0;!ad&&sd<nd.length;sd++)ad=rd[nd[sd]+"Request"+od],id=rd[nd[sd]+"Cancel"+od]||rd[nd[sd]+"CancelRequest"+od];if(!ad||!id){var cd=0,ld=0,ud=[];ad=function(e){if(0===ud.length){var t=td(),r=Math.max(0,1e3/60-(t-cd));cd=r+t,setTimeout(function(){var e=ud.slice(0);ud.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(cd)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))}return ud.push({handle:++ld,callback:e,cancelled:!1}),ld},id=function(e){for(var t=0;t<ud.length;t++)ud[t].handle===e&&(ud[t].cancelled=!0)}}var pd=function(e){return ad.call(rd,e)},dd=function(){id.apply(rd,arguments)},fd=function(e){e||(e=rd),e.requestAnimationFrame=ad,e.cancelAnimationFrame=id};pd.cancel=dd,(pd.polyfill=fd)();var hd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",md=function(){},yd=hd,vd={};md=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var gd=V,bd=function(){};bd=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var _d,Ed=function(e,t){function r(e){var t=e&&(_&&e[_]||e[E]);if("function"==typeof t)return t}function n(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function o(e){this.message=e,this.stack=""}function a(e){function r(r,i,s,c,l,u,p){if(c=c||w,u=u||s,p!==hd){if(t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}if("undefined"!=typeof console){var f=c+":"+s;!n[f]&&a<3&&(bd("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[f]=!0,a++)}}return null==i[s]?r?new o(null===i[s]?"The "+l+" `"+u+"` is marked as required in `"+c+"`, but its value is `null`.":"The "+l+" `"+u+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(i,s,c,l,u)}var n={},a=0,i=r.bind(null,!1);return i.isRequired=r.bind(null,!0),i}function i(e){function t(t,r,n,a,i,s){var c=t[r];if(y(c)!==e)return new o("Invalid "+a+" `"+i+"` of type `"+v(c)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return a(t)}function s(e){function t(t,r,n,a,i){if("function"!=typeof e)return new o("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s)){return new o("Invalid "+a+" `"+i+"` of type `"+y(s)+"` supplied to `"+n+"`, expected an array.")}for(var c=0;c<s.length;c++){var l=e(s,c,n,a,i+"["+c+"]",hd);if(l instanceof Error)return l}return null}return a(t)}function c(e){function t(t,r,n,a,i){if(!(t[r]instanceof e)){var s=e.name||w;return new o("Invalid "+a+" `"+i+"` of type `"+b(t[r])+"` supplied to `"+n+"`, expected instance of `"+s+"`.")}return null}return a(t)}function l(e){function t(t,r,a,i,s){for(var c=t[r],l=0;l<e.length;l++)if(n(c,e[l]))return null;return new o("Invalid "+i+" `"+s+"` of value `"+c+"` supplied to `"+a+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?a(t):(bd("Invalid argument supplied to oneOf, expected an instance of array."),G)}function u(e){function t(t,r,n,a,i){if("function"!=typeof e)return new o("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[r],c=y(s);if("object"!==c)return new o("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var u=e(s,l,n,a,i+"."+l,hd);if(u instanceof Error)return u}return null}return a(t)}function p(e){function t(t,r,n,a,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,r,n,a,i,hd))return null}return new o("Invalid "+a+" `"+i+"` supplied to `"+n+"`.")}if(!Array.isArray(e))return bd("Invalid argument supplied to oneOfType, expected an instance of array."),G;for(var r=0;r<e.length;r++){var n=e[r];if("function"!=typeof n)return bd("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+g(n)+" at index "+r+"."),G}return a(t)}function d(e){function t(t,r,n,a,i){var s=t[r],c=y(s)
;if("object"!==c)return new o("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");for(var l in e){var u=e[l];if(u){var p=u(s,l,n,a,i+"."+l,hd);if(p)return p}}return null}return a(t)}function f(e){function t(t,r,n,a,i){var s=t[r],c=y(s);if("object"!==c)return new o("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var l=as({},t[r],e);for(var u in l){var p=e[u];if(!p)return new o("Invalid "+a+" `"+i+"` key `"+u+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=p(s,u,n,a,i+"."+u,hd);if(d)return d}return null}return a(t)}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var n=r(t);if(!n)return!1;var o,a=n.call(t);if(n!==t.entries){for(;!(o=a.next()).done;)if(!h(o.value))return!1}else for(;!(o=a.next()).done;){var i=o.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function m(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":m(t,e)?"symbol":t}function v(e){if(void 0===e||null===e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function b(e){return e.constructor&&e.constructor.name?e.constructor.name:w}var _="function"==typeof Symbol&&Symbol.iterator,E="@@iterator",w="<<anonymous>>",S={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),symbol:i("symbol"),any:function(){return a(G)}(),arrayOf:s,element:function(){function t(t,r,n,a,i){var s=t[r];if(!e(s)){return new o("Invalid "+a+" `"+i+"` of type `"+y(s)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return a(t)}(),instanceOf:c,node:function(){function e(e,t,r,n,a){return h(e[t])?null:new o("Invalid "+n+" `"+a+"` supplied to `"+r+"`, expected a ReactNode.")}return a(e)}(),objectOf:u,oneOf:l,oneOfType:p,shape:d,exact:f};return o.prototype=Error.prototype,S.checkPropTypes=gd,S.PropTypes=S,S},wd=r(function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t};e.exports=Ed(r,!0)}),Sd=wd.shape({trySubscribe:wd.func.isRequired,tryUnsubscribe:wd.func.isRequired,notifyNestedSubs:wd.func.isRequired,isSubscribed:wd.func.isRequired}),Od=wd.shape({subscribe:wd.func.isRequired,dispatch:wd.func.isRequired,getState:wd.func.isRequired}),Cd=!1,xd=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],o=n||r+"Subscription",a=function(t){function n(e,o){W(this,n);var a=z(this,t.call(this,e,o));return a[r]=e.store,a}return Y(n,t),n.prototype.getChildContext=function(){var e;return e={},e[r]=this[r],e[o]=null,e},n.prototype.render=function(){return e.Children.only(this.props.children)},n}(e.Component);return a.prototype.componentWillReceiveProps=function(e){this[r]!==e.store&&J()},a.propTypes={store:Od.isRequired,children:wd.element.isRequired},a.childContextTypes=(t={},t[r]=Od.isRequired,t[o]=Sd,t),a}(),kd={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Td={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ad=Object.defineProperty,jd=Object.getOwnPropertyNames,qd=Object.getOwnPropertySymbols,Rd=Object.getOwnPropertyDescriptor,Id=Object.getPrototypeOf,Nd=Id&&Id(Object),Bd=K,Pd=function(e,t,r,n,o,a,i,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,a,i,s],u=0;c=new Error(t.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Dd=Pd,Md=null,Ld={notify:function(){}},Ud=function(){function e(t,r,n){X(this,e),this.store=t,this.parentSub=r,this.onStateChange=n,this.unsubscribe=null,this.listeners=Ld}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=Z())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Ld)},e}(),Fd=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Hd=0,Vd={},Gd=Object.prototype.hasOwnProperty;_d="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var Qd=function(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}(_d),Wd=function(){return Math.random().toString(36).substring(7).split("").join(".")},zd={INIT:"@@redux/INIT"+Wd(),REPLACE:"@@redux/REPLACE"+Wd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Wd()}};"string"==typeof _e.name&&"isCrushed"!==_e.name&&ue('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');var Yd="object"==typeof global&&global&&global.Object===Object&&global,Jd="object"==typeof self&&self&&self.Object===Object&&self,Kd=Yd||Jd||Function("return this")(),Xd=Kd.Symbol,Zd=Object.prototype,$d=Zd.hasOwnProperty,ef=Zd.toString,tf=Xd?Xd.toStringTag:void 0,rf=Object.prototype,nf=rf.toString,of="[object Null]",af="[object Undefined]",sf=Xd?Xd.toStringTag:void 0,cf=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),lf="[object Object]",uf=Function.prototype,pf=Object.prototype,df=uf.toString,ff=pf.hasOwnProperty,hf=df.call(Object),mf=[je,qe,Re],yf=[Ie,Ne],vf=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gf=[De,Me],bf=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,r=void 0===t?ae:t,n=e.mapStateToPropsFactories,o=void 0===n?yf:n,a=e.mapDispatchToPropsFactories,i=void 0===a?mf:a,s=e.mergePropsFactories,c=void 0===s?gf:s,l=e.selectorFactory,u=void 0===l?Ge:l;return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.pure,l=void 0===s||s,p=a.areStatesEqual,d=void 0===p?ze:p,f=a.areOwnPropsEqual,h=void 0===f?se:f,m=a.areStatePropsEqual,y=void 0===m?se:m,v=a.areMergedPropsEqual,g=void 0===v?se:v,b=Qe(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=We(e,o,"mapStateToProps"),E=We(t,i,"mapDispatchToProps"),w=We(n,c,"mergeProps");return r(u,bf({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:w,pure:l,areStatesEqual:d,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:g},b))}}(),Ef=Ye();Ef.withExtraArgument=Ye;var wf={},Sf="/downloads",Of="/search/data-download",Cf=Of+"/ids",xf="/search/data",kf=metadata.searchApiUrl,Tf=kf+"/query-editor.html",Af="QUERY_BUILDER",jf="TAB_SEARCH",qf="TAB_TREE_BROWSER",Rf="TAB_MYPDB",If=[jf,"TAB_HISTORY",qf,Rf],Nf={TAB_SEARCH:"Search",TAB_HISTORY:"History",TAB_TREE_BROWSER:"Browse Annotations",TAB_MYPDB:"MyPDB"},Bf="SUMMARY",Pf="REPORT",Df=[Bf,"GALLERY","COMPACT",Pf],Mf={GALLERY:"Gallery",SUMMARY:"Summary",COMPACT:"Compact",REPORT:"Tabular Report"},Lf="SET_BOOLEAN",Uf="SET_CONTAINER_WIDTH",Ff="SET_CONTROL",Hf="SET_CW",Vf="SET_MSG",Gf="SET_PAGER",Qf="SET_REFINEMENT",Wf="SET_REFINEMENT_MAX_GROUPS",zf="SET_REQUEST",Yf="SET_REQUEST_HTML",Jf="SET_RETURN_TYPE",Kf="SET_SEARCH_RESULTS",Xf="SET_SELECT_ALL",Zf="SET_SELECT_CLEAR",$f="SET_SELECT_ID",eh="SET_SORT",th="SET_TOOLTIP",rh="SET_URLS_PROPS",nh="SET_VIEW",oh="URLS_ADD",ah="QB_INIT",ih="QB_RESET_COUNTS",sh="QB_SERVICE_SET_OPEN",ch="QB_SET_PROPS",lh="QB_TEXT_SET_COUNT",uh="QB_FULL_TEXT_ADD_GROUP",ph="QB_FULL_TEXT_ADD_TERMINAL",dh="QB_FULL_TEXT_REMOVE_GROUP",fh="QB_FULL_TEXT_REMOVE_TERMINAL",hh="QB_FULL_TEXT_SET_LOGICAL_OPERATOR",mh="QB_FULL_TEXT_SET_VALUE",yh="QB_ATTRIBUTE_ADD_GROUP",vh="QB_ATTRIBUTE_ADD_TERMINAL",gh="QB_ATTRIBUTE_REMOVE_GROUP",bh="QB_ATTRIBUTE_REMOVE_TERMINAL",_h="QB_ATTRIBUTE_SET_ATTRIBUTE",Eh="QB_ATTRIBUTE_SET_LOGICAL_OPERATOR",wh="QB_ATTRIBUTE_SET_NEGATION",Sh="QB_ATTRIBUTE_SET_OPERATOR",Oh="QB_ATTRIBUTE_SET_VALUE",Ch="QB_CHEMICAL_SET_PROPS",xh="QB_SEQUENCE_SET_PROPS",kh="QB_SEQUENCE_MOTIF_SET_PROPS",Th="QB_STRUCTURE_SET_PROPS",Ah="QB_STRUCTURAL_MOTIF_SET_PROPS",jh="QB_STRUCTURAL_MOTIF_ADD_RESIDUE",qh="QB_STRUCTURAL_MOTIF_DELETE_RESIDUE",Rh="QB_STRUCTURAL_MOTIF_SET_RESIDUE_PROPS",Ih="SET_TREE",Nh="SET_HISTORY",Bh="SET_HISTORY_ID",Ph="HISTORY_ADD",Dh="HISTORY_REMOVE",Mh="HISTORY_REMOVE_ALL",Lh="SET_CUSTOM_REPORT_ATTRIBUTE",Uh="SET_CUSTOM_REPORT_ATTRIBUTES",Fh="SET_PREDEFINED_ATTRIBUTES",Hh="SET_REPORT_PROPS",Vh="REQ_SEARCH",Gh="REQ_COUNT",Qh={exact_match:"equals",contains_words:"contains words",contains_phrase:"contains phrase",exists:"exists",in:"in",equals:"=",greater:">",greater_or_equal:">=",less:"<",less_or_equal:"<=",range:"range (upper excl.)",range_closed:"range (upper incl.)"},Wh={angstroms:"Å",angstroms_cubed_per_dalton:"Å³/Da",angstroms_squared:"Å²",kelvins:"K",kilodaltons:"kDa",kilojoule_per_mole:"kJ/mol",megahertz:"MHz",daltons:"Da",degrees:"°",nanomole:"nM",per_mole:"M⁻¹"},zh="chemical",Yh="full_text",Jh="nested-attribute",Kh="search-bar",Xh="sequence",Zh="seqmotif",$h="strucmotif",em="structure",tm="ALIGNMENT_VIEW",rm=[{key:"score desc",value:"↓ Score"},{key:"rcsb_accession_info.initial_release_date desc",value:"↓ Release Date: Newest to Oldest"},{key:"rcsb_accession_info.initial_release_date asc",value:"↑ Release Date: Oldest to Newest"},{key:"rcsb_entry_container_identifiers.entry_id asc",value:"↑ PDB ID: A to Z"},{key:"rcsb_entry_container_identifiers.entry_id desc",value:"↓ PDB ID: Z to A"},{key:"rcsb_entry_info.resolution_combined asc",value:"↑ Resolution: Best to Worst"},{key:"rcsb_entry_info.resolution_combined desc",value:"↓ Resolution: Worst to Best"}],nm=[{key:"rcsb_entry_info.deposited_polymer_monomer_count asc",value:"↑ Entry All Residues: Less to More"},{key:"rcsb_entry_info.deposited_polymer_monomer_count desc",value:"↓ Entry All Residues: More to Less"},{key:"rcsb_entry_info.deposited_modeled_polymer_monomer_count asc",value:"↑ Entry Modeled Residues: Less to More"},{key:"rcsb_entry_info.deposited_modeled_polymer_monomer_count desc",value:"↓ Entry Modeled Residues: More to Less"},{key:"rcsb_entry_info.deposited_polymer_entity_instance_count asc",value:"↑ Entry Chain Count: Less to More"},{key:"rcsb_entry_info.deposited_polymer_entity_instance_count desc",value:"↓ Entry Chain Count: More to Less"}],om=[{key:"entity_poly.rcsb_sample_sequence_length asc",value:"↑ Entity Residue Count: Less to More"},{key:"entity_poly.rcsb_sample_sequence_length desc",value:"↓ Entity Residue Count: More to Less"},{key:"rcsb_polymer_entity.pdbx_number_of_molecules asc",value:"↑ Entity Chain Count: Less to More"},{key:"rcsb_polymer_entity.pdbx_number_of_molecules desc",value:"↓ Entity Chain Count: More to Less"}],am=[{key:"rcsb_assembly_info.polymer_monomer_count asc",value:"↑ Assembly All Residues: Less to More"},{key:"rcsb_assembly_info.polymer_monomer_count desc",value:"↓ Assembly All Residues: More to Less"},{key:"rcsb_assembly_info.modeled_polymer_monomer_count asc",value:"↑ Assembly Modeled Residues: Less to More"},{key:"rcsb_assembly_info.modeled_polymer_monomer_count desc",value:"↓ Assembly Modeled Residues: More to Less"},{key:"rcsb_assembly_info.polymer_entity_instance_count asc",value:"↑ Assembly Chain Count: Less to More"},{key:"rcsb_assembly_info.polymer_entity_instance_count desc",value:"↓ Assembly Chain Count: More to Less"}],im=[{key:"score desc",value:"↓ Score"},{key:"chem_comp.formula_weight asc",value:"↑ Molecular Weight: Less to More"},{key:"chem_comp.formula_weight desc",value:"↓ Molecular Weight: More to Less"},{key:"rcsb_chem_comp_container_identifiers.comp_id asc",value:"↑ Chemical Component ID: A to Z"},{key:"rcsb_chem_comp_container_identifiers.comp_id desc",value:"↓ Chemical Component ID: Z to A"},{key:"rcsb_chem_comp_info.atom_count_heavy asc",value:"↑ Atom Count: Less to More"},{key:"rcsb_chem_comp_info.atom_count_heavy desc",value:"↓ Atom Count: More to Less"}],sm=["full_text","text","text_chem","sequence","seqmotif","structure","strucmotif","chemical"],cm={chemical:"Chemical",full_text:"Full Text",seqmotif:"Sequence Motif",sequence:"Sequence",strucmotif:"Structure Motif",structure:"Structure Similarity",text:"Structure Attribute",text_chem:"Chemical Attribute"},lm=[{key:"pdb_protein_sequence",value:"Protein"},{key:"pdb_dna_sequence",value:"DNA"},{key:"pdb_rna_sequence",value:"RNA"}],um=lm[0].key,pm=.1,dm=0,fm=[{key:"simple",value:"Simple"},{key:"prosite",value:"PROSITE"},{key:"regex",value:"RegEx"}],hm=fm[0].key,mm=[{key:"assembly_id",value:"Assembly ID"},{key:"asym_id",value:"Chain ID"}],ym=(mm[0].key,2),vm=[{key:"ALL",value:"All Atoms"},{key:"SIDE_CHAIN",value:"Side-Chain Atoms"},{key:"BACKBONE",value:"Backbone Atoms"},{key:"PSEUDO_ATOMS",value:"Alpha & Beta Carbon"}],gm=vm[0].key,bm=[{key:"formula",value:"Formula"},{key:"descriptor",value:"Descriptor"}],_m=[{key:"SMILES",value:"SMILES"},{key:"InChI",value:"InChI"}],Em=[{key:"graph-exact",value:"Graph Exact"},{key:"graph-relaxed",value:"Graph Relaxed"},{key:"graph-relaxed-stereo",value:"Graph Relaxed Stereo"},{key:"graph-strict",value:"Graph Strict"},{key:"fingerprint-similarity",value:"Fingerprint Similarity"},{key:"sub-struct-graph-exact",value:"Substructure Graph Exact"},{key:"sub-struct-graph-relaxed",value:"Substructure Graph Relaxed"},{key:"sub-struct-graph-relaxed-stereo",value:"Substructure Graph Relaxed Stereo"},{key:"sub-struct-graph-strict",value:"Substructure Graph Strict"}],wm=bm[0].key,Sm=_m[0].key,Om=Em[0].key,Cm="btn btn-default btn-xs",xm=2500,km=25e3,Tm=100,Am=20,jm=2,qm="rcsb_pdb_2b1e729e-a9ff-4003-8a34-c74cf1937824",Rm=[25,50,100],Im="search_summary",Nm="session",Bm=metadata.returnTypes[0].key,Pm="combined",Dm=" AND ",Mm=" OR ",Lm="XS",Um="LG",Fm={"Content-Type":"application/json"},Hm={method:"GET",headers:Fm},Vm={method:"POST",headers:Fm},Gm=Object.assign({},Vm,{credentials:"include"}),Qm={advancedSearchNoQuery:'Use the <strong>Advanced Search Query Builder</strong> tool to create composite boolean queries. See the <a href="/docs/search-and-browse/advanced-search/overview-search" target="_blank">Help</a> page for more detailed information.',countLoading:"Loading count data...",downloadData:"Your query returned more than "+xm+" records. To download the entire data set in CSV or JSON format, you will be required to download the data as a series of batch files, each containing "+xm+' rows.\n\nTo download data in a single file you may wish to further refine your query to limit the number of records returned.\n\nClick "OK" to proceed with the batch download, otherwise click "Cancel".',downloadMsg:'For large data sets you may find it more convenient to use the <a href="/docs/programmatic-access/web-services-overview" target="_blank">Search and Data APIs.',dataError:"There was an error loading the data.",dataLoading:"Loading data...",emptyQuery:"Please enter search criteria by selecting one or more attributes and entering or selecting a value or values.",idsData:"Your query returned more than "+km+" ids. To download the entire data set, you will be required to download the data as a series of batch files, each containing "+km+' ids.\n\nTo download IDs in a single file you may wish to further refine your query to limit the number of IDs returned.\n\nClick "OK" to proceed with the batch download, otherwise click "Cancel".',noMyPdbQueries:"You have no saved queries.",noQuery:'Use the <strong>Search Bar</strong> at the top of the page to run a Basic Search query or use the <strong>Advanced Search Query Builder</strong> tool below to create composite boolean queries. See the <a href="/docs/search-and-browse/overview-search-and-browse" target="_blank">Help</a> page for more detailed information.',noResults:"No results were found matching the current query.",noSearchHistory:"Currently there is no search history.",noTabularResults:"There are no Search results to display. Use Basic Search or Advanced Search to run a query. The results may then be displayed in the Tabular Reports tab.",okToProceed:'\n\nClick "OK" to proceed, otherwise click "Cancel".',seqmotifReturnType:'You have included a Sequence Motif in your search query. To view information about matched sequence regions, “Display Results as“ should be set to "Polymer Entities".\n\nClick "OK" to proceed with the current selection ("<RETURN_TYPE>"), otherwise click "Cancel" to return to the Advanced Search Query Builder and modify the "Display Results as" setting.',sequenceReturnType:'You have included a Sequence in your search query. To view information about coverage, E-value, and sequence identity, “Display Results as“ should be set to "Polymer Entities".\n\nClick "OK" to proceed with the current selection ("<RETURN_TYPE>"), otherwise click "Cancel" to return to the Advanced Search Query Builder and modify the "Display Results as" setting.',strucmotifReturnType:'You have included a Structure Motif in your search query. To view information about matched residues and similarity score, “Display Results as“ should be set to "Assemblies".\n\nClick "OK" to proceed with the current selection ("<RETURN_TYPE>"), otherwise click "Cancel" to return to the Advanced Search Query Builder and modify the "Display Results as" setting.',structureAssemblyIdReturnType:'You have included a Structure in your search query. To view information about the similarity score, “Display Results as“ should be set to "Assemblies".\n\nClick "OK" to proceed with the current selection ("<RETURN_TYPE>"), otherwise click "Cancel" to return to the Advanced Search Query Builder and modify the "Display Results as" setting.',structureAsymIdReturnType:'You have included a Structure in your search query. To visualize chain-specific 3D alignments, “Display Results as“ should be set to "Polymer Entities".\n\nClick "OK" to proceed with the current selection ("<RETURN_TYPE>"), otherwise click "Cancel" to return to the Advanced Search Query Builder and modify the "Display Results as" setting.'},Wm="MSG_ERROR",zm="MSG_NO_QUERY",Ym="MSG_NO_RESULTS",Jm='<p>Click the &nbsp;<span class="glyphicon glyphicon-search" style="color:#fff;"></span>&nbsp; button to run the query.</p><p>When the &nbsp;<span class="glyphicon glyphicon-search" style="color:#0f0;"></span>&nbsp; icon is green, it indicates that the query may also be run by pressing the "Enter" key.</p>',Km='<p>The interface allows for the creation of composite boolean queries by combining and grouping attributes using boolean "AND", "OR", and "NOT" operators.</p>',Xm={chemicalSearch:"Search ligands bound to macromolecules in the PDB by Chemical Formula, SMILES String, or InChI.",chemicalType:"The type of chemical search to be executed.",chemicalMatchSubset:"Find formulas satisfying only a subset of the query conditions.",chemicalDescriptorType:"Type of chemical descriptor (SMILES or InChI).",chemicalMatchType:"Qualitative graph matching or fingerprint comparison criteria.",displayResultsAs:"Select the type of items to be returned in the search results. The same query may be used to return Structures, Polymer Entities, Non-polymer Entities, Assemblies, or Molecular Definitions.",full_textSearch:"<p>Use Full Text Search to search across all available text attributes.</p>"+Km,history:"<p>Search History displays upto "+Tm+' searches, beginning with the most recent. The Search History will persist only for as long as the current browser tab remains open.</p><p>To permanently save a search query, after logging in to MyPDB, click the "Save to MyPDB" button.</p>',sequenceEvalue:"Enter a value for E-Value Cutoff using either decimal or scientific notation, for example: 0.000003 or 3E-6. Hits with an E-Value above the cutoff value are filtered out.",sequenceIdentity:"Hits with sequence identity below the cutoff value are filtered out.",sequenceMotifMode:"<p>Specify the format of the sequence motif.</p><p>Simple motifs represent sequence fragments and can contain X/x as wildcard character (e.g., GxxxG).</p><p>Use PROSITE pattern notation or RegEx to express complex patterns.</p>",sequenceMotifTarget:"Identifies a specific search scope.",sequenceTarget:"Identifies a specific search scope.",queryBuilder:"<p>Use the Query Builder tool to build a new query or to modify an existing query.</p>"+Jm,refinements:'<p>Use the Refinements panel to filter the search results by selecting one or more values from the refinement categories. Selected values within a refinement category will be joined by a logical "OR" boolean operator. Refinement categories will be joined by a boolean "AND" operator.</p><p>For example, selecting two values from the "EXPERIMENTAL METHOD" category would result in the query ... AND EXPERIMENTAL METHOD = ("X-RAY DIFFRACTION" or "SOLUTION NMR") ...</p>'+Jm,sequenceSearch:'<p>Search protein and nucleic acid sequences using the mmseqs2 method to find similar protein or nucleic acid chains in the PDB Archive.</p><p>To view the Sequence Identity, E-Value, and Region information in the search results, you must select "Polymer Entities" from the "Display Results as" dropdown.</p>',seqmotifSearch:'<p>Search for small sequence motifs in protein and nucleic acid sequences.</p><p>Enter a sequence motif in Simple, PROSITE or RegEx format.</p><p>To view the Sequence Motif Matching Region information in the search results, you must select "Polymer Entities" from the "Display Results as" dropdown. </p>',strucmotifSearch:'Search for a small number of amino acids constituting a catalytic center or a binding site.</p><p>Define a query by a reference PDB ID and a set of residues, identified by "label_asym_id" and "label_seq_id".</p><p>To view the Structure Motif Hits in the search results, you must select "Assemblies" from the "Display Results as" dropdown.</p>',strucmotifValue:"The reference structure from which the query will be extracted.",strucmotifResidues:"<p>The set of at least 3 residues that defines the query motif in the reference structure.</p><p>Identify chains by their label_asym_id.</p><p>Optionally, identify the assembly generating operation by its name. Combine operators by 'x' (e.g., '1x5'). Leave at '1' when in doubt.</p><p>Identify individual residues by their label_seq_id.</p><p>Specify allowed exchanges as comma-separated three-letter-codes (e.g., 'HIS,LYS'). Leave empty to allow only residue type from reference structure.</p>",strucmotifRmsdCutoff:"Maximum root-mean-square deviation in Å, hits with higher values will be omitted.",strucmotifAtomPairingScheme:"Controls which atom sets are used to compute RMSD score and transformation.",strucmotifMatchScore:"Root-mean-square deviation of the alignment between query and hit. 0.0 Å indicates optimal agreement.",structureMatchScore:"<p>Probability (in percentage) that the structure match is similar to the query (0-100).</p>",structureSearch:'<p>Search protein structure shapes by using BioZernike descriptors as described in Guzenko et al 2020. The search will find structures whose volumes are globally similar to the query structure.</p><p>To view the Structure Match Score in the search results, you must select "Assemblies" from the "Display Results as" dropdown.</p>',textSearch:"<p>Use Structure Attribute Search to search attributes specific to biological macromolecular structures. </p>"+Km,text_chemSearch:"<p>Use Chemical Search to search attributes specific to chemical components and biologically interesting peptide-like antibiotic and inhibitor molecules. </p>"+Km},Zm={chemicalFormula:'C12 H28 N4 O. Note that a Chemical Formula Search is case-sensitive. For example: "NIC4" (Nitrogen, Iodine, Carbon) and "NiC4" (Nickel, Carbon), will yield different results.',chemicalInChI:"InChI=1S/C12H28N4O/c1-12(17)16-11-5-10-15-8-3-2-7-14-9-4-6-13/h14-15H,2-11,13H2,1H3,(H,16,17)",chemicalSMILES:"CC(=O)NCCCNCCCCNCCCN",fullText:"Enter one or more search terms.",identityCutoff:"0-100",searchBar:"Enter search terms or PDB ID(s).",searchChemicalDescriptor:"SMILES or InChI chemical descriptor.",searchChemicalFormula:"Molecular formula",searchEntryId:"1MBN",sequenceMotifSearch:["MQTIF","C-x(2,4)-C-x(3)-[LIVMFYWC]-x(8)-H-x(3,5)-H","[AG]....GK[ST]"],sequenceSearch:"MTTQAPTFTQPLQSVVVLEG. Enter a sequence containing a minimum of "+Am+" residues, OR enter a PDB ID in the text box below and select from the sequence list. The second option is useful for finding sequences that are similar to a sequence from a given structure and chain.",structuralMotifExchanges:"HIS,LYS (optional)",structuralMotifSearch:"4CHA",treeSearchBar:"Enter a word or phrase to search the tree."},$m={documentation:"Documentation",login:"Sign In",queries:"Search Queries",account:"Account Settings"},ey=[{id:"google",name:"Google"},{id:"facebook",name:"Facebook"},{id:"orcid",name:"ORCID"}],ty={goFooter:"<i><strong>Note:</strong> Not all PDB IDs/chains have been mapped to GO terms.</i>",goHeader:'<p style="font-size:12px;"><i><strong>Note:</strong> to search by GO ID it is only necessary to enter the numeric portion of the ID, for example, to search for <strong>"GO:0007610"</strong>, enter <strong>"761"</strong>.</i></p>',headers:{atc:'<p>The <a href="http://www.whocc.no/atc/structure_and_principles/" target="_blank">Anatomical Therapeutic Chemical (ATC) </a> Classification System is used for the classification of drugs. It is controlled by the <a href="http://www.whocc.no/" target="_blank">WHO Collaborating Centre</a> for Drug Statistics Methodology.<br /><i>ATC names are only listed when there are corresponding PDB entries.</i></p><p>Here you can <strong>browse</strong> an ATC name, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific ATC code.<p>',biological_process:'<p>Vocabulary terms describing biological processes developed by the <a href="http://www.geneontology.org/" target="_blank">Gene Ontology Consortium (GO)</a> have been mapped to PDB entities by <a href="http://www.ebi.ac.uk/pdbe/docs/sifts/" target="_blank">SIFTS</a>.</p><p>Browse this Biological Process tree by selecting a GO term, or enter a GO term in the search box to identify the corresponding PDB entities.</p>',cath:'<p><a href="http://www.cathdb.info/" target="_blank">CATH</a> is a novel hierarchical classification of protein domain structures, which clusters proteins at four major levels, Class(C), Architecture(A), Topology(T) and Homologous superfamily (H). Class, derived from secondary structure content, is assigned for more than 90% of protein structures automatically. Architecture, which describes the gross orientation of secondary structures, independent of connectivities, is currently assigned manually. The topology level clusters structures according to their toplogical connections and numbers of secondary structures. The homologous superfamilies cluster proteins with highly similar structures and functions. The assignments of structures to toplogy families and homologous superfamilies are made by sequence and structure comparisons.</p>',cellular_component:'<p>Vocabulary terms describing cellular component locations developed by the <a href="http://www.geneontology.org/" target="_blank">Gene Ontology Consortium (GO)</a> have been mapped to PDB entities by <a href="http://www.ebi.ac.uk/pdbe/docs/sifts/" target="_blank">SIFTS</a>.</p><p>Browse this Cellular Component tree by selecting a GO term, or enter a GO term in the search box to identify the corresponding PDB entities.</p>',ec:'<p>The PDB assigns EC (Enzyme Commission) numbers to structures and chains in the archive. These assignments are based on UniProtKB/GenBank/KEGG/author specified mapping of the enzyme to EC numbers. Enzyme Classification is based on the recommendations of the Nomenclature Committee of the International Union of Biochemistry and Molecular Biology (<a class="static" href="https://www.qmul.ac.uk/sbcs/iubmb/enzyme/" target="_blank">IUBMB</a>). It describes each enzyme for which an EC number has been provided (<a class="static" href="http://www.expasy.ch/enzyme/" target="_blank">EC</a>).</p><p>Here you can <strong>browse</strong> an EC name, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific associated structures. In addition to searching for an enzyme in the tree by term, you can search for the enzyme by either partial or full EC number.</p>',genome_location:'<p>The genome browser is a hierarchical representation of structures from genomes of various organisms. RCSB PDB has mapped the structures to the chromosomal loci based on UniProtKB/GenBank accession numbers associated with the structures and the loci. The genomes represented are a subset of the genomes in the NCBI genome database and whose curated sequences for genetic loci are archived at <a class="static" href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?db=gene" target="_blank">Entrez Gene</a>. The top level in the hierarchy is the organism\'s  genome. Each genome expands into chromosomes which in turn expand into a list of loci on the chromosomes. Each locus is a link to retrieve structures associated with that locus.</p><p>Here you can <strong>browse</strong> by Gene name, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific associated structures. Genes may be <strong>searched</strong> using their <strong>names</strong>.</p>',membrane:'<p>Transmembrane protein annotations derived from the <a href="http://blanco.biomol.uci.edu/mpstruc/" target="_blank">mpstruc database</a> (Stephen White, UC Irvine) and UniProt.</p>',opm:'<p>Transmembrane protein annotations derived from the <a href="https://opm.phar.umich.edu/" target="_blank">Orientations of Proteins in Membranes (OPM) database</a> (Andrei Lomize, University of Michigan) and UniProt.</p>',
mesh:'<a href="http://www.nlm.nih.gov/mesh/" target="_blank">MeSH (Medical Subject Headings)</a> are used to classify publications indexed by the National Library of Medicine (NLM). MeSH is a hierarchical set of keywords applied to each publication by a human annotator. The majority of PDB structures have associated a primary citation that is listed on the Structure Summary page. That citation includes an abstract and keywords. The keywords are in fact MeSH terms. Thus by browsing the MeSH tree you are finding all structures at a given level of the tree that have an abstract which include the selected MeSH term as a keyword.',molecular_function:'<p>Vocabulary terms describing molecular function developed by the <a href="http://www.geneontology.org/" target="_blank">Gene Ontology Consortium (GO)</a> have been mapped to PDB entities by <a href="http://www.ebi.ac.uk/pdbe/docs/sifts/" target="_blank">SIFTS</a>.</p><p>Browse this Molecular Function tree by selecting a GO term, or enter a GO term in the search box to identify the corresponding PDB entities.</p>',protein_modification:'<p>Browse protein residue modifications in the PDB archive using the protein modification ontology (<a href="http://www.ebi.ac.uk/ols/ontologies/mod" target="_blank">PSI-MOD</a>) from         the Proteomics Standards Initiative (<a href="http://www.psidev.info/MOD" target="_blank">PSI</a>). Here you can <strong>browse</strong> the PSI-MOD Protein Modifications, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific associated structures.</p><p>Please cite:<br />BioJava-ModFinder: Identification of protein modifications in 3D structures from the Protein Data Bank (2017) Bioinformatics, https://doi.org/10.1093/bioinformatics/btx101</p>',scop:'<p>Nearly all proteins have structural similarities with other proteins and, in some of these cases, share a common evolutionary origin. The <a  href="http://scop.mrc-lmb.cam.ac.uk/scop/" target="_blank">SCOP</a> database, created by manual inspection and abetted by a battery of automated methods, aims to provide a detailed and comprehensive description of the structural and evolutionary relationships between all proteins whose structure is known. As such, it provides a broad survey of all known protein folds, detailed information about the close relatives of any particular protein, and a framework for future research and classification.</p><p>Here you can <strong>browse</strong> by SCOP structural classifications (version 1.75 <a href="http://scop.mrc-lmb.cam.ac.uk/scop/" target="_blank"><span class="iconSet-main icon-external" title="Link out to SCOP">&nbsp;</span></a>).</p>',symmetry:"<p>Protein symmetry is calculated for all protein complexes in the PDB, and updated weekly.</p>",taxonomy:"<p>The Source Organism browser is a hierarchical representation of all organisms in the NCBI Taxonomy database (Taxonomy). All organisms which have structures in the PDB are listed as active links in the browser. These organisms are the source of the individual naturally-occurring polypeptides. The PDB source organism assignment is based on author/UniProtKB specified mapping of polypeptides.</p><p>Here you can browse by source organism, view the number of associated PDB structures, and search for the specific associated structures.</p>",transporter_classification:'<p>Browse membrane transport proteins in the PDB archive using the Transporter Classification (TC) system from the Transporter Classification Database (<a href="http://www.tcdb.org" target="_blank">www.tcdb.org</a>).</p><p>Here you can <strong>browse</strong> the TCDB superfamilies, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific associated structures.</p>'}},ry={},ny={},oy=[],ay={custom_report:"Custom",entry_id:"PDB ID",evalue_cutoff:"E-Value Cutoff",identity_cutoff:"Identity Cutoff",target:"Target",pattern_type:"Mode",relaxed_shape_match:"Relaxed",shape_match:"Shape Match",strict_shape_match:"Strict",label_asym_id:"Chain ID",struct_oper_id:"Operator",label_seq_id:"Residue Number",exchanges:"Exchanges",rmsd_cutoff:"RMSD Cutoff",atom_pairing_scheme:"Atom Pairing",descriptor_type:"Descriptor Type",match_subset:"Match Subset",match_type:"Match Type",query_type:"Query Type"},iy={},sy={},cy={},ly=Ke,uy=Xe,py=Ze,dy=Array.prototype,fy=dy.splice,hy=$e,my=et,yy=tt,vy=rt;nt.prototype.clear=ly,nt.prototype.delete=hy,nt.prototype.get=my,nt.prototype.has=yy,nt.prototype.set=vy;var gy=nt,by=ot,_y=at,Ey=it,wy=st,Sy="object"==typeof xi&&xi&&xi.Object===Object&&xi,Oy=Sy,Cy="object"==typeof self&&self&&self.Object===Object&&self,xy=Oy||Cy||Function("return this")(),ky=xy,Ty=ky.Symbol,Ay=Ty,jy=Object.prototype,qy=jy.hasOwnProperty,Ry=jy.toString,Iy=Ay?Ay.toStringTag:void 0,Ny=ct,By=Object.prototype,Py=By.toString,Dy=lt,My="[object Null]",Ly="[object Undefined]",Uy=Ay?Ay.toStringTag:void 0,Fy=ut,Hy=pt,Vy="[object AsyncFunction]",Gy="[object Function]",Qy="[object GeneratorFunction]",Wy="[object Proxy]",zy=dt,Yy=ky["__core-js_shared__"],Jy=Yy,Ky=function(){var e=/[^.]+$/.exec(Jy&&Jy.keys&&Jy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Xy=ft,Zy=Function.prototype,$y=Zy.toString,ev=ht,tv=/[\\^$.*+?()[\]{}|]/g,rv=/^\[object .+?Constructor\]$/,nv=Function.prototype,ov=Object.prototype,av=nv.toString,iv=ov.hasOwnProperty,sv=RegExp("^"+av.call(iv).replace(tv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cv=mt,lv=yt,uv=vt,pv=uv(ky,"Map"),dv=pv,fv=uv(Object,"create"),hv=fv,mv=gt,yv=bt,vv="__lodash_hash_undefined__",gv=Object.prototype,bv=gv.hasOwnProperty,_v=_t,Ev=Object.prototype,wv=Ev.hasOwnProperty,Sv=Et,Ov="__lodash_hash_undefined__",Cv=wt;St.prototype.clear=mv,St.prototype.delete=yv,St.prototype.get=_v,St.prototype.has=Sv,St.prototype.set=Cv;var xv=St,kv=Ot,Tv=Ct,Av=xt,jv=kt,qv=Tt,Rv=At,Iv=jt;qt.prototype.clear=kv,qt.prototype.delete=jv,qt.prototype.get=qv,qt.prototype.has=Rv,qt.prototype.set=Iv;var Nv=qt,Bv=200,Pv=Rt;It.prototype.clear=by,It.prototype.delete=_y,It.prototype.get=Ey,It.prototype.has=wy,It.prototype.set=Pv;var Dv=It,Mv=Nt,Lv=function(){try{var e=uv(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Uv=Lv,Fv=Bt,Hv=Object.prototype,Vv=Hv.hasOwnProperty,Gv=Pt,Qv=Dt,Wv=Mt,zv=Lt,Yv="[object Arguments]",Jv=Ut,Kv=Object.prototype,Xv=Kv.hasOwnProperty,Zv=Kv.propertyIsEnumerable,$v=Jv(function(){return arguments}())?Jv:function(e){return zv(e)&&Xv.call(e,"callee")&&!Zv.call(e,"callee")},eg=$v,tg=Array.isArray,rg=tg,ng=Ft,og=r(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,a=o?ky.Buffer:void 0,i=a?a.isBuffer:void 0,s=i||ng;e.exports=s}),ag=9007199254740991,ig=/^(?:0|[1-9]\d*)$/,sg=Ht,cg=9007199254740991,lg=Vt,ug={};ug["[object Float32Array]"]=ug["[object Float64Array]"]=ug["[object Int8Array]"]=ug["[object Int16Array]"]=ug["[object Int32Array]"]=ug["[object Uint8Array]"]=ug["[object Uint8ClampedArray]"]=ug["[object Uint16Array]"]=ug["[object Uint32Array]"]=!0,ug["[object Arguments]"]=ug["[object Array]"]=ug["[object ArrayBuffer]"]=ug["[object Boolean]"]=ug["[object DataView]"]=ug["[object Date]"]=ug["[object Error]"]=ug["[object Function]"]=ug["[object Map]"]=ug["[object Number]"]=ug["[object Object]"]=ug["[object RegExp]"]=ug["[object Set]"]=ug["[object String]"]=ug["[object WeakMap]"]=!1;var pg=Gt,dg=Qt,fg=r(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,a=o&&Oy.process,i=function(){try{var e=n&&n.require&&n.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}),hg=fg&&fg.isTypedArray,mg=hg?dg(hg):pg,yg=mg,vg=Object.prototype,gg=vg.hasOwnProperty,bg=Wt,_g=Object.prototype,Eg=zt,wg=Yt,Sg=wg(Object.keys,Object),Og=Sg,Cg=Object.prototype,xg=Cg.hasOwnProperty,kg=Jt,Tg=Kt,Ag=Xt,jg=Zt,qg=$t,Rg=Object.prototype,Ig=Rg.hasOwnProperty,Ng=er,Bg=tr,Pg=rr,Dg=r(function(e,t){function r(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}var n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===n,i=a?ky.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=r}),Mg=nr,Lg=or,Ug=ar,Fg=Object.prototype,Hg=Fg.propertyIsEnumerable,Vg=Object.getOwnPropertySymbols,Gg=Vg?function(e){return null==e?[]:(e=Object(e),Lg(Vg(e),function(t){return Hg.call(e,t)}))}:Ug,Qg=Gg,Wg=ir,zg=sr,Yg=wg(Object.getPrototypeOf,Object),Jg=Yg,Kg=Object.getOwnPropertySymbols,Xg=Kg?function(e){for(var t=[];e;)zg(t,Qg(e)),e=Jg(e);return t}:Ug,Zg=Xg,$g=cr,eb=lr,tb=ur,rb=pr,nb=uv(ky,"DataView"),ob=nb,ab=uv(ky,"Promise"),ib=ab,sb=uv(ky,"Set"),cb=sb,lb=uv(ky,"WeakMap"),ub=lb,pb=ev(ob),db=ev(dv),fb=ev(ib),hb=ev(cb),mb=ev(ub),yb=Fy;(ob&&"[object DataView]"!=yb(new ob(new ArrayBuffer(1)))||dv&&"[object Map]"!=yb(new dv)||ib&&"[object Promise]"!=yb(ib.resolve())||cb&&"[object Set]"!=yb(new cb)||ub&&"[object WeakMap]"!=yb(new ub))&&(yb=function(e){var t=Fy(e),r="[object Object]"==t?e.constructor:void 0,n=r?ev(r):"";if(n)switch(n){case pb:return"[object DataView]";case db:return"[object Map]";case fb:return"[object Promise]";case hb:return"[object Set]";case mb:return"[object WeakMap]"}return t});var vb=yb,gb=Object.prototype,bb=gb.hasOwnProperty,_b=dr,Eb=ky.Uint8Array,wb=Eb,Sb=fr,Ob=hr,Cb=/\w*$/,xb=mr,kb=Ay?Ay.prototype:void 0,Tb=kb?kb.valueOf:void 0,Ab=yr,jb=vr,qb="[object Boolean]",Rb="[object Date]",Ib="[object Map]",Nb="[object Number]",Bb="[object RegExp]",Pb="[object Set]",Db="[object String]",Mb="[object Symbol]",Lb="[object ArrayBuffer]",Ub="[object DataView]",Fb="[object Float32Array]",Hb="[object Float64Array]",Vb="[object Int8Array]",Gb="[object Int16Array]",Qb="[object Int32Array]",Wb="[object Uint8Array]",zb="[object Uint8ClampedArray]",Yb="[object Uint16Array]",Jb="[object Uint32Array]",Kb=gr,Xb=Object.create,Zb=function(){function e(){}return function(t){if(!Hy(t))return{};if(Xb)return Xb(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),$b=Zb,e_=br,t_="[object Map]",r_=_r,n_=fg&&fg.isMap,o_=n_?dg(n_):r_,a_=o_,i_="[object Set]",s_=Er,c_=fg&&fg.isSet,l_=c_?dg(c_):s_,u_=l_,p_=1,d_=2,f_=4,h_="[object Arguments]",m_="[object Function]",y_="[object GeneratorFunction]",v_="[object Object]",g_={};g_[h_]=g_["[object Array]"]=g_["[object ArrayBuffer]"]=g_["[object DataView]"]=g_["[object Boolean]"]=g_["[object Date]"]=g_["[object Float32Array]"]=g_["[object Float64Array]"]=g_["[object Int8Array]"]=g_["[object Int16Array]"]=g_["[object Int32Array]"]=g_["[object Map]"]=g_["[object Number]"]=g_[v_]=g_["[object RegExp]"]=g_["[object Set]"]=g_["[object String]"]=g_["[object Symbol]"]=g_["[object Uint8Array]"]=g_["[object Uint8ClampedArray]"]=g_["[object Uint16Array]"]=g_["[object Uint32Array]"]=!0,g_["[object Error]"]=g_[m_]=g_["[object WeakMap]"]=!1;var b_,__,E_,w_,S_=wr,O_=1,C_=4,x_=Sr,k_=r(function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?r.push(t.charAt(o>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}};e.exports=r}()}),T_={utf8:{stringToBytes:function(e){return T_.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(T_.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},A_=T_,j_=function(e){return null!=e&&(Or(e)||Cr(e)||!!e._isBuffer)},q_=r(function(e){!function(){var t=k_,r=A_.utf8,n=j_,o=A_.bin,a=function(e,i){e.constructor==String?e=i&&"binary"===i.encoding?o.stringToBytes(e):r.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,p=-1732584194,d=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;for(var h=a._ff,m=a._gg,y=a._hh,v=a._ii,f=0;f<s.length;f+=16){var g=l,b=u,_=p,E=d;l=h(l,u,p,d,s[f+0],7,-680876936),d=h(d,l,u,p,s[f+1],12,-389564586),p=h(p,d,l,u,s[f+2],17,606105819),u=h(u,p,d,l,s[f+3],22,-1044525330),l=h(l,u,p,d,s[f+4],7,-176418897),d=h(d,l,u,p,s[f+5],12,1200080426),p=h(p,d,l,u,s[f+6],17,-1473231341),u=h(u,p,d,l,s[f+7],22,-45705983),l=h(l,u,p,d,s[f+8],7,1770035416),d=h(d,l,u,p,s[f+9],12,-1958414417),p=h(p,d,l,u,s[f+10],17,-42063),u=h(u,p,d,l,s[f+11],22,-1990404162),l=h(l,u,p,d,s[f+12],7,1804603682),d=h(d,l,u,p,s[f+13],12,-40341101),p=h(p,d,l,u,s[f+14],17,-1502002290),u=h(u,p,d,l,s[f+15],22,1236535329),l=m(l,u,p,d,s[f+1],5,-165796510),d=m(d,l,u,p,s[f+6],9,-1069501632),p=m(p,d,l,u,s[f+11],14,643717713),u=m(u,p,d,l,s[f+0],20,-373897302),l=m(l,u,p,d,s[f+5],5,-701558691),d=m(d,l,u,p,s[f+10],9,38016083),p=m(p,d,l,u,s[f+15],14,-660478335),u=m(u,p,d,l,s[f+4],20,-405537848),l=m(l,u,p,d,s[f+9],5,568446438),d=m(d,l,u,p,s[f+14],9,-1019803690),p=m(p,d,l,u,s[f+3],14,-187363961),u=m(u,p,d,l,s[f+8],20,1163531501),l=m(l,u,p,d,s[f+13],5,-1444681467),d=m(d,l,u,p,s[f+2],9,-51403784),p=m(p,d,l,u,s[f+7],14,1735328473),u=m(u,p,d,l,s[f+12],20,-1926607734),l=y(l,u,p,d,s[f+5],4,-378558),d=y(d,l,u,p,s[f+8],11,-2022574463),p=y(p,d,l,u,s[f+11],16,1839030562),u=y(u,p,d,l,s[f+14],23,-35309556),l=y(l,u,p,d,s[f+1],4,-1530992060),d=y(d,l,u,p,s[f+4],11,1272893353),p=y(p,d,l,u,s[f+7],16,-155497632),u=y(u,p,d,l,s[f+10],23,-1094730640),l=y(l,u,p,d,s[f+13],4,681279174),d=y(d,l,u,p,s[f+0],11,-358537222),p=y(p,d,l,u,s[f+3],16,-722521979),u=y(u,p,d,l,s[f+6],23,76029189),l=y(l,u,p,d,s[f+9],4,-640364487),d=y(d,l,u,p,s[f+12],11,-421815835),p=y(p,d,l,u,s[f+15],16,530742520),u=y(u,p,d,l,s[f+2],23,-995338651),l=v(l,u,p,d,s[f+0],6,-198630844),d=v(d,l,u,p,s[f+7],10,1126891415),p=v(p,d,l,u,s[f+14],15,-1416354905),u=v(u,p,d,l,s[f+5],21,-57434055),l=v(l,u,p,d,s[f+12],6,1700485571),d=v(d,l,u,p,s[f+3],10,-1894986606),p=v(p,d,l,u,s[f+10],15,-1051523),u=v(u,p,d,l,s[f+1],21,-2054922799),l=v(l,u,p,d,s[f+8],6,1873313359),d=v(d,l,u,p,s[f+15],10,-30611744),p=v(p,d,l,u,s[f+6],15,-1560198380),u=v(u,p,d,l,s[f+13],21,1309151649),l=v(l,u,p,d,s[f+4],6,-145523070),d=v(d,l,u,p,s[f+11],10,-1120210379),p=v(p,d,l,u,s[f+2],15,718787259),u=v(u,p,d,l,s[f+9],21,-343485551),l=l+g>>>0,u=u+b>>>0,p=p+_>>>0,d=d+E>>>0}return t.endian([l,u,p,d])};a._ff=function(e,t,r,n,o,a,i){var s=e+(t&r|~t&n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},a._gg=function(e,t,r,n,o,a,i){var s=e+(t&n|r&~n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},a._hh=function(e,t,r,n,o,a,i){var s=e+(t^r^n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},a._ii=function(e,t,r,n,o,a,i){var s=e+(r^(t|~n))+(o>>>0)+i;return(s<<a|s>>>32-a)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,r){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(a(e,r));return r&&r.asBytes?n:r&&r.asString?o.bytesToString(n):t.bytesToHex(n)}}()}),R_="util",I_=0,N_="reducers/helpers/common-text-service",B_="reducers/helpers/query-builder",P_="reducers/helpers/history",D_="reducers/helpers/similarity-service-service",M_="reducers/reducers",L_={alignmentView:Wn,booleans:zn,containerWidth:Yn,control:Jn,customReport:Kn,cw:Xn,history:Zn,msg:$n,pager:eo,queryBuilder:to,request:ro,requestHtml:no,searchResults:ao,returnType:oo,select:io,sort:so,tabularReport:lo,tooltip:co,trees:uo,urls:po,views:fo},U_=function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];void 0===e[o]&&ue('No reducer provided for key "'+o+'"'),"function"==typeof e[o]&&(r[o]=e[o])}var a,i=Object.keys(r);a={};var s;try{fe(r)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;var n=de(e,r,t,a);n&&ue(n);for(var o=!1,c={},l=0;l<i.length;l++){var u=i[l],p=r[u],d=e[u],f=p(d,t);if(void 0===f){var h=pe(u,t);throw new Error(h)}c[u]=f,o=o||f!==d}return o?c:e}}(L_),F_="common/request",H_='Please use the "Contact Us" button for help in resolving the problem. ',V_=" = ",G_="common/process-path",Q_=/^-?\d*$/,W_=/^[+-]?((\d*\.?\d*)|(((\d*\.?\d+)|(\d+\.?\d*))([eE][+-]?\d*)))$/,z_={pdb_protein_sequence:/^[ARNDCEQGHILKMFPSTWYVX]+$/,pdb_dna_sequence:/^[ACTG]+$/,pdb_rna_sequence:/^[ACUG]+$/},Y_={pdb_protein_sequence:"ARNDCEQGHILKMFPSTWYVX",pdb_dna_sequence:"ACTG",pdb_rna_sequence:"ACUG"},J_=["pdb_dna_sequence","pdb_rna_sequence","pdb_protein_sequence"],K_=J_.length,X_='You may need to enter a different sequence, or select a different "Target" value. Allowable characters are: \n\n',Z_="actions/helpers/query-builder",$_=["count","map","open"],eE=["count","id","is_root","open","showAnd"],tE=["count","entry_id","id","open","placeholder","showAnd"],rE=["count","id"],nE=["attrObj","count","id","item"],oE=["parameters","service"],aE=["category","id"],iE="actions/search",sE=!0,cE="actions/urls",lE="/search",uE="actions/get-data",pE={dataLoading:!0},dE={countLoading:!0},fE="actions/download-files",hE=Sf,mE="events",yE=10,vE="actions/misc",gE=function(e){return e},bE=function(e){return{dispatchAction:function(t,r){return e(ti(t,r))},downloadFiles:function(t){return e(Fa(t))},getSearchData:function(t,r,n){return e(ja(t,r,n))},pageResults:function(t){return e(qa(t))},setResultsPerPage:function(t){return e(Ra(t))},sortResults:function(t){return e(Ia(t))},saveTreeData:function(t,r){return e(Za(t,r))},setEventsGetState:function(){return e($a())},setViews:function(t,r,n){return e(ei(t,r))},attributeValueSearch:function(t,r,n){return e(fa(t,r,n))},countSearch:function(t,r){return e(ha(t,r))},prevNextSearch:function(t){return e(ma(t))},queryBuilderSearch:function(){return e(ya())},refinementSearch:function(){return e(va())},requestSearch:function(t,r){return e(ga(t,r))},urlSearch:function(){return e(ba())},popState:function(t){return e(Ta(t))},pushState:function(t){return e(Aa(t))}}},_E=function(){return{}},EE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props.format,t=["treeData"];return Ci.createElement("div",null,"html"===e?Ci.createElement("div",{dangerouslySetInnerHTML:{__html:an(this.props,0,t)}}):Ci.createElement("pre",{id:"state"},ri(this.props,t)))},t}(e.Component),wE=_f(gE,_E)(EE),SE="rgba(0, 0, 0, 0.02)",OE="rgba(0, 0, 0, 0.03)",CE="rgba(0, 0, 0, 0.04)",xE="rgba(0, 0, 0, 0.06)",kE="rgba(0, 0, 0, 0.08)",TE="rgba(0, 0, 0, 0.10)",AE="rgba(0, 0, 0, 0.20)",jE="rgba(0, 0, 0, 0.60)",qE="rgb(255, 255, 255)",RE="rgba(255, 255, 255, 0.5)",IE="1px solid "+CE,NE="1px solid "+xE,BE="1px solid "+kE,PE="1px solid "+TE,DE="1px solid rgba(0, 0, 0, 0.15)",ME="1px solid "+AE,LE="1px solid "+jE,UE=PE,FE={color:AE,cursor:"not-allowed"},HE={display:"inline-block",verticalAlign:"top"},VE=Object.assign({},HE,{width:"50%"}),GE=Object.assign({},HE,{width:"50%",textAlign:"right"}),QE={backgroundColor:OE,border:UE,marginBottom:10,padding:4},WE={width:"100%"},zE={color:"rgba(0, 0, 0, 0.80)",cursor:"pointer",fontWeight:"normal",fontSize:12,padding:"0 8px",userSelect:"none",whiteSpace:"nowrap",lineHeight:"26px",height:26,verticalAlign:"top"},YE=Object.assign({},zE,{border:ME,display:"inline-block"}),JE=Object.assign({},YE,{borderRight:"none"}),KE=Object.assign({},YE,{borderLeft:"none"}),XE=Object.assign({},YE,FE),ZE=Object.assign({},JE,FE),$E=Object.assign({},YE,{border:"none",backgroundColor:"rgb(50, 88, 128)",color:qE,lineHeight:"26px",width:26,textAlign:"center"}),ew=Object.assign({},$E,{color:"rgb(51, 255, 51)"}),tw=Object.assign({},YE,{padding:"0 6px",lineHeight:"22px",height:22}),rw=Object.assign({},tw,{borderRight:"none"}),nw=Object.assign({},tw,FE),ow=Object.assign({},rw,FE),aw={border:UE,height:26,borderRadius:0,backgroundColor:"#fff",width:"auto",verticalAlign:"top"},iw={lineHeight:"26px",userSelect:"none",padding:"0 4px",whiteSpace:"nowrap",display:"inline-block",verticalAlign:"top"},sw={marginTop:6},cw=Object.assign({},HE,{lineHeight:"26px"}),lw={panel:{fontSize:12,border:UE,backgroundColor:SE},toggle:{paddingRight:4,display:"inline-block",verticalAlign:"top",lineHeight:"26px"},header:{padding:4},service:{marginRight:4,marginBottom:5,position:"relative"},serviceHeaderOpen:{height:26,lineHeight:"26px",padding:"0 4px 0 4px",backgroundColor:SE,borderTop:UE,borderLeft:UE,borderRight:UE,width:"100%"},serviceOperator:{textAlign:"right",fontWeight:"bold",paddingRight:4,lineHeight:"26px",userSelect:"none",width:50,marginTop:4},textServiceBody:{padding:"4px 0 4px 0",backgroundColor:SE,borderBottom:UE,borderLeft:UE,borderRight:UE,width:"100%"},andOr:{textAlign:"right",paddingRight:4,fontWeight:"bold",userSelect:"none",verticalAlign:"top",lineHeight:"26px",width:69},andOrBtn:{verticalAlign:"top",lineHeight:"26px",width:69},footer:{paddingLeft:4,paddingRight:4,paddingBottom:3,textAlign:"right"},textarea:{width:"100%",height:"38px",resize:"vertical",border:DE},group:{borderTop:UE,borderLeft:UE,padding:"4px 0",backgroundColor:CE},terminal:{width:"100%",borderTop:UE,borderLeft:UE},textInput:{border:"none",borderRadius:0,width:"100%",height:26,paddingLeft:4,verticalAlign:"top"},btnsTdLeft:{borderTop:UE},btnsTdRight:{width:"100%",borderTop:UE},tdRemoveBtn:{width:"100%",textAlign:"right"},tdBtnBrdrNone:Object.assign({},zE),tdBtnBrdrRight:Object.assign({},zE,{borderRight:UE}),tdBtnBrdrLeftRight:Object.assign({},zE,{borderLeft:UE,borderRight:UE}),tdBtnBrdrLeft:Object.assign({},zE,{borderLeft:UE}),tdBtnBrdrBottom:Object.assign({},zE,{borderBottom:UE}),tdBtnBrdrBottomRight:Object.assign({},zE,{borderBottom:UE,borderRight:UE}),tdBtnBrdrBottomLeftRight:Object.assign({},zE,{borderBottom:UE,borderLeft:UE,borderRight:UE}),tdBtnBrdrBottomLeft:Object.assign({},zE,{borderBottom:UE,borderLeft:UE})};lw.serviceHeaderClosed=Object.assign({},lw.serviceHeaderOpen,{borderBottom:UE,width:180}),lw.textInputBrdr=Object.assign({},lw.textInput,{border:UE}),lw.textInputBrdrLeft=Object.assign({},lw.textInput,{borderLeft:UE}),lw.textInputBrdrLeftRight=Object.assign({},lw.textInput,{borderLeft:UE,borderRight:UE}),lw.textInputBrdrRight=Object.assign({},lw.textInput,{borderRight:UE}),lw.similarityServiceBody=Object.assign({},lw.textServiceBody,{padding:4});var uw={tbl:{fontSize:12},th:{padding:4,fontWeight:"bold"},thNowrap:{padding:4,fontWeight:"bold",whiteSpace:"nowrap"},thDeleteAll:{padding:"6px 4px 2px"},thLine:{padding:"0 4px",fontWeight:"bold",lineHeight:"26px"},thLineNowrap:{padding:"0 4px",fontWeight:"bold",lineHeight:"26px",whiteSpace:"nowrap"},thLineDeleteAll:{paddingBottom:2},trEven:{backgroundColor:SE,borderTop:UE},trOdd:{backgroundColor:qE,borderTop:UE},trSelected:{color:"#fff",backgroundColor:"rgba(51, 122, 183, 0.75)",borderTop:UE},td:{padding:4},tdNowrap:{padding:4,whiteSpace:"nowrap"},tdCenter:{padding:4,textAlign:"center"},tdRequest:{padding:4,width:"100%",cursor:"pointer"},tdRight:{padding:4,textAlign:"right"},tdDateTime:{padding:4,whiteSpace:"nowrap"}},pw=Object.freeze({color_02:SE,color_03:OE,color_04:CE,color_06:xE,color_08:kE,color_10:TE,color_15:"rgba(0, 0, 0, 0.15)",color_20:AE,color_40:"rgba(0, 0, 0, 0.40)",color_60:jE,color_80:"rgba(0, 0, 0, 0.80)",color_link:"#337ab7",color_link_visited:"#b77ab7",color_header_dark:"rgb(94, 105, 115)",color_header_dark_disabled:"rgba(94, 105, 115, 0.66)",debugBg:"rgba(0, 0, 255, 0.1)",white:qE,white_50:RE,border_04:IE,border_06:NE,border_08:BE,border_10:PE,border_15:DE,border_20:ME,border_40:"1px solid rgba(0, 0, 0, 0.40)",border_60:LE,border:UE,height:26,lineHeight:"26px",heightSm:22,lineHeightSm:"22px",disabled:FE,padding:"2px 4px",inline:HE,lStyle:VE,rStyle:GE,msg:QE,pc_100:WE,tdBtn:zE,btn:YE,btnBrdrRightNone:JE,btnBrdrLeftNone:KE,btnDisabled:XE,btnBrdrRightNoneDisabled:ZE,btnSearch:$E,btnSearchActive:ew,btnSm:tw,btnSmBrdrRightNone:rw,btnSmDisabled:nw,btnSmBrdrRightNoneDisabled:ow,selectStyle:aw,label:iw,radioBtnStyle:sw,tooltipIconStyle:cw,qb:lw,queries:uw}),dw=function(e){function t(t){e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){},t.prototype.componentDidUpdate=function(e){},t.prototype.render=function(){var e=["btn","btnBrdrRightNone","btnBrdrLeftNone","btnDisabled","btnBrdrRightNoneDisabled","btnSearch","btnSearchActive","btnSm","btnSmBrdrRightNone","btnSmDisabled","btnSmBrdrRightNoneDisabled"],t=["tdBtn","tdBtnBrdrRight","tdBtnBrdrLeftRight","tdBtnBrdrNone","tdBtnBrdrLeft","tdBtnBrdrBottomRight","tdBtnBrdrBottomLeftRight","tdBtnBrdrBottomLeft"],r=["textInput","textInputBrdr","textInputBrdrLeft","textInputBrdrLeftRight","textInputBrdrRight"],n={padding:4};return Ci.createElement("div",{style:{padding:10,border:UE,backgroundColor:OE}},Ci.createElement("table",null,Ci.createElement("tr",null,e.map(function(e){var t="btnSearch"===e||"btnSearchActive"===e?"bs":e;return Ci.createElement("td",{style:n,key:e},Ci.createElement("div",{style:pw[e],className:"qb-btn"},t))}))),Ci.createElement("table",null,Ci.createElement("tr",null,t.map(function(e){return Ci.createElement("td",{style:n,key:e},Ci.createElement("div",{style:lw[e],className:"qb-btn"},e))}))),Ci.createElement("table",null,Ci.createElement("tr",null,r.map(function(e){return Ci.createElement("td",{style:n,key:e},Ci.createElement("input",{type:"text",style:lw[e],width:300,value:e}))}))))},t}(e.Component);_f(gE,bE)(dw);var fw=Object.assign({},HE,{fontSize:14,fontWeight:"normal",color:"rgb(94, 105, 115)",whiteSpace:"normal",padding:"0 4px",lineHeight:"26px"}),hw=function(e){function t(t){var r=this;e.call(this,t),["init","mouseOut","mouseOver"].forEach(function(e){return r[e]=r[e].bind(r)}),this.initialized=!1,this.id=Fr()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.initialized||setTimeout(this.init,500)},t.prototype.init=function(){this.icon=Br(this.id),this.html=Br("tooltip-html"),this.initialized=!0},t.prototype.mouseOut=function(){this.props.dispatchAction(th,null)},t.prototype.mouseOver=function(){if(this.initialized){var e=this.icon.getBoundingClientRect(),t=e.x,r=e.y,n=e.width,o=e.height,a=this.props,i=a.__html,s=a.attribute,c=a.dispatchAction,l=a.position;i||(i=ni(s)),this.html.innerHTML=i;var u=this.html.getBoundingClientRect().height;c(th,{__html:i,x:t,y:r,iconWidth:n,iconHeight:o,htmlHeight:u,position:l})}},t.prototype.render=function(){var e=this.props,t=e.icon,r=e.lineHeight,n=r?Object.assign({},fw,{lineHeight:r+"px"}):fw,o=t||"fa-question-circle";return Ci.createElement("div",{style:n},Ci.createElement("span",{id:this.id,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,className:"fa "+o}))},t}(e.Component),mw=_f(gE,bE)(hw),yw={fontSize:12},vw={fontSize:10},gw={top:0},bw={top:0},_w=(Ci.createElement("span",{className:"glyphicon-calendar"}),Ci.createElement("span",{className:"glyphicon glyphicon-ok"})),Ew=(Ci.createElement("span",{className:"glyphicon glyphicon-chevron-right"}),Ci.createElement("span",{className:"glyphicon glyphicon-download-alt"})),ww=Ci.createElement("span",{className:"glyphicon glyphicon-minus"}),Sw=Ci.createElement("span",{className:"glyphicon glyphicon-new-window",style:yw}),Ow=Ci.createElement("span",{className:"glyphicon glyphicon-new-window",style:vw}),Cw=Ci.createElement("span",{className:"glyphicon glyphicon-plus"}),xw=Ci.createElement("span",{className:"glyphicon glyphicon-remove"}),kw=Ci.createElement("span",{className:"glyphicon glyphicon-search"}),Tw=Ci.createElement("span",{className:"glyphicon glyphicon-stop"}),Aw=Ci.createElement("span",{className:"glyphicon glyphicon-triangle-top",style:gw}),jw=Ci.createElement("span",{className:"glyphicon glyphicon-triangle-bottom",style:bw}),qw=Ci.createElement("span",{className:"glyphicon glyphicon-triangle-left"}),Rw=Ci.createElement("span",{className:"glyphicon glyphicon-triangle-right"}),Iw=Ci.createElement("span",{className:"fa fa-cloud-upload"}),Nw=Ci.createElement("span",{className:"fa fa-edit"}),Bw=Ci.createElement("span",{className:"fa fa-save"}),Pw=Ci.createElement("span",{className:"fa fa-times"}),Dw=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e,t,r,n=this.props,o=n.w,a=n.h;return o&&(e=o,r="inline-block"),a&&(t=a),Ci.createElement("div",{style:{width:e,height:t,display:r}})},t}(e.Component),Mw={containerWidth:1,control:1,cw:1,returnType:1,alignmentView:1},Lw=function(e){function t(t){var r=this;e.call(this,t),["getTable","setFormat","setView"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={format:"html"}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setFormat=function(e){this.setState({format:e.target.value})},t.prototype.setView=function(e){var t=this.props.views.devObj===e?null:e;this.props.dispatchAction(nh,{devObj:t})},t.prototype.getTable=function(e,t){var r=this;return Ci.createElement("table",{style:{marginRight:10},className:"generic-table"},Ci.createElement("tr",null,Ci.createElement("th",{colSpan:"2"},t)),Ci.createElement("tr",null,Ci.createElement("th",null,"key"),Ci.createElement("th",null,"value")),Object.keys(e).map(function(n){var o="primitives"===t?r.props[n]:e[n];return"boolean"==typeof o&&(o=o?"true":"false"),Ci.createElement("tr",{key:n},Ci.createElement("td",null,n),Ci.createElement("td",null,o))}))},t.prototype.render=function(){var e,t,r,n,o,a,i,s=this,c=this.props,l=c.booleans,u=c.containerWidth,p=c.cw,d=c.pager,f=c.queryBuilder,h=c.request,m=c.select,y=c.sort,v=c.tabularReport,g=(c.urls,c.views),b=this.state.format,_={padding:2,display:"inline-block",border:"1px solid #ddd"},E=g.devObj;return"rlowe"===metadata.user&&(e=!0,t=!0,r=!0,n=!0,o=!0,a=!0,i=!0),Ci.createElement("div",{id:"dev-tools"},Ci.createElement("div",{className:"text-right"},Ci.createElement("div",{style:cw},Ci.createElement(mw,{attribute:"rcsb_accession_info.initial_release_date"})),"dev tools: ",Ci.createElement(Dw,{w:10}),Ci.createElement("a",{href:"/search/tests"},"tests"),Ci.createElement(Dw,{w:10}),"schema: ",Ci.createElement("a",{href:metadata.searchApiUrl+"/rcsbsearch/v1/metadata/schema",target:"_blank",rel:"noopener noreferrer"},"structure"),Ci.createElement(Dw,{w:5}),Ci.createElement("a",{href:metadata.searchApiUrl+"/rcsbsearch/v1/metadata/chemical/schema",target:"_blank",rel:"noopener noreferrer"},"chemical"),Ci.createElement(Dw,{w:10}),"attrMap: ",Ci.createElement("a",{href:"/search/tests/attr-map/structure/",target:"_blank",rel:"noopener noreferrer"},"structure"),Ci.createElement(Dw,{w:5}),Ci.createElement("a",{href:"/search/tests/attr-map/chemical/",target:"_blank",rel:"noopener noreferrer"},"chemical"),Ci.createElement(Dw,{w:10}),"objects: ",Ci.createElement("div",{className:"btn-group"},Ci.createElement("a",{className:Cm,onClick:function(){return s.setView("qb")}},"qb"),Ci.createElement("a",{className:Cm,onClick:function(){return s.setView("request")}},"request"),Ci.createElement("a",{className:Cm,onClick:function(){return s.setView("state")}},"state")),Ci.createElement(Dw,{w:10
}),Ci.createElement("a",{className:Cm,href:"/search/tests/ui-metadata/"+b,target:"_blank",rel:"noopener noreferrer"},"uiMetadata"),Ci.createElement(Dw,{w:10}),"format: ",Ci.createElement("input",{type:"radio",name:"format",value:"text",onClick:this.setFormat,checked:"text"===this.state.format})," text ",Ci.createElement(Dw,{w:5}),Ci.createElement("input",{type:"radio",name:"format",value:"html",onClick:this.setFormat,checked:"html"===this.state.format})," html ",Ci.createElement(Dw,{w:10}),Ci.createElement("div",{style:_},p),Ci.createElement(Dw,{w:2}),Ci.createElement("div",{style:_},u)),Ci.createElement(Dw,{h:5}),"qb"===E&&f&&Ci.createElement("pre",null,dn(f)),"request"===E&&h&&Ci.createElement("pre",null,dn(h)),"state"===E&&Ci.createElement(wE,{format:b}),Ci.createElement(Dw,{h:5}),Ci.createElement("table",null,Ci.createElement("tr",null,Ci.createElement("td",null,e&&this.getTable(l,"booleans")),Ci.createElement("td",null,t&&this.getTable(d,"pager")),Ci.createElement("td",null,r&&this.getTable(Mw,"primitives")),Ci.createElement("td",null,o&&this.getTable(y[0],"sort")),Ci.createElement("td",null,a&&this.getTable(v,"tabularReport")),Ci.createElement("td",null,i&&this.getTable(g,"views")),n&&Ci.createElement("td",null,Ci.createElement("table",{className:"generic-table"},Ci.createElement("tr",null,Ci.createElement("th",{colSpan:"2"},"select")),Ci.createElement("tr",null,Ci.createElement("td",null,"all"),Ci.createElement("td",null,m.all?"true":"false")),Ci.createElement("tr",null,Ci.createElement("td",null,"ids"),Ci.createElement("td",{className:"break"},m.ids.join(", "))))),void 0)),Ci.createElement(Dw,{h:5}))},t}(e.Component),Uw=_f(gE,bE)(Lw),Fw="/mypdb/save",Hw="components/History",Vw={whiteSpace:"nowrap",paddingRight:10,paddingTop:2},Gw={width:"100%",textAlign:"right"},Qw=Object.assign({},YE),Ww=Object.assign({},Qw,{border:LE}),zw=function(e){function t(t){var r=this;e.call(this,t),["deleteAllHistory","saveToMypdb"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.deleteAllHistory=function(){confirm('Click "OK" to delete all queries in Search History. This action cannot be undone.')&&this.props.dispatchAction(Mh)},t.prototype.saveToMypdb=function(e){oi(e)},t.prototype.render=function(){var e=this,t=this.props,r=t.booleans,n=t.history,o=t.dispatchAction,a=t.requestSearch,i=n.map,s=n.ids,c=r.hasMypdb,l=uw;return Ci.createElement("div",null,Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",{style:Vw},Ci.createElement("h4",null,"Search History")),Ci.createElement("td",null,Ci.createElement(mw,{__html:Xm.history})),Ci.createElement("td",{style:Gw},s.length>0&&!c&&Ci.createElement("div",{style:YE,onClick:function(){return o(nh,{tab:Rf})}},"MyPDB Login")))),Ci.createElement(Dw,{h:20}),s.length>0?Ci.createElement("div",null,Ci.createElement("table",{style:l.tbl},Ci.createElement("tr",null,Ci.createElement("th",null),Ci.createElement("th",{style:l.th},"Query"),Ci.createElement("th",{style:l.thNowrap},"Result Type"),Ci.createElement("th",{style:l.th},"Count"),Ci.createElement("th",{style:l.th},"Last run"),c&&Ci.createElement("th",{style:l.th},"Save to MyPDB"),Ci.createElement("th",{style:l.thDeleteAll},Ci.createElement("div",{style:YE,className:"stBtn",onClick:this.deleteAllHistory},"Delete All"))),s.map(function(t,r){var s,u,p=i[t],d=p.count,f=p.last_run,h=p.html,m=p.request,y=ny[m.return_type].name;n.id===t?(s=l.trSelected,u=Ww):(s=r%2==0?l.trEven:l.trOdd,u=Qw);var v=Rr(f);return Ci.createElement("tr",{style:s,key:t},Ci.createElement("td",{style:l.td,onClick:function(){return a(m,Hw)}},Ci.createElement("div",{style:ew},kw)),Ci.createElement("td",{style:l.tdRequest,onClick:function(){return a(m,Hw)},dangerouslySetInnerHTML:{__html:h}}),Ci.createElement("td",{style:l.tdNowrap,onClick:function(){return a(m,Hw)}},y),Ci.createElement("td",{style:l.tdRight},d),Ci.createElement("td",{style:l.tdDateTime},v),c&&Ci.createElement("td",{style:l.tdCenter},Ci.createElement("div",{style:u,className:"stBtn",onClick:function(){return e.saveToMypdb(p)}},Iw)),Ci.createElement("td",{style:l.tdCenter},Ci.createElement("div",{style:u,className:"stBtn",onClick:function(){return o(Dh,{id:t})}},Pw)))}))):Ci.createElement("p",null,Ci.createElement("i",null,Qm.noSearchHistory)))},t}(e.Component),Yw=_f(gE,bE)(zw),Jw=r(function(e,t){!function(t){if(e.exports=t(),!!0){var r=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=r,n}}}(function(){function e(){for(var e=arguments,t=0,r={};t<arguments.length;t++){var n=e[t];for(var o in n)r[o]=n[o]}return r}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(n){function o(){}function a(t,r,a){if("undefined"!=typeof document){a=e({path:"/"},o.defaults,a),"number"==typeof a.expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(r);/^[\{\[]/.test(i)&&(r=i)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+r+s}}function i(e,r){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,r){a(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}return r(function(){})})}),Kw="components/mypdb/Account",Xw={marginBottom:30},Zw={verticalAlign:"middle"},$w={fontWeight:"bold",padding:"5px 10px",borderBottom:UE},eS={padding:"5px 10px",borderBottom:UE},tS={padding:"1px 10px"},rS={border:"none",width:250,padding:"0 5px",backgroundColor:xE,lineHeight:"28px"},nS=function(e){function t(t){var r=this;e.call(this,t),["editEmail","saveEmail","saveEmailCallback","setEmail"].forEach(function(e){return r[e]=r[e].bind(r)});var n=this.props.data,o=n.email,a=n.notification;on(Kw,{email:o,notification:a},"props in constructor"),a||(a="monthly"),this.state={editEmail:!1,email:o,notification:a}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.editEmail=function(){this.setState({editEmail:!0})},t.prototype.saveEmail=function(){var e=kr(Gm),t=this.state.email;e.body=JSON.stringify({email:t}),qr("/mypdb/update-email",e,this.saveEmailCallback)},t.prototype.saveEmailCallback=function(e,t){t?console.log(t):console.log(e),this.setState({editEmail:!1})},t.prototype.setEmail=function(e){var t=e.target.value;this.setState({email:t})},t.prototype.render=function(){var e=this.props,t=e.data,r=e.deleteAccount,n=e.deleteAll,o=e.downloadAccountData,a=t.id,i=t.queries,s=t.provider,c=t.name,l=t.created,u=t.updated,p=i?i.length:0,d=1===p?"query":"queries",f=this.state,h=f.editEmail,m=f.email;return on(Kw,this.state,"state in render"),Ci.createElement("div",null,Ci.createElement("table",{style:Xw},Ci.createElement("tr",null,Ci.createElement("td",{style:$w},"Name"),Ci.createElement("td",{style:eS},c)),Ci.createElement("tr",{style:Zw},Ci.createElement("td",{style:$w},"Notification Email"),h?Ci.createElement("td",{style:eS},Ci.createElement("input",{type:"text",style:rS,value:m,onChange:this.setEmail})):Ci.createElement("td",{style:eS},m),h?Ci.createElement("td",{style:tS},Ci.createElement("div",{style:YE,className:"qb-btn",onClick:this.saveEmail},Bw,"Save")):Ci.createElement("td",{style:tS},Ci.createElement("div",{style:YE,className:"qb-btn",onClick:this.editEmail},Nw,"Edit"))),Ci.createElement("tr",null,Ci.createElement("td",{style:$w},"Provider"),Ci.createElement("td",{style:eS},ay[s].name)),Ci.createElement("tr",null,Ci.createElement("td",{style:$w},"Provider ID"),Ci.createElement("td",{style:eS},a)),Ci.createElement("tr",null,Ci.createElement("td",{style:$w},"Account Created"),Ci.createElement("td",{style:eS},Rr(l))),Ci.createElement("tr",null,Ci.createElement("td",{style:$w},"Last Update"),Ci.createElement("td",{style:eS},Rr(u)))),p>0?Ci.createElement("p",null,"You have ",p," saved ",d,"."):Ci.createElement("p",null,Qm.noMyPdbQueries),Ci.createElement("div",null,Ci.createElement("div",{style:YE,onClick:o},"Download Account Data"),Ci.createElement(Dw,{w:2}),p>0&&Ci.createElement("div",{style:YE,onClick:n},"Delete All Queries"),p>0&&Ci.createElement(Dw,{w:2}),Ci.createElement("div",{style:YE,onClick:r},"Delete Account")))},t}(e.Component),oS=_f(gE,bE)(nS),aS={width:"100%",marginBottom:10},iS={textAlign:"right"},sS={textAlign:"right",fontStyle:"italic",fontSize:12,paddingTop:10},cS={display:"inline-block",width:30,color:"#ccc",textAlign:"center"},lS=Ci.createElement("div",{style:cS},"|"),uS=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e,t,r=this.props,n=r.booleans,o=r.data,a=r.logout,i=r.setMypdbView,s=r.views,c=n.hasMypdb,l=s.mypdb,u=$m[l];return c&&o&&(e=ay[o.provider].name,t=o.name),Ci.createElement("table",{style:aS},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("h4",null,u)),Ci.createElement("td",{style:iS},Ci.createElement("a",{href:"/docs/search-and-browse/mypdb",target:"_blank"},"Documentation ",Sw),lS,c&&o&&Ci.createElement("span",null,Ci.createElement("a",{onClick:function(){return i("queries")}},"Saved Queries"),lS,Ci.createElement("a",{onClick:function(){return i("account")}},"Account Settings"),lS,Ci.createElement("a",{onClick:a},"Sign out")),!c&&Ci.createElement("span",null,Ci.createElement("a",{onClick:function(){return i("login")}},"Sign In")))),c&&o&&Ci.createElement("tr",null,Ci.createElement("td",null),Ci.createElement("td",{style:sS},"Signed in via ",e," as ",t)))},t}(e.Component),pS=_f(gE,bE)(uS),dS={textAlign:"center",lineHeight:"36px"},fS={padding:10,textAlign:"center"},hS={border:"1px solid "+TE,padding:10,borderRadius:4,width:225,display:"inline-block",textAlign:"left"},mS={width:36,height:36,lineHeight:"36px",display:"inline-block",textAlign:"center",marginRight:10},yS=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){return Ci.createElement("div",null,Ci.createElement("div",{style:dS},"Sign in to MyPDB to save searches, run previously saved searches, or change your account settings."),ey.map(function(e){return Ci.createElement("div",{style:fS,key:e.id},Ci.createElement("div",{style:hS,href:"/auth/"+e.id},Ci.createElement("div",{style:mS},Ci.createElement("a",{href:"/auth/"+e.id},Ci.createElement("img",{src:"https://cdn.rcsb.org/rcsb-pdb/logos/"+e.id+".png"}))),Ci.createElement("a",{href:"/auth/"+e.id},"Sign in with ",e.name)))}))},t}(e.Component),vS=_f(gE,bE)(yS),gS="components/mypdb/Queries",bS=function(e){function t(t){var r=this;e.call(this,t),["saveNotify","saveNotifyCallback"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.saveNotify=function(e,t){var r=e.target.checked,n=kr(Gm);n.body=JSON.stringify({notify:r,queryId:t}),qr("/mypdb/update-notify",n,this.saveNotifyCallback)},t.prototype.saveNotifyCallback=function(e,t){if(t)console.log(t);else{for(var r=e.queryId,n=e.notify,o=this.props,a=o.data,i=0,s=a.queries.length;i<s;i++){var c=a.queries[i];if(c.id===r){c.notify=n;break}}this.setState({data:a})}},t.prototype.render=function(){var e=this,t=this.props,r=t.data,n=t.deleteAll,o=t.deleteQuery,a=t.requestSearch;if(r){var i=uw;return Ci.createElement("div",null,r.queries&&r.queries.length>0?Ci.createElement("table",{style:i.tbl},Ci.createElement("tr",null,Ci.createElement("th",null),Ci.createElement("th",{style:i.thLine},"Query"),Ci.createElement("th",{style:i.thLineNowrap},"Result Type"),Ci.createElement("th",{style:i.thLine},"Count"),Ci.createElement("th",{style:i.thLine},"Saved"),Ci.createElement("th",{style:i.thLine},"Notify"),Ci.createElement("th",{style:i.thLineDeleteAll},Ci.createElement("div",{style:YE,onClick:n},"Delete All"))),r.queries.map(function(t,r){var n=t.id,s=t.count,c=t.html,l=t.notify,u=t.request,p=t.saved,d=r%2==0?i.trEven:i.trOdd;if(ny[u.return_type])return Ci.createElement("tr",{style:d,key:n},Ci.createElement("td",{style:i.td,onClick:function(){return a(u,gS)}},Ci.createElement("div",{style:ew},kw)),Ci.createElement("td",{style:i.tdRequest,onClick:function(){return a(u,gS)},dangerouslySetInnerHTML:{__html:c}}),Ci.createElement("td",{style:i.tdNowrap,onClick:function(){return a(u,gS)}},ny[u.return_type].name),Ci.createElement("td",{style:i.tdRight},s),Ci.createElement("td",{style:i.tdDateTime},Rr(p)),Ci.createElement("td",{style:i.tdCenter},Ci.createElement("input",{type:"checkbox",checked:l,onClick:function(t){return e.saveNotify(t,n)}})),Ci.createElement("td",{style:i.tdCenter},Ci.createElement("div",{style:tw,onClick:function(){return o(t.id)}},Pw)))})):Ci.createElement("div",{style:QE},Qm.noMyPdbQueries))}return null},t}(e.Component),_S=_f(gE,bE)(bS),ES="common/data-download",wS="components/mypdb/MyPdb",SS=function(e){function t(t){var r=this;e.call(this,t),["deleteAccount","deleteAll","deleteQuery","downloadAccountData","loadData","logout","setData","setLoading","setMypdbView"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){console.log(wS,"componentDidMount: view"+this.props.views.mypdb),this.props.booleans.hasMypdb&&this.loadData()},t.prototype.deleteAccount=function(){confirm('Click "OK" to delete your account. Any saved queries will also be deleted. This action cannot be undone. \n\nYou will be able to create a new account from the "Sign In" screen at any time.')&&(this.setLoading(!0),qr("/mypdb/delete-account",Gm,this.logout))},t.prototype.deleteAll=function(){confirm('Click "OK" to delete all saved queries. This action cannot be undone.')&&(this.setLoading(!0),qr("/mypdb/delete-all",Gm,this.setData))},t.prototype.deleteQuery=function(e){this.setLoading(!0);var t=kr(Gm);t.body=JSON.stringify({id:e}),qr("/mypdb/delete",t,this.setData)},t.prototype.downloadAccountData=function(){si()},t.prototype.loadData=function(){this.setLoading(!0),qr("/mypdb/data",Gm,this.setData)},t.prototype.logout=function(){Jw.remove(qm),this.props.dispatchAction(Lf,{hasMypdb:!1}),this.props.dispatchAction(nh,{mypdb:"login"})},t.prototype.setData=function(e,t){console.log(wS+": setData(): typeof data="+typeof e+": err="+t);var r=this.props,n=r.dispatchAction;r.views;"login"===this.props.views.mypdb&&n(nh,{mypdb:"queries"}),this.setState({data:e,err:t}),this.setLoading(!1)},t.prototype.setLoading=function(e){this.props.dispatchAction(Lf,{dataLoading:e})},t.prototype.setMypdbView=function(e){console.log(wS,"setMypdbView: view="+e),this.props.dispatchAction(nh,{mypdb:e})},t.prototype.render=function(){var e=this.props,t=e.views,r=t.mypdb,n=this.state,o=n.data,a=n.err;return Ci.createElement("div",null,Ci.createElement(pS,{data:o,logout:this.logout,setMypdbView:this.setMypdbView}),a&&Ci.createElement("div",null,"err"),"login"===r&&Ci.createElement(vS,{setMypdbView:this.setMypdbView}),"queries"===r&&Ci.createElement(_S,{data:o,deleteAll:this.deleteAll,deleteQuery:this.deleteQuery,logout:this.logout,setMypdbView:this.setMypdbView}),"account"===r&&Ci.createElement(oS,{data:o,deleteAll:this.deleteAll,deleteAccount:this.deleteAccount,downloadAccountData:this.downloadAccountData,logout:this.logout,setMypdbView:this.setMypdbView}))},t}(e.Component),OS=_f(gE,bE)(SS),CS={position:"relative",width:360},xS={borderRight:UE,width:"100%"},kS={width:313},TS={width:15,borderLeft:UE,textAlign:"center",backgroundColor:RE,lineHeight:"26px",color:jE},AS={width:15,borderLeft:UE,textAlign:"center",backgroundColor:RE},jS={marginTop:8},qS={width:15,borderLeft:UE,backgroundColor:RE},RS={position:"relative"},IS={position:"absolute",top:7,left:3},NS={position:"absolute",top:12,left:3},BS={position:"absolute",top:27,zIndex:1e3,backgroundColor:"#fff",border:UE,borderTop:"none",overflowY:"auto",width:360,boxShadow:"0 10px 10px rgba(0, 0, 0, 0.2)"},PS={borderBottom:"1px solid #ddd"},DS={fontSize:10,color:"rgba(51, 122, 183, 0.8)",width:16,textAlign:"center",verticalAlign:"top",padding:0},MS={width:"100%",padding:"2px 4px",userSelect:"none",cursor:"pointer"},LS={padding:"2px 4px",userSelect:"none",borderBottom:"1px solid #ccc",fontStyle:"italic"},US={textAlign:"right"},FS=function(e){function t(t){var r=this;e.call(this,t),["clearInput","closeMenu","getDefaultState","handleArrowClick","handleInputChange","handleInputClick","handleMenuHeaderClick","menuSelect"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Fr(),this.name="selector-search",this.menuItems="text"===t.service?metadata.structure.selectorItems:metadata.chemical.selectorItems,this.state=this.getDefaultState()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.attribute,n=t.nested_attribute,o=t.nested_attribute_value,a=this.state,i=a.menuItems;if(r){for(var s=!1,c=0,l=i.length;c<l;c++){var u=i[c];if(pi(u)&&(n?u.attribute===r&&u.nested_attribute_value===o&&(s=!0):u.attribute===r&&(s=!0)),s){e.setState({headerIndex:u.header_index,value:u.name});break}}if(!s){var p=jr(r);this.setState({headerIndex:-1,value:p.display_name})}}},t.prototype.clearInput=function(){this.props.setAttribute(null),Ja(this.getDefaultState(),this)},t.prototype.closeMenu=function(){var e=this.state,t=e.menuOpen,r=e.value,n=e.valueSrc;if(t){if("user"===n){var o=ui(r,this.menuItems);this.props.setAttribute(o),o&&(r=o.name,n="menu")}Ja(Object.assign(this.getDefaultState(),{menuOpen:!1,value:r,valueSrc:n}),this)}},t.prototype.getDefaultState=function(){return{headerIndex:-1,menuIndex:-1,menuItems:this.menuItems,menuOpen:!1,menuType:"collapse",value:"",valueSrc:"menu"}},t.prototype.handleArrowClick=function(e){var t=this.state,r=t.menuOpen,n=t.menuType,o=t.value,a=t.valueSrc,i=Object.assign(this.getDefaultState(),{value:o,valueSrc:a});r&&n===e||Object.assign(i,{menuOpen:!0,menuType:e}),Ja(i,this)},t.prototype.handleInputChange=function(e){var t="string"==typeof e?e:e.target.value,r=Object.assign(this.getDefaultState(),{value:t});if(0===t.length)Object.assign(r,{menuOpen:!0});else if(t.length>1){var n=[],o=[],a=t.toLowerCase();this.menuItems.forEach(function(e){if(pi(e)){var t=e.nameLc,r=e.header_index;-1!==t.indexOf(a)&&(n.push(e),o.push(r))}else n.push(e)}),n=n.filter(function(e){return pi(e)||o.includes(e.index)}),n.length>0&&Object.assign(r,{menuItems:n,menuOpen:!0,menuType:"filter",valueSrc:"user"})}Ja(r,this)},t.prototype.handleInputClick=function(){var e=this.state,t=e.menuOpen,r=e.value;if(t)this.closeMenu();else{var n=ui(r,this.menuItems);if(n){Ja(Object.assign(this.getDefaultState(),{headerIndex:n.header_index,menuOpen:!0,value:r}),this)}else this.handleInputChange(r)}},t.prototype.menuSelect=function(e){Ja({menuOpen:!1,value:e.name,valueSrc:"menu"},this),this.props.setAttribute(e)},t.prototype.handleMenuHeaderClick=function(e){Ja({headerIndex:e===this.state.headerIndex?-1:e,menuOpen:!0},this)},t.prototype.render=function(){var e=this,t=this.state,r=t.headerIndex,n=t.menuIndex,o=t.menuItems,a=t.menuOpen,i=t.menuType,s=t.value,c="glyphicon glyphicon-triangle-"+(a&&"collapse"===i?"top":"bottom"),l=Ci.createElement("span",{style:jS,className:c}),u="glyphicon glyphicon-triangle-"+(a&&"expand"===i?"top":"bottom"),p=Ci.createElement("div",{style:RS},Ci.createElement("span",{style:IS,className:u}),Ci.createElement("span",{style:NS,className:u}));return BS.maxHeight=cy.selectorMenuMaxHeight,Ci.createElement("div",{id:"menu-container-"+this.guid,style:CS},Ci.createElement("table",{style:xS},Ci.createElement("tr",null,Ci.createElement("td",{style:kS},Ci.createElement("input",{style:lw.textInput,type:"text",value:s,autoComplete:"off",spellCheck:"false",placeholder:"-- Enter and/or select an attribute --",onChange:this.handleInputChange,onClick:this.handleInputClick})),""!==s&&Ci.createElement("td",{style:TS,onClick:this.clearInput},"x"),Ci.createElement("td",{style:AS,onClick:function(){return e.handleArrowClick("collapse")}},l),Ci.createElement("td",{style:qS,onClick:function(){return e.handleArrowClick("expand")}},p))),a&&Ci.createElement("div",{style:BS},o.map(function(t,o){if("header"===t.type){var a=t.name,c=t.index,l="collapse"===i?r===c?Aw:jw:null;return Ci.createElement("div",{style:LS,className:"selector-header",key:"h"+c,onClick:function(){return e.handleMenuHeaderClick(t.index)}},Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",null,a),Ci.createElement("td",{style:US},l))))}if("expand"===i||"filter"===i||t.header_index===r||"filter"!==i&&-1===t.header_index){var u=t.name===s?_w:null,p=o===n?"selector-item-selected":"selector-item";return Ci.createElement("table",{style:PS,key:"i"+o,id:"menu"+o},Ci.createElement("tr",{className:p,onClick:function(){return e.menuSelect(t)}},Ci.createElement("td",null,Ci.createElement("div",{style:DS},u)),Ci.createElement("td",{style:MS},t.name),Ci.createElement("td",null,Ci.createElement(mw,{attribute:t.attribute,lineHeight:20}))))}})))},t}(e.Component),HS=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.border,r=e.borderLeft,n=e.borderRight,o=e.header,a=e.id,i=e.onChange,s=e.options,c=e.value;t||(t="none");var l=Object.assign({},aw,{border:t});return r&&(l.borderLeft=UE),n&&(l.borderRight=UE),Ci.createElement("select",{onChange:i,value:c,id:a,style:l},o&&Ci.createElement("option",{value:""},o),s.map(function(e){var t,r,n=typeof e;return"string"===n||"number"===n?(t=e,r=e.length>60?e.substring(0,60)+"...":e):(t=e.key,r=e.value),Ci.createElement("option",{key:t,value:t},r)}))},t}(e.Component),VS="components/query-builder/attribute/DateInput",GS=Object.assign({},lw.textInput,{borderLeft:UE}),QS=function(e){function t(t){e.call(this,t),this.id=Fr()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){console.log(VS,"componentDidMount"),setDatePicker(this.id,"input")},t.prototype.componentWillUnmount=function(){console.log(VS,"componentWillUnmount",this.id),removeDatePicker(this.id)},t.prototype.render=function(){var e=this.props,t=e.terminal,r=t.item,n=t.parameters,o=n.value,a=r.placeholder;return Ci.createElement("div",{id:this.id},Ci.createElement("div",{className:"input-group date"},Ci.createElement("input",{type:"text",style:GS,value:o,name:t.id,placeholder:a,autoComplete:"off",readOnly:!0}),Ci.createElement("span",{className:"input-group-addon"})))},t}(e.Component),WS=_f(gE,_E)(QS),zS="components/query-builder/attribute/DateRange",YS={textShadow:"none",padding:"0 4px"},JS=function(e){function t(t){e.call(this,t),this.id=Fr()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){console.log(zS,"componentDidMount"),setDatePicker(this.id,"range")},t.prototype.componentWillUnmount=function(){console.log(zS,"componentWillUnmount",this.id),removeDatePicker(this.id)},t.prototype.render=function(){var e=this.props,t=e.terminal,r=t.attrObj,n=t.parameters,o=r.min,a=r.max,i=n.value;return Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("div",{id:this.id},Ci.createElement("div",{className:"input-daterange input-group",id:"datepicker"},Ci.createElement("input",{type:"text",style:lw.textInputBrdrRight,name:"start",id:"start"+t.id,value:i[0],placeholder:o,autoComplete:"off",readOnly:!0}),Ci.createElement("span",{style:YS,className:"input-group-addon input-group-addon-to",id:t.id},"to"),Ci.createElement("input",{type:"text",style:lw.textInputBrdrLeft,name:"end",id:"end"+t.id,value:i[1],placeholder:a,autoComplete:"off",readOnly:!0}))))))},t}(e.Component),KS=_f(gE,_E)(JS),XS=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.menuIndex,r=e.menuItems,n=e.menuStyle,o=e.menuSelect;return Ci.createElement("div",{className:"input-menu",style:n},r&&r.map(function(e,r){var n=r===t?"selected":null;return Ci.createElement("div",{className:n,id:"menu"+r,key:"i"+r,onClick:function(){return o(e)},dangerouslySetInnerHTML:{__html:e}})}))},t}(e.Component),ZS={width:"100%"},$S=function(e){function t(t){var r=this;e.call(this,t),["inputChange","inputChangeCallback","inputClick","menuSelect"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Fr(),this.name="suggester",this.state=Ir("menu-state")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.inputChange=function(e){var t=e.target,r=t.value;if(this.setValue(r),r.length>=1){r=encodeURIComponent(r);qr(this.props.suggesterUrl+r,Hm,this.inputChangeCallback)}else Ja(Ir("menu-state"),this)},t.prototype.inputChangeCallback=function(e){console.log("components/query-builder/Suggester","inputChangeCallback: menuItems.length="+e.length),e&&e.length>0?Ja({menuItems:e,menuIndex:0,menuOpen:!0},this):Ja(Ir("menu-state"),this)},t.prototype.inputClick=function(e){var t=e.target,r=t.value;r=r.trim();var n=this.state,o=n.menuItems;r.length>=1&&o&&o.length&&Ja({menuOpen:!0},this)},t.prototype.menuSelect=function(e){console.log(e),this.setValue(e),Ja({menuOpen:!1},this)},t.prototype.setValue=function(e){e=cn(e),this.props.setSuggesterValue(e)},t.prototype.render=function(){var e=this,t=this.props,r=t.placeholder,n=t.value,o=this.state,a=o.menuIndex,i=o.menuItems,s=o.menuOpen;return Ci.createElement("div",{id:"menu-container-"+this.guid,className:"input-menu-container"},Ci.createElement("input",{type:"text",style:lw.textInput,className:"input-menu-text",onClick:function(t){return e.inputClick(t)},onChange:this.inputChange,placeholder:r,autoComplete:"off",spellCheck:"false",value:n}),s&&Ci.createElement(XS,{menuItems:i,menuIndex:a,menuSelect:this.menuSelect,menuStyle:ZS}))},t}(e.Component),eO=function(e){function t(t){var r=this;e.call(this,t),["setSuggesterValue","setValue"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setSuggesterValue=function(e){var t=this.props,r=t.dispatchAction,n=t.terminal;r(Oh,{terminal:n,value:e})},t.prototype.setValue=function(e){var t=e.target,r=t.id,n=t.value,o=this.props,a=o.dispatchAction,i=o.terminal;a(Oh,{limit:r,terminal:i,value:n})},t.prototype.render=function(){var e=this.props,t=e.terminal,r=t.attrObj,n=t.item,o=t.parameters,a=t.service,i=r.attribute,s=o.operator,c=o.value,l=nn(s);if(en(r))return l?Ci.createElement(KS,{terminal:t}):Ci.createElement(WS,{terminal:t});if(l){var u,p,d=Array.isArray(c)&&c[0]?c[0]:"",f=Array.isArray(c)&&c[1]?c[1]:"";"rcsb_binding_affinity.value"!==i&&(p=r.max,u=r.min);var h=n&&n.units?lw.textInputBrdrLeftRight:lw.textInputBrdrLeft;return Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("input",{style:lw.textInputBrdrRight,type:"text",value:d,id:"from",onChange:this.setValue,placeholder:u,autoComplete:"off"})),Ci.createElement("td",null,Ci.createElement("div",{style:iw},Ci.createElement("i",null,"to"))),Ci.createElement("td",null,Ci.createElement("input",{style:h,type:"text",value:f,id:"to",onChange:this.setValue,placeholder:p,autoComplete:"off"}))))}var m,y,v=r.context,g=r.enumeration;n&&(m=n.nested_attribute_value,y=n.placeholder);var b=o.value;tn(b)&&(b="");var _,E;if("suggester"===(_=g&&"exact_match"===s?"select":v&&v.includes("exact-match")?"suggester":"text"))if(m){var w="text"===a?"structure":"chemical";-1!==m.indexOf("/")&&(m=m.replace("/","~")),E="/search/suggester/"+w+"/"+i+"/"+m+"/"}else E="/search/suggester/"+i+"/";return Ci.createElement("div",null,"select"===_&&Ci.createElement(HS,{header:"-- Select value --",options:g,value:b,onChange:this.setValue}),"suggester"===_&&Ci.createElement($S,{attrObj:r,setSuggesterValue:this.setSuggesterValue,value:b,nested_attribute_value:m,placeholder:y,service:a,suggesterUrl:E}),"text"===_&&Ci.createElement("input",{style:lw.textInput,type:"text",value:b,onChange:this.setValue,placeholder:y,autoComplete:"off"}))},t}(e.Component),tO=_f(gE,bE)(eO),rO=Object.assign({},iw,{fontWeight:"bold",borderRight:UE}),nO=function(e){function t(t){var r=this;e.call(this,t),["getCount","remove","setAttribute","setNot","setOperator"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Fr()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCount=function(){var e=this.props;(0,e.countSearch)("node",e.terminal)},t.prototype.remove=function(){var e=this.props,t=e.dispatchAction,r=e.group,n=e.terminal;t(bh,{group:r,terminal:n})},t.prototype.setAttribute=function(e){var t=this.props,r=t.dispatchAction,n=t.terminal;r(_h,{item:e,terminal:n})},t.prototype.setNot=function(){var e=this.props,t=e.dispatchAction,r=e.terminal;t(wh,{terminal:r})},t.prototype.setOperator=function(e){var t=e.target.value;console.log("components/query-builder/Terminal","setOperator: operator",t);var r=this.props,n=r.dispatchAction,o=r.terminal;n(Sh,{terminal:o,operator:t})},t.prototype.render=function(){var e,t,r=this.props,n=r.terminal,o=n.attrObj,a=n.count,i=n.item,s=n.parameters,c=n.service,l=s.attribute,u=s.negation,p=s.operator,d=l?lw.tdBtnBrdrNone:lw.tdBtnBrdrLeft,f=Ci.createElement("div",{style:d,className:"qb-btn",onClick:this.remove},xw);i&&(e=i.nested_attribute,t=i.nested_attribute_value);var h,m,y,v,g,b=Ci.createElement(FS,{setAttribute:this.setAttribute,attribute:l,nested_attribute:e,nested_attribute_value:t,service:c});if(l){var _,E=o.operators,w=i?i.units:null,S=u?ww:Cw;E&&E.length>0&&(_=[],E.forEach(function(e){return _.push({key:e,value:Qh[e]})})),_&&(m=Ci.createElement(HS,{options:_,value:p,onChange:this.setOperator,borderRight:!0})),"exists"!==p&&(y=Ci.createElement(tO,{terminal:n})),g=w?Ci.createElement("td",null,Ci.createElement("div",{style:iw},Wh[w])):null,h=Ci.createElement("div",{style:lw.tdBtnBrdrLeftRight,className:"qb-btn",onClick:this.setNot},S," NOT"),v=void 0===a||-1===a?Ci.createElement("div",{style:lw.tdBtnBrdrRight,className:"qb-btn",onClick:this.getCount},"Count"):Ci.createElement("div",{style:lw.tdBtnBrdrRight},a)}return Ci.createElement("table",{style:lw.terminal,id:"terminal"},Ci.createElement("tr",null,Ci.createElement("td",null,b),u&&Ci.createElement("td",{style:rO},"NOT"),Ci.createElement("td",null,m),Ci.createElement("td",{style:WE},y),g,Ci.createElement("td",null,h),Ci.createElement("td",null,v),Ci.createElement("td",null,f)))},t}(e.Component),oO=_f(gE,bE)(nO),aO=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,r=e.clickBtn,n=e.group,o=e.parentGroup,a=n.is_root,i=n.logical_operator,s=n.nodes,c=s.length,l=a?null:lw.group,u=this.props.depth+1,p=u>0&&c>1,d=p?lw.btnsTdLeft:null;return Ci.createElement("div",{style:l,name:"group"},s.map(function(e,o){var a=e.id,s=e.type;return Ci.createElement("table",{style:WE,name:"group-node",key:a
},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("div",{style:lw.andOr},o>0&&i.toUpperCase())),Ci.createElement("td",{style:WE},"group"===s&&Ci.createElement(t,{group:e,parentGroup:n,clickBtn:r,index:o,depth:u}),"terminal"===s&&Ci.createElement(oO,{terminal:e,group:n,numItems:c,index:o}))))}),Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",{style:d},Ci.createElement("div",{style:lw.andOrBtn},p&&Ci.createElement("div",{style:lw.tdBtnBrdrBottom,className:"qb-btn",onClick:function(){return r("and-or",{group:n})}},"AND / OR"))),Ci.createElement("td",{style:lw.btnsTdRight},Ci.createElement("table",{style:WE},Ci.createElement("tr",null,!a&&Ci.createElement("td",null,Ci.createElement("div",{style:lw.tdBtnBrdrBottomLeft,className:"qb-btn",onClick:function(){return r("addTerminal",{group:n})}},"Add Attribute")),Ci.createElement("td",null,Ci.createElement("div",{style:lw.tdBtnBrdrBottomLeftRight,className:"qb-btn",onClick:function(){return r("addGroup",{group:n})}},"Add Group")),Ci.createElement("td",{style:WE}),!a&&Ci.createElement("td",null,Ci.createElement("div",{style:lw.tdBtnBrdrBottomLeft,className:"qb-btn",onClick:function(){return r("removeGroup",{group:n,parentGroup:o})}},"Remove Group"))))))))},t}(e.Component),iO=function(e){function t(t){var r=this;e.call(this,t),["setOpen"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setOpen=function(e){console.log("components/query-builder/ServiceHeader","setOpen",e),this.props.dispatchAction(sh,{service:e})},t.prototype.render=function(){var e=this,t=this.props,r=t.open,n=t.service,o=r?Aw:jw,a=r?lw.serviceHeaderOpen:lw.serviceHeaderClosed;return Ci.createElement("table",{style:WE,name:"service-header"},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("div",{style:lw.serviceOperator})),Ci.createElement("td",{style:WE},Ci.createElement("div",{style:a,onClick:function(){return e.setOpen(n)}},Ci.createElement("div",{style:lw.toggle},o),Ci.createElement("div",{style:iw},cm[n]),Ci.createElement(mw,{__html:Xm[n+"Search"]})))))},t}(e.Component),sO=_f(gE,bE)(iO),cO=function(e){function t(t){var r=this;e.call(this,t),["clickBtn"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clickBtn=function(e,t){var r=this.props,n=(r.countSearch,r.dispatchAction),o=r.service;t.service=o,"and-or"===e?n(Eh,t):"addTerminal"===e?n(vh,t):"addGroup"===e?n(yh,t):"removeGroup"===e&&n(gh,t)},t.prototype.render=function(){var e=this.props,t=e.queryBuilder,r=e.service,n=zr(t,r),o=!!n&&n.open,a=!!n&&n.showAnd,i=a?"AND":null;return Ci.createElement("div",{style:lw.service,name:"attribute-service"},Ci.createElement(sO,{open:o,service:r}),o&&Ci.createElement("table",{style:WE,name:"attribute-service-table"},Ci.createElement("tr",null,Ci.createElement("td",{name:"attribute-service-operator"},Ci.createElement("div",{style:lw.serviceOperator},i)),Ci.createElement("td",{style:lw.textServiceBody,name:"attribute-service-body"},Ci.createElement(aO,{group:n,clickBtn:this.clickBtn,service:r,depth:-1})))))},t}(e.Component),lO=_f(gE,bE)(cO),uO=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.clear,r=e.count,n=e.getCount;return Ci.createElement("div",{style:HE},void 0===r||-1===r?Ci.createElement("div",{style:JE,className:"qb-btn",onClick:n},"Count"):Ci.createElement("div",{style:JE,className:"qb-btn"},r),Ci.createElement("div",{style:YE,className:"qb-btn",onClick:t},"Clear"))},t}(e.Component),pO=Object.assign({},HE,{marginRight:10}),dO=Object.assign({},VE,{width:"75%"}),fO=Object.assign({},GE,{width:"25%"}),hO={display:"inline-block",marginRight:8,marginTop:4},mO=function(e){function t(t){var r=this;e.call(this,t),["clear","getCount","setProp"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clear=function(){this.props.dispatchAction(Ch,Nr("chemical"))},t.prototype.getCount=function(){var e=zr(this.props.queryBuilder,"chemical");this.props.countSearch("service",e)},t.prototype.setProp=function(e){var t=e.target,r=t.id,n=t.value,o=t.checked;console.log("components/query-builder/Chemical","setProp",r,n,o);var a={};a[r]="match_subset"===r?!o:n,this.props.dispatchAction(Ch,{parameters:a})},t.prototype.render=function(){var e,t,r,n,o,a,i,s=zr(this.props.queryBuilder,"chemical"),c=s&&s.open,l=s?s.count:-1;if(c){var u=s.showAnd,p=s.parameters,d=p.value,f=p.match_subset,h=p.descriptor_type,m=p.match_type;e=s.parameters.type;var y=u?"AND":null;d||(d=""),t=Ci.createElement("div",{style:lw.serviceOperator},y);var v;"formula"===e?v=Zm.chemicalFormula:"descriptor"===e&&(v="SMILES"===h?Zm.chemicalSMILES:Zm.chemicalInChI),r=Ci.createElement("textarea",{id:"value",style:lw.textarea,value:d,onChange:this.setProp,placeholder:v,autoComplete:"off"}),n=Ci.createElement("div",{style:pO},Ci.createElement("div",{style:iw},ay.query_type),Ci.createElement(mw,{__html:Xm.chemicalType}),Ci.createElement(HS,{id:"type",options:bm,value:e,onChange:this.setProp,border:ME})),o=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:hO},Ci.createElement("input",{type:"checkbox",id:"match_subset",onClick:this.setProp,checked:f})),Ci.createElement("div",{style:iw},ay.match_subset),Ci.createElement(mw,{__html:Xm.chemicalMatchSubset})),a=Ci.createElement("div",{style:pO},Ci.createElement("div",{style:iw},ay.descriptor_type),Ci.createElement(mw,{__html:Xm.chemicalDescriptorType}),Ci.createElement(HS,{id:"descriptor_type",options:_m,value:h,onChange:this.setProp,border:ME})),i=Ci.createElement("div",{style:pO},Ci.createElement("div",{style:iw},ay.match_type),Ci.createElement(mw,{__html:Xm.chemicalMatchType}),Ci.createElement(HS,{id:"match_type",options:Em,value:m,onChange:this.setProp,height:26,border:ME}))}return Ci.createElement("div",{style:lw.service},Ci.createElement(sO,{open:c,service:"chemical"}),c&&Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",null,t),Ci.createElement("td",{style:lw.similarityServiceBody},r,Ci.createElement("div",{style:dO},n,"formula"===e&&o,"descriptor"===e&&Ci.createElement("span",null,a,i)),Ci.createElement("div",{style:fO},Ci.createElement(uO,{clear:this.clear,count:l,getCount:this.getCount}))))))},t}(e.Component),yO=_f(gE,bE)(mO),vO=Object.assign({},HE,{marginRight:10}),gO=function(e){function t(t){var r=this;e.call(this,t),["handleClick","setReturnType"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleClick=function(e){var t=this.props,r=t.countSearch,n=t.dispatchAction,o=t.queryBuilderSearch;"clear"===e?n(ah):"count"===e?r("qb"):"search"===e&&o()},t.prototype.setReturnType=function(e){var t=e.target.value,r=this.props,n=r.dispatchAction;n(ih),n(Jf,{returnType:t})},t.prototype.render=function(){var e,t=this,r=this.props,n=r.control,o=r.queryBuilder,a=r.returnType,i=r.views,s=o.count,c=i.search,l=n===Af?ew:$E;return c===Pf?(e=kr(oy),e=e.filter(function(e){return"mol_definition"!==e.key})):e=oy,Ci.createElement("div",{style:lw.footer},Ci.createElement("div",{style:iw},"Display Results as"),Ci.createElement(mw,{__html:Xm.displayResultsAs}),Ci.createElement("div",{style:vO},Ci.createElement(HS,{options:e,onChange:this.setReturnType,value:a,border:ME})),void 0===s||-1===s?Ci.createElement("div",{style:JE,className:"qb-btn",onClick:function(){return t.handleClick("count")}},"Count"):Ci.createElement("div",{style:JE,className:"qb-btn"},s),Ci.createElement("div",{style:YE,className:"qb-btn",onClick:function(){return t.handleClick("clear")}},"Clear"),Ci.createElement(Dw,{w:4}),Ci.createElement("div",{style:l,onClick:function(){return t.handleClick("search")}},Ci.createElement("span",{className:"glyphicon glyphicon-search"})))},t}(e.Component),bO=_f(gE,bE)(gO),_O=function(e){function t(t){var r=this;e.call(this,t),["getCount","remove","setValue"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCount=function(){var e=this.props;(0,e.countSearch)("node",e.terminal)},t.prototype.remove=function(){var e=this.props,t=e.dispatchAction,r=e.group,n=e.terminal;t(fh,{group:r,terminal:n})},t.prototype.setValue=function(e){var t=this.props,r=t.dispatchAction,n=t.terminal,o=e.target,a=o.value;r(mh,{terminal:n,value:a})},t.prototype.render=function(){var e=this.props,t=e.numItems,r=e.terminal,n=r.count,o=r.parameters,a=o.value,i=Ci.createElement("input",{style:lw.textInput,type:"text",value:a,onChange:this.setValue,placeholder:Zm.fullText,autoComplete:"off"}),s=1===t?lw.tdBtnBrdrLeft:lw.tdBtnBrdrLeftRight,c=n&&-1!==n?Ci.createElement("div",{style:s,className:"qb-btn"},n):Ci.createElement("div",{style:s,className:"qb-btn",onClick:this.getCount},"Count"),l=t>1?Ci.createElement("div",{style:lw.tdBtnBrdrNone,className:"qb-btn",onClick:this.remove},xw):null;return Ci.createElement("table",{style:lw.terminal},Ci.createElement("tr",null,Ci.createElement("td",{style:WE},i),Ci.createElement("td",null,c),Ci.createElement("td",null,l)))},t}(e.Component),EO=_f(gE,bE)(_O),wO=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,r=e.clickBtn,n=e.group,o=e.parentGroup,a=n.is_root,i=n.logical_operator,s=n.nodes,c=s.length,l=a?null:lw.group,u=c>1,p=u?lw.btnsTdLeft:null;return Ci.createElement("div",{style:l,name:"group"},s.map(function(e,o){var a=e.id,s=e.type;return Ci.createElement("table",{style:WE,name:"group-node",key:a},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("div",{style:lw.andOr},o>0&&i.toUpperCase())),Ci.createElement("td",{style:WE},"group"===s&&Ci.createElement(t,{group:e,parentGroup:n,clickBtn:r,index:o}),"terminal"===s&&Ci.createElement(EO,{terminal:e,group:n,numItems:c,index:o}))))}),Ci.createElement("table",{style:WE,name:"group-btns"},Ci.createElement("tr",null,Ci.createElement("td",{style:p},Ci.createElement("div",{style:lw.andOrBtn},u&&Ci.createElement("div",{style:lw.tdBtnBrdrBottom,className:"qb-btn",onClick:function(){return r("and-or",{group:n})}},"AND / OR"))),Ci.createElement("td",{style:lw.btnsTdRight},Ci.createElement("table",{style:WE},Ci.createElement("tr",null,!a&&Ci.createElement("td",null,Ci.createElement("div",{style:lw.tdBtnBrdrBottomLeft,className:"qb-btn",onClick:function(){return r("addTerminal",{group:n})}},"Add Term")),Ci.createElement("td",null,Ci.createElement("div",{style:lw.tdBtnBrdrBottomLeftRight,className:"qb-btn",onClick:function(){return r("addGroup",{group:n})}},"Add Group")),Ci.createElement("td",{style:WE}),!a&&Ci.createElement("td",null,Ci.createElement("div",{style:lw.tdBtnBrdrBottomLeft,className:"qb-btn",onClick:function(){return r("removeGroup",{group:n,parentGroup:o})}},"Remove Group"))))))))},t}(e.Component),SO=function(e){function t(t){var r=this;e.call(this,t),["clickBtn"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clickBtn=function(e,t){var r=this.props,n=r.dispatchAction;t.service="full_text","and-or"===e?n(hh,t):"addTerminal"===e?n(ph,t):"addGroup"===e?n(uh,t):"removeGroup"===e&&n(dh,t)},t.prototype.render=function(){var e=this.props,t=e.queryBuilder,r=zr(t,"full_text"),n=r&&r.open;return Ci.createElement("div",{style:lw.service,name:"full-text-service"},Ci.createElement(sO,{open:n,service:"full_text"}),n&&Ci.createElement("table",{style:WE,name:"full-text-service-table"},Ci.createElement("tr",null,Ci.createElement("td",{name:"full-text-service-operator"},Ci.createElement("div",{style:lw.serviceOperator})),Ci.createElement("td",{style:lw.textServiceBody,name:"full-text-service-body"},Ci.createElement(wO,{group:r,clickBtn:this.clickBtn})))))},t}(e.Component),OO=_f(gE,bE)(SO),CO=Object.assign({},lw.textInput,{width:50,border:ME}),xO=Object.assign({},CO,{width:150}),kO=Object.assign({},VE,{width:"75%"}),TO=Object.assign({},GE,{width:"25%"}),AO={overflowX:"hidden",maxWidth:500},jO=function(e){function t(t){var r=this;e.call(this,t),["clear","entryIdClick","getCount","getSequences","getSequencesCallback","handleChange","menuSelect"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state=Ir("menu-state"),this.guid=Fr(),this.name="sequence"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clear=function(){this.props.dispatchAction(xh,Nr("sequence")),Ja({menuOpen:!1},this)},t.prototype.entryIdClick=function(e){var t=e.target,r=t.value,n=r.trim();this.props.dispatchAction(xh,{entry_id:n}),4===n.length&&(this.state.menuItems?Ja({menuOpen:!0},this):this.getSequences(n))},t.prototype.handleChange=function(e){var t=e.target,r=t.id,n=t.value;if(n=n.trim(),"sequence"===r)n=n.toUpperCase().replace(/\n| /g,""),this.props.dispatchAction(xh,{parameters:{value:n}});else if("sequence-entry-id"===r){var o=n.toUpperCase();this.props.dispatchAction(xh,{entry_id:o}),4===o.length?this.getSequences(o):(this.props.dispatchAction(xh,{parameters:{value:""}}),this.state.menuItems&&Ja({menuOpen:!1},this))}else if("target"===r){var a=n;this.props.dispatchAction(xh,{parameters:{target:a}})}else if("evalue_cutoff"===r){var i=n;Uo(i)&&this.props.dispatchAction(xh,{parameters:{evalue_cutoff:i}})}else if("identity_cutoff"===r){var s=n;Lo(s)&&this.props.dispatchAction(xh,{parameters:{identity_cutoff:s}})}},t.prototype.getCount=function(){var e=zr(this.props.queryBuilder,"sequence");this.props.countSearch("service",e)},t.prototype.getSequences=function(e){console.log("components/query-builder/Sequence","getSequences: entry_id="+e),4===e.length?qr("/search/sequence/"+e,Hm,this.getSequencesCallback):alert("Please enter a valid PDB ID")},t.prototype.getSequencesCallback=function(e){if(e&&e.length>0)Ja({menuItems:e,menuIndex:0,menuOpen:!0},this);else{var t=Br("sequence-entry-id").value,r="No Chain IDs or sequences were returned for PDB ID "+t;alert(r)}},t.prototype.menuSelect=function(e){if(console.log(e),e=e.substring(e.indexOf(":")+2),Qo(e)){var t=Wo(e);t&&this.props.dispatchAction(xh,{parameters:{target:t,value:e}})}Ja({menuOpen:!1},this)},t.prototype.render=function(){var e,t,r,n,o,a,i=zr(this.props.queryBuilder,"sequence"),s=i&&i.open,c=i?i.count:-1;if(s){var l=i.entry_id,u=i.showAnd,p=i.parameters,d=p.evalue_cutoff,f=p.identity_cutoff,h=p.target,m=p.value,y=this.state,v=y.menuItems,g=y.menuIndex,b=y.menuOpen,_=u?"AND":null;l||(l=""),m||(m=""),e=Ci.createElement("div",{style:lw.serviceOperator},_),t=Ci.createElement("textarea",{id:"sequence",style:lw.textarea,value:m,onChange:this.handleChange,placeholder:Zm.sequenceSearch,autoComplete:"off"}),r=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.entry_id),Ci.createElement("div",{id:"menu-container-"+this.guid,style:HE,className:"input-menu-container"},Ci.createElement("input",{style:CO,type:"text",id:"sequence-entry-id",value:l,onChange:this.handleChange,onClick:this.entryIdClick,placeholder:Zm.searchEntryId,autoComplete:"off"}),b&&Ci.createElement(XS,{menuItems:v,menuIndex:g,menuSelect:this.menuSelect,menuStyle:AO})),Ci.createElement(Dw,{w:10})),n=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},"Target"),Ci.createElement(HS,{id:"target",options:lm,onChange:this.handleChange,value:h,border:ME}),Ci.createElement(mw,{__html:Xm.sequenceTarget})),o=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.evalue_cutoff),Ci.createElement("input",{style:xO,type:"text",id:"evalue_cutoff",value:d,onChange:this.handleChange,autoComplete:"off"}),Ci.createElement(mw,{__html:Xm.sequenceEvalue})),a=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.identity_cutoff),Ci.createElement("input",{style:CO,type:"text",id:"identity_cutoff",value:f,onChange:this.handleChange,autoComplete:"off"}),Ci.createElement("div",{style:iw},Ci.createElement("i",null,"% (Integer only)")),Ci.createElement(mw,{__html:Xm.sequenceIdentity}))}return Ci.createElement("div",{style:lw.service},Ci.createElement(sO,{open:s,service:"sequence"}),s&&Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",null,e),Ci.createElement("td",{style:lw.similarityServiceBody},Ci.createElement("div",null,t),Ci.createElement("div",{style:kO},r,n,o,a),Ci.createElement("div",{style:TO},Ci.createElement(uO,{clear:this.clear,count:c,getCount:this.getCount}))))))},t}(e.Component),qO=_f(gE,bE)(jO),RO=Object.assign({},lw.textInput,{width:"100%",marginBottom:4,border:ME}),IO=Object.assign({},VE,{width:"75%"}),NO=Object.assign({},GE,{width:"25%"}),BO=function(e){function t(t){var r=this;e.call(this,t),["clear","getCount","handleChange"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clear=function(){this.props.dispatchAction(kh,Nr("seqmotif"))},t.prototype.getCount=function(){var e=zr(this.props.queryBuilder,"seqmotif");this.props.countSearch("service",e)},t.prototype.handleChange=function(e){var t=this,r=e.target,n=r.id,o=r.value;o=o.trim(),on("components/query-builder/SequenceMotif",{id:n,value:o});var a;if("sequence-motif"===n)a={value:o};else if("pattern_type"===n){for(var i,s=fm,c=0;c<s.length;c++)if(s[c].key===o){i=Zm.sequenceMotifSearch[c],t.props.dispatchAction(kh,{placeholder:i});break}a={pattern_type:o,value:""}}else"target"===n&&(a={target:o});this.props.dispatchAction(kh,{parameters:a})},t.prototype.render=function(){var e,t,r,n,o=zr(this.props.queryBuilder,"seqmotif"),a=o&&o.open,i=o?o.count:-1;if(a){var s=o.showAnd,c=o.parameters,l=o.placeholder,u=c.pattern_type,p=c.target,d=c.value,f=s?"AND":null;d||(d=""),e=Ci.createElement("input",{style:RO,type:"text",id:"sequence-motif",value:d,onChange:this.handleChange,onClick:this.handleSequenceMotifClick,placeholder:l,autoComplete:"off"}),t=Ci.createElement("div",{style:lw.serviceOperator},f),r=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.target),Ci.createElement(HS,{id:"target",options:lm,onChange:this.handleChange,value:p,border:ME}),Ci.createElement(mw,{__html:Xm.sequenceMotifTarget})),n=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.pattern_type),Ci.createElement(HS,{id:"pattern_type",options:fm,onChange:this.handleChange,value:u,border:ME}),Ci.createElement(mw,{__html:Xm.sequenceMotifMode}))}return Ci.createElement("div",{style:lw.service},Ci.createElement(sO,{open:a,service:"seqmotif"}),a&&Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",null,t),Ci.createElement("td",{style:lw.similarityServiceBody},Ci.createElement("div",null,e),Ci.createElement("div",{style:IO},r,n),Ci.createElement("div",{style:NO},Ci.createElement(uO,{clear:this.clear,count:i,getCount:this.getCount}))))))},t}(e.Component),PO=_f(gE,bE)(BO),DO="components/query-builder/Structure",MO=Object.assign({},VE,{width:"75%"}),LO=Object.assign({},GE,{width:"25%"}),UO=Object.assign({},lw.textInput,{width:60,marginRight:10,paddingLeft:4,border:ME}),FO={display:"inline-block",marginRight:2,verticalAlign:"top"},HO={display:"inline-block",marginRight:10,verticalAlign:"top"},VO=function(e){function t(t){var r=this;e.call(this,t),["clear","getCount","retrieveData","retrieveDataCallback","setEntryId","setOperator","setParameters","setProperty","setPropertyValue"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=zr(this.props.queryBuilder,"structure");if(e){var t=e.parameters.value,r=t.entry_id;r&&this.retrieveData(r)}},t.prototype.clear=function(){this.props.dispatchAction(Th,Nr("structure")),this.setState({assembly_ids:null,asym_ids:null})},t.prototype.getCount=function(){var e=zr(this.props.queryBuilder,"structure");this.props.countSearch("service",e)},t.prototype.retrieveData=function(e){qr("/search/structure/"+e,Hm,this.retrieveDataCallback)},t.prototype.retrieveDataCallback=function(e){var t=e.assembly_ids,r=e.asym_ids,n=e.msg,o=zr(this.props.queryBuilder,"structure"),a=o.parameters.value,i=a.assembly_id,s=a.asym_id,c=a.entry_id;if(this.setState({assembly_ids:t,asym_ids:r,msg:n}),t||r){var l,u;if(!i&&!s){t?(l="assembly_id",u=t[0]):r&&(l="asym_id",u=r[0].asym_id);var p={value:{entry_id:c}};p.value[l]=u,this.setParameters(p)}}},t.prototype.setEntryId=function(e){var t=e.target,r=t.value,n=r.trim().toUpperCase();console.log(DO,"entry_id",n),n.length>4&&(n=n.substring(0,4));var o={value:{entry_id:n}};this.setState({assembly_ids:null,asym_ids:null}),this.setParameters(o),4===n.length&&this.retrieveData(n)},t.prototype.setOperator=function(e){var t=e.target.value,r={operator:t};this.setParameters(r)},t.prototype.setParameters=function(e){on(DO,e,"setProperty: parameters"),this.props.dispatchAction(Th,{parameters:e})},t.prototype.setProperty=function(e,t){var r=e.target.value,n=this.state,o=n.assembly_ids,a=n.asym_ids,i="assembly_id"===r?o[0]:a[0].asym_id,s={value:{entry_id:t}};s.value[r]=i,this.setParameters(s)},t.prototype.setPropertyValue=function(e,t,r){var n=e.target.value,o={value:{entry_id:t}};o.value[r]=n,this.setParameters(o)},t.prototype.render=function(){var e,t,r,n,o=this,a=zr(this.props.queryBuilder,"structure"),i=a&&a.open,s=a?a.count:-1;if(i){var c=a.showAnd,l=a.parameters,u=l.operator,p=l.value,d=p.entry_id,f=p.asym_id,h=p.assembly_id,m=f?"asym_id":"assembly_id",y=p[m],v=c?"AND":null;r=Ci.createElement("div",{style:lw.serviceOperator},v),d||(d=""),f||(f=""),h||(h="");var g,b,_,E,w=this.state,S=w.assembly_ids,O=w.asym_ids,C=w.msg;(S||O)&&(S&&O?g=mm:S?g=[mm[0]]:O&&(g=[mm[1]]),S&&(b=[],S.forEach(function(e){return b.push(e)})),O&&(_=[],O.forEach(function(e){var t=e.asym_id,r=e.auth_asym_id,n=t===r?t:t+" [auth "+r+"]";_.push({key:e.asym_id,value:n})})),h&&b&&(E=b),f&&_&&(E=_),E||(C="No data found for PDB ID "+d)),n=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.entry_id),Ci.createElement("input",{style:UO,type:"text",value:d,onChange:this.setEntryId,placeholder:Zm.searchEntryId,autoComplete:"off"})),E&&(e=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:FO},Ci.createElement(HS,{options:g,value:m,onChange:function(e){return o.setProperty(e,d)},border:ME})),Ci.createElement("div",{style:HO},Ci.createElement(HS,{options:E,value:y,onChange:function(e){return o.setPropertyValue(e,d,m)},border:ME})),Ci.createElement("div",{style:HE},Ci.createElement("input",{style:sw,type:"radio",name:"operator",value:"strict_shape_match",onClick:this.setOperator,checked:"strict_shape_match"===u})),Ci.createElement("div",{style:iw},ay.strict_shape_match),Ci.createElement(Dw,{w:8}),Ci.createElement("div",{style:HE},Ci.createElement("input",{style:sw,type:"radio",name:"operator",value:"relaxed_shape_match",onClick:this.setOperator,checked:"relaxed_shape_match"===u})),Ci.createElement("div",{style:iw},ay.relaxed_shape_match))),C&&(t=Ci.createElement("div",{style:iw},C))}return Ci.createElement("div",{style:lw.service},Ci.createElement(sO,{open:i,service:"structure"}),i&&Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",null,r),Ci.createElement("td",{style:lw.similarityServiceBody},Ci.createElement("div",{style:MO},n,e,t),Ci.createElement("div",{style:LO},Ci.createElement(uO,{clear:this.clear,count:s,getCount:this.getCount}))))))},t}(e.Component),GO=_f(gE,bE)(VO),QO=Object.assign({},lw.textInput,{width:"50px",margin:"0 4px 2px 0",border:ME}),WO=Object.assign({},QO,{width:"150px"}),zO=Object.assign({},HE,{padding:"0 0 0 4px"}),YO=function(e){function t(t){var r=this;e.call(this,t),["handleInputChange"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleInputChange=function(e){var t=e.target,r=t.id,n=t.value;n=n.trim(),on("components/query-builder/Residue",{id:r,value:n});var o=r.split("-"),a=o[0],i=o[1];if("label_asym_id"===a){var s=n;this.props.dispatchAction(Rh,{index:i,label_asym_id:s})}else if("struct_oper_id"===a){var c=n;this.props.dispatchAction(Rh,{index:i,struct_oper_id:c})}else if("label_seq_id"===a){if(Lo(n)){var l=n;this.props.dispatchAction(Rh,{index:i,label_seq_id:l})}}else if("exchanges"===a){var u=n.toUpperCase();u.split(",").length<=4&&this.props.dispatchAction(Rh,{index:i,exchanges:u})}},t.prototype.render=function(){var e=this.props,t=e.deletable,r=e.handleRemoveResidue,n=e.index,o=e.residue,a=o.label_asym_id,i=o.struct_oper_id,s=o.label_seq_id,c=o.exchanges,l=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.label_asym_id),Ci.createElement("input",{style:QO,type:"text",id:"label_asym_id-"+n,value:a,autoComplete:"off",spellCheck:"false",onChange:this.handleInputChange})),u=Ci.createElement("div",{style:zO},Ci.createElement("div",{style:iw},ay.struct_oper_id),Ci.createElement("input",{style:QO,type:"text",id:"struct_oper_id-"+n,value:i,autoComplete:"off",spellCheck:"false",onChange:this.handleInputChange})),p=Ci.createElement("div",{style:zO},Ci.createElement("div",{style:iw},ay.label_seq_id),Ci.createElement("input",{style:QO,type:"text",id:"label_seq_id-"+n,value:s,autoComplete:"off",spellCheck:"false",onChange:this.handleInputChange})),d=Ci.createElement("div",{style:zO},Ci.createElement("div",{style:iw},ay.exchanges),Ci.createElement("input",{style:WO,type:"text",id:"exchanges-"+n,value:c,autoComplete:"off",spellCheck:"false",placeholder:Zm.structuralMotifExchanges,onChange:this.handleInputChange})),f=Ci.createElement("div",{style:YE,className:"qb-btn",onClick:function(e){return r(e,n)}},xw);return Ci.createElement("div",null,l,u,p,d,t&&f)},t}(e.Component),JO=_f(gE,bE)(YO),KO={display:"block"},XO=Object.assign({},KO,{border:UE,padding:"4px 4px 2px 4px",backgroundColor:CE,marginBottom:4}),ZO=function(e){function t(t){var r=this;e.call(this,t),["handleAddResidue","handleRemoveResidue"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleAddResidue=function(){var e=xr();this.props.dispatchAction(jh,e)},t.prototype.handleRemoveResidue=function(e,t){this.props.dispatchAction(qh,t)},t.prototype.render=function(){var e=this,t=this.props,r=t.residues,n=Ci.createElement("div",{style:YE,className:"qb-btn",onClick:this.handleAddResidue},"Add Residue"),o=r.length>3;return Ci.createElement("div",null,Ci.createElement("div",{style:XO},r.map(function(t,r){return Ci.createElement(JO,{key:"r"+r,residue:t,deletable:o,handleRemoveResidue:e.handleRemoveResidue,index:r})})),r.length<10&&n)},t}(e.Component),$O=_f(gE,bE)(ZO),eC=Object.assign({},lw.textInput,{width:"50px",border:ME}),tC=Object.assign({},VE,{width:"75%"}),rC=Object.assign({},GE,{width:"25%"}),nC=Object.assign({},tC,{margin:"4px 4px 4px 75px"}),oC=function(e){function t(t){var r=this;e.call(this,t),["clear","handleChange","getCount"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clear=function(){this.props.dispatchAction(Ah,Nr("strucmotif"))},t.prototype.handleChange=function(e){var t=e.target,r=t.id,n=t.value;if(n=n.trim(),on("components/query-builder/StructuralMotif",{id:r,value:n}),"structural-motif"===r){var o=n.toUpperCase();this.props.dispatchAction(Ah,{value:o})}else"rmsd_cutoff"===r?(n=n.toLowerCase(),Uo(n)&&this.props.dispatchAction(Ah,{rmsd_cutoff:n})):"atom_pairing_scheme"===r&&this.props.dispatchAction(Ah,{atom_pairing_scheme:n})},t.prototype.getCount=function(){var e=zr(this.props.queryBuilder,"strucmotif");this.props.countSearch("service",e)},t.prototype.render=function(){var e,t,r,n,o,a,i=zr(this.props.queryBuilder,"strucmotif"),s=i&&i.open;if(s){var c=i.rmsd_cutoff,l=i.residues,u=i.showAnd,p=i.value,d=i.atom_pairing_scheme;e=i.count;var f=u?"AND":null;t=Ci.createElement("div",{style:lw.serviceOperator},f),n=Ci.createElement("div",{style:tC},Ci.createElement("div",{style:iw},ay.entry_id),Ci.createElement("div",{id:"menu-container-"+this.guid,style:HE,className:"input-menu-container"},Ci.createElement("input",{style:eC,type:"text",id:"structural-motif",value:p,onChange:this.handleChange,placeholder:Zm.structuralMotifSearch,autoComplete:"off"})),Ci.createElement(mw,{__html:Xm.strucmotifValue})),r=Ci.createElement("div",{style:nC},Ci.createElement("div",{style:HE},Ci.createElement($O,{residues:l})),Ci.createElement(mw,{__html:Xm.strucmotifResidues})),o=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.rmsd_cutoff),Ci.createElement("input",{style:eC,type:"text",id:"rmsd_cutoff",value:c,onChange:this.handleChange,autoComplete:"off"}),Ci.createElement(mw,{__html:Xm.strucmotifRmsdCutoff})),a=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:iw},ay.atom_pairing_scheme),Ci.createElement(HS,{id:"atom_pairing_scheme",options:vm,onChange:this.handleChange,value:d,border:ME}),Ci.createElement(mw,{__html:Xm.strucmotifAtomPairingScheme}))}return Ci.createElement("div",{style:lw.service},Ci.createElement(sO,{open:s,service:"strucmotif"}),s&&Ci.createElement("table",{style:WE},Ci.createElement("tr",null,Ci.createElement("td",null,t),Ci.createElement("td",{style:lw.similarityServiceBody},n,r,Ci.createElement("div",{style:tC},o,a),Ci.createElement("div",{style:rC},Ci.createElement(uO,{clear:this.clear,count:e,getCount:this.getCount}))))))},t}(e.Component),aC=_f(gE,bE)(oC),iC="query-builder",sC=iC+"-component",cC=function(e){function t(t){var r=this;e.call(this,t),["search","toggle"].forEach(function(e){return r[e]=r[e].bind(r)}),this.name=iC,this.component_id=sC}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){za(this)},t.prototype.search=function(){this.props.queryBuilderSearch()},t.prototype.toggle=function(){var e=this.props,t=e.dispatchAction,r=e.queryBuilder,n=r&&r.open;console.log("components/query-builder/QueryBuilder","open="+n),n?t(ch,{open:!1}):r?t(ch,{open:!0}):t(ah)},t.prototype.render=function(){var e=this.props,t=e.queryBuilder,r=t&&t.open,n=r?Aw:jw;return Ci.createElement("div",{id:this.component_id,style:lw.panel},Ci.createElement("div",{style:lw.header},Ci.createElement("div",{style:VE},Ci.createElement("div",{style:lw.toggle,onClick:this.toggle},n),Ci.createElement("div",{style:HE,className:"lead"},"Advanced Search Query Builder"),Ci.createElement(mw,{__html:Xm.queryBuilder})),Ci.createElement("div",{style:GE},Ci.createElement("a",{href:"/docs/search-and-browse/advanced-search/overview-search",target:"_blank",rel:"noopener"},"Help ",Ci.createElement("span",{className:"glyphicon glyphicon-new-window"})))),r&&Ci.createElement("div",null,Ci.createElement(OO,null),Ci.createElement(lO,{service:"text"}),Ci.createElement(lO,{service:"text_chem"}),Ci.createElement(qO,null),Ci.createElement(PO,null),Ci.createElement(GO,null),Ci.createElement(aC,null),Ci.createElement(yO,null),Ci.createElement(bO,null)))},t}(e.Component),lC=_f(gE,bE)(cC),uC=["MemProtMD","OPM","mpstruc","PDBTM"],pC=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){for(var e=this.props,t=e.check,r=e.more,n=e.refinement,o=e.result_type,a=n.attribute,i=n.groups,s=n.maxGroups,c=fi(a,o),l=i.length,u=Math.min(s,l),p=[],d=0;d<u;d++){var f=i[d],h=f.population,m=f.checked,y=f.label
;if("rcsb_polymer_entity_annotation.type"===a&&uC.includes(y)||"rcsb_polymer_entity_annotation.type"!==a){var v=di(y,a);p.push(Ci.createElement("tr",{key:y},Ci.createElement("td",null,Ci.createElement("input",{className:"checkBoxRefinement",type:"checkbox",value:y,onClick:function(e){return t(e,a)},checked:m})),Ci.createElement("td",null,Ci.createElement("span",{dangerouslySetInnerHTML:{__html:v+" ("+h+")"}}))))}}return Ci.createElement("div",{className:"refinement"},Ci.createElement("h5",{dangerouslySetInnerHTML:{__html:c}}),Ci.createElement("table",{className:"refinement"},p.map(function(e){return e})),l>s&&Ci.createElement("div",{className:"more",onClick:function(){return r(a)}},"More..."))},t}(e.Component),dC={fontSize:14,color:"#4f4"},fC=function(e){function t(t){var r=this;e.call(this,t),["check","more"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.check=function(e,t){var r=e.target,n=r.value,o=r.checked;this.props.dispatchAction(Qf,{attribute:t,value:n,checked:o})},t.prototype.more=function(e){this.props.dispatchAction(Wf,{attribute:e})},t.prototype.render=function(){var e=this,t=this.props,r=t.searchResults,n=t.refinementSearch,o=r.drilldown,a=r.result_type,i=Object.assign({},$E,{fontSize:14}),s=Ci.createElement("div",{style:i,onClick:n},Ci.createElement("span",{style:dC,className:"glyphicon glyphicon-triangle-right"}));return Ci.createElement("div",{id:"_refinements"},Ci.createElement("div",{id:"refinements-header"},Ci.createElement("table",null,Ci.createElement("tr",null,Ci.createElement("td",{className:"lead"},"Refinements"),Ci.createElement("td",null,Ci.createElement(mw,{__html:Xm.refinements,lineHeight:20,position:"right"})),Ci.createElement("td",null,s)))),o&&Ci.createElement("div",{id:"refinements-body"},o.map(function(t){return t.groups&&t.groups.length>0?Ci.createElement(pC,{key:t.attribute,refinement:t,result_type:a,check:e.check,more:e.more}):null})),Ci.createElement("div",{id:"refinements-footer"},Ci.createElement("table",null,Ci.createElement("tr",null,Ci.createElement("td",null,s)))))},t}(e.Component),hC=_f(gE,bE)(fC),mC="components/Functions",yC=Object.assign({},YE,{marginLeft:5}),vC={border:BE,backgroundColor:kE,padding:4,fontSize:12},gC=Object.assign({},HE,{marginRight:5}),bC=Object.assign({},HE,{marginTop:"4px",marginLeft:"1px"}),_C=Object.assign({},HE,{marginLeft:15,marginRight:5,lineHeight:"28px"}),EC=Object.assign({},aw,{border:ME}),wC=function(e){function t(t){var r=this;e.call(this,t),["handleAlignmentView","handleCreateCustomReport","handleDataDownload","handleDownloadFiles","handleIds","handleSort","handleTabularReport","setReportProps","setSelect"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleAlignmentView=function(e){var t=e.target.value;this.props.dispatchAction(tm,{alignmentView:t})},t.prototype.handleCreateCustomReport=function(){this.setReportProps(Ir("tabular-report")),this.props.setViews(Pf,"create_custom_report")},t.prototype.handleDataDownload=function(e){var t=this.props.searchResults.total_count;console.log(mC,"handleDataDownload: format="+e),t<=xm?(this.setReportProps(Ir("tabular-report")),ii(this.props,{batch:!1,format:e})):confirm(Qm.downloadData)?this.setReportProps({batch:!0,format:e,clicked:[]}):this.setReportProps(Ir("tabular-report"))},t.prototype.handleDownloadFiles=function(e){this.props.downloadFiles(e)},t.prototype.handleIds=function(e){var t=e.target.id?e.target.id:e.target.parentNode.id,r=t.replace("ids-",""),n=this.props.searchResults.total_count;console.log(mC,"handleIds: mode="+r),n<=km?(this.setReportProps(Ir("tabular-report")),ci(this.props,{batch:!1,mode:r})):confirm(Qm.idsData)?this.setReportProps({batch:!0,mode:r,clicked:[]}):this.setReportProps(Ir("tabular-report"))},t.prototype.handleSort=function(e){var t=Yr(e.target.value);this.props.sortResults(t)},t.prototype.handleTabularReport=function(e){var t=e.target.value;console.log(mC,"handleTabularReport: report="+t),""!==t&&(this.setReportProps(Ir("tabular-report")),this.props.setViews(Pf,t))},t.prototype.setReportProps=function(e){this.props.dispatchAction(Hh,e)},t.prototype.setSelect=function(){this.props.dispatchAction(Xf)},t.prototype.buildContextualSort=function(e){return"polymer_entity"===e?rm.concat(om):"assembly"===e?rm.concat(am):"mol_definition"===e?im:rm.concat(nm)},t.prototype.render=function(){var e,t,r,n,o,a,i,s,c,l,u,p=this,d=this.props,f=d.cw,h=d.searchResults,m=d.setViews,y=d.select,v=d.sort,g=d.tabularReport,b=d.views,_=d.request,E=h.result_set,w=h.result_type,S=ln(v),O=b.report,C=b.search;if(g&&g.attributes&&g.attributes.length>0&&(t=g.attributes),t&&console.log(mC,"attributes.length="+t.length),zr(_.query,"sequence")&&"polymer_entity"===h.result_type&&C===Bf&&(e=Ci.createElement("div",{style:bC},Ci.createElement("div",{style:iw},"Alignment Reference"),Ci.createElement("select",{onChange:this.handleAlignmentView,style:EC},Ci.createElement("option",{value:"query",selected:"query"===this.props.alignmentView||!this.props.alignmentView},"Query"),Ci.createElement("option",{value:"subject",selected:"subject"===this.props.alignmentView},"Subject"),Ci.createElement("option",{value:"pairwise",selected:"pairwise"===this.props.alignmentView},"Pairwise")),Ci.createElement("div",{style:iw},Ci.createElement("a",{href:"/docs/sequence-viewers/protein-sequence-alignment-view",target:"_blank"},"Help ",Ci.createElement("span",{className:"glyphicon glyphicon-new-window"}))))),E){C===Pf?(n=Ci.createElement("div",{style:YE,className:"srch-btn",onClick:function(){return m(Bf,Im)}},"Return to Search Results"),"custom_report"===O&&(r=Ci.createElement("div",{style:yC,className:"srch-btn",onClick:this.handleCreateCustomReport},"Return to Create Custom Report"))):l=Df.map(function(e,t){var r=t<Df.length-2?JE:YE,n=e===C?"srch-btn-selected":"srch-btn";if(e!==Pf)return Ci.createElement("div",{style:r,className:n,onClick:function(){return m(e,Im)}},Mf[e])});var x=Ci.createElement("div",{style:gC},l,n,r),k=C===Pf?Ci.createElement("div",{style:_C},"Tabular Report"):null,T=t?"Create/Modify Custom Report":"Create Custom Report",A=Ci.createElement("div",{style:gC},Ci.createElement("select",{onChange:this.handleTabularReport,value:O,style:EC},C!==Pf&&Ci.createElement("option",{value:""},"-- Tabular Report --"),Ci.createElement("option",{value:"pdb_ids"},"PDB IDs"),g&&g.attributes&&Ci.createElement("option",{value:"custom_report"},"Custom Report"),Ci.createElement("option",{value:"create_custom_report"},T),metadata.tabularReportGroups.map(function(e){return Ci.createElement("optgroup",{key:e.name,label:e.name},e.reports.map(function(e){return Ci.createElement("option",{key:e.id,value:e.id},e.name)}))})));"create_custom_report"!==O&&(u=Ci.createElement("div",{style:gC},Ci.createElement(HS,{options:this.buildContextualSort(w),value:S,onChange:this.handleSort,border:ME}))),C===Pf?"pdb_ids"===O?(s=Ci.createElement("div",{style:JE,className:"srch-btn",onClick:this.handleIds,id:"ids-download"},"Download IDs ",Ew),i=Ci.createElement("div",{style:JE,className:"srch-btn",onClick:this.handleIds,id:"ids-display"},"Display IDs ",Sw)):"create_custom_report"!==O&&(o=Ci.createElement("div",{style:JE,className:"srch-btn",onClick:function(){return p.handleDataDownload("csv")}},"CSV ",Ew),c=Ci.createElement("div",{style:YE,className:"srch-btn",onClick:function(){return p.handleDataDownload("json")}},"JSON ",Ew)):a=Ci.createElement("div",{style:HE},Ci.createElement("div",{style:YE,className:"srch-btn",onClick:function(){return p.handleDownloadFiles(w)}},"Download Files"),Ci.createElement(Dw,{w:5}),Ci.createElement("div",{style:HE},Ci.createElement("input",{style:sw,type:"radio",name:"select",value:"all",onClick:this.setSelect,checked:y.all})),Ci.createElement("div",{style:iw},"All"),Ci.createElement("div",{style:HE},Ci.createElement("input",{style:sw,type:"radio",name:"select",value:"selected",onClick:this.setSelect,checked:!y.all})),Ci.createElement("div",{style:iw},"Selected"));var j=f===Um?Object.assign({},HE,{width:"72%"}):null,q=f===Um?Object.assign({},HE,{textAlign:"right",width:"28%"}):{textAlign:"right",paddingTop:2};return Ci.createElement("div",{style:vC},Ci.createElement("div",{style:j},x,k,"mol_definition"!==w&&A,u,o,c,s,i),Ci.createElement("div",{style:q},a),e)}return null},t}(e.Component),SC=_f(gE,bE)(wC),OC={padding:4,border:BE,backgroundColor:SE,fontSize:12},CC=Object.assign({},HE,{lineHeight:"27.5px"}),xC=Object.assign({},CC,{padding:"0 30px"}),kC=HE,TC=function(e){function t(t){e.call(this,t),this.handlePerPage=this.handlePerPage.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handlePerPage=function(e){var t=parseInt(e.target.value);this.props.setResultsPerPage(t)},t.prototype.render=function(){var e=this.props,t=e.cw,r=e.booleans,n=e.pageResults,o=e.pager,a=e.request;if(!r.dataLoading&&o){var i=o.end_num,s=o.page,c=o.rows,l=o.start_num,u=o.total_count,p=o.total_pages,d=ny[a.return_type],f=1===u?d.name:d.value,h=1===s,m=s===p,y=u>c,v=t===Um?Object.assign({},HE,{width:"66%"}):null,g=t===Um?Object.assign({},HE,{textAlign:"right",width:"34%",lineHeight:"27.5px"}):{textAlign:"right",paddingTop:2};return Ci.createElement("div",{style:OC},Ci.createElement("div",{style:v},Ci.createElement("div",{style:CC},"Displaying ",l," to ",i," of ",Ci.createElement("span",null,u," ",Ci.createElement("strong",null,f))),Ci.createElement("div",{style:xC},"Page ",s," of ",p),y&&Ci.createElement("div",{style:kC},h?Ci.createElement("div",{style:ZE,className:"srch-btn"},"← Previous"):Ci.createElement("div",{style:JE,className:"srch-btn",onClick:function(){return n("prev")}},"← Previous"),m?Ci.createElement("div",{style:XE,className:"srch-btn"},"Next →"):Ci.createElement("div",{style:YE,className:"srch-btn",onClick:function(){return n("next")}},"Next →"))),Ci.createElement("div",{style:g},"Display ",Ci.createElement(HS,{options:Rm,value:c,onChange:this.handlePerPage,border:ME})," per page"))}return null},t}(e.Component),AC=_f(gE,bE)(TC),jC={padding:"0 4px",borderBottom:NE},qC=Object.assign({},HE,{width:"90%"}),RC=Object.assign({},HE,{width:"10%",textAlign:"right"}),IC={marginRight:10},NC={marginBottom:20},BC={fontSize:"12px",position:"relative"},PC={border:BE,backgroundColor:kE,padding:4,marginBottom:10},DC={padding:"5px 10px",backgroundColor:"rgb(94, 105, 115)",color:qE,fontSize:"14px"},MC={padding:"5px 10px",backgroundColor:SE,border:IE,marginBottom:10},LC={padding:"2px 4px",backgroundColor:kE,borderBottom:UE},UC=Object.assign({},HE,{marginLeft:4,lineHeight:"14px",marginTop:5}),FC={marginBottom:10},HC={fontSize:14,color:"#4f4"},VC=Ci.createElement("td",{className:"space"},Ci.createElement(Dw,{w:15})),GC=Object.assign({},GC,{border:ME}),QC="";QC+="<p>Generate Custom Tabular Reports for Different Data Types.</p>",QC+='<p>First note the different types of data that can be selected: Structure, Polymer Entity, Assembly, or Non-polymer. Select data items that are to be included, and Run Report. Save tables in CSV or JSON format. <a href="/docs/programmatic-access/web-services-overview" >Data APIs</a> are available to support large data sets.</p>',QC+="<p>Note: The database contains complex one-to-many relationships, and combining items from multiple data types may lead to false correlations.</p>";var WC=function(e){function t(t){var r=this;e.call(this,t),["getCore","getDataCallback","getMenu","handleItemChecked","handlePredefined","handlePredefinedCallback","handleSaveToMypdb","runReport"].forEach(function(e){return r[e]=r[e].bind(r)}),this.title=Ci.createElement("div",{style:FC},Ci.createElement("h4",null,"Create Custom Tabular Report")),this.note=Ci.createElement("div",{style:MC,dangerouslySetInnerHTML:{__html:QC}}),this.id="tabular-report-custom";var n=Ci.createElement("div",{style:YE,className:"qb-btn",onClick:this.runReport},"Run Report ",Ci.createElement("div",{style:UC},Ci.createElement("span",{style:HC,className:"glyphicon glyphicon-triangle-right"}))),o=Ci.createElement("div",{style:HE},Ci.createElement("select",{onChange:this.handlePredefined,style:GC},Ci.createElement("option",{value:""},"-- Modify a Predefined Report --"),metadata.tabularReportGroups.map(function(e){return Ci.createElement("optgroup",{key:e.name,label:e.name},e.reports.map(function(e){return Ci.createElement("option",{key:e.id,value:e.id},e.name)}))})));this.functions=Ci.createElement("div",{style:PC},Ci.createElement("div",{style:VE},o),Ci.createElement("div",{style:GE},null,null,n))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.props.customReport||qr("/search/custom-report-attributes",Hm,this.getDataCallback)},t.prototype.getCore=function(e,t){var r=e.map,n=e.menu,o=n[t];return Ci.createElement("div",{style:NC},Ci.createElement("div",{style:DC},ry[t].name," Data"),this.getMenu(r,o,t))},t.prototype.getDataCallback=function(e,t){on("components/TabularReportCustom",e,"getDataCallback: data"),this.props.dispatchAction(Uh,{data:e})},t.prototype.getMenu=function(e,t,r){var n=this;return Ci.createElement("div",null,t.map(function(t){return Ci.createElement("div",{key:t.name},Ci.createElement("div",{style:LC},t.name),t.items.map(function(r){if(e[r]){var o=e[r],a=o.name,i=o.desc,s=o.checked;return console.log("desc",i),Ci.createElement("div",{style:jC,key:a},Ci.createElement("div",{style:qC},Ci.createElement("input",{style:IC,type:"checkbox",value:r,onClick:n.handleItemChecked,checked:s}),a),Ci.createElement("div",{style:RC},i&&Ci.createElement(mw,{__html:i,icon:"fa-info-circle"})))}console.log(r+" "+t.name+" NOT FOUND")}))}))},t.prototype.handleItemChecked=function(e){var t=this.props,r=t.dispatchAction,n=e.target,o=n.value,a=n.checked;r(Lh,{attribute:o,checked:a})},t.prototype.handlePredefined=function(e){var t=e.target.value;if(""!==t){for(var r=this.props.customReport.map,n=Object.keys(r),o=!1,a=0;a<n.length;a++){r[n[a]].checked&&(o=!0);break}if(o){var i="This will overwrite your existing attribute selection(s) with the attributes from the "+ay[t]+" report";i+=Qm.okToProceed,confirm(i)&&qr("/search/attributes/"+t,Hm,this.handlePredefinedCallback)}else qr("/search/attributes/"+t,Hm,this.handlePredefinedCallback)}},t.prototype.handlePredefinedCallback=function(e){e&&Array.isArray(e)?this.props.dispatchAction(Fh,{attributes:e}):alert("Error retrieving data.")},t.prototype.handleSaveToMypdb=function(){alert("NOT YET IMPLEMENTED")},t.prototype.runReport=function(){var e=this.props,t=e.customReport,r=e.dispatchAction,n=e.setViews,o=t.map,a=[];for(var i in o)o[i].checked&&a.push(i);r(Hh,{attributes:a,batch:null,format:null,mode:null}),n(Pf,"custom_report")},t.prototype.render=function(){var e=this.props,t=e.customReport;if(t){var r=this.getCore(t,"entry"),n=this.getCore(t,"polymer_entities"),o=this.getCore(t,"assemblies"),a=this.getCore(t,"nonpolymer_entities"),i=this.getCore(t,"branched_entities");return Ci.createElement("div",{style:BC},this.title,this.note,this.functions,Ci.createElement("table",{className:"custom-report-cores"},Ci.createElement("tr",null,Ci.createElement("td",{className:"core"},r),VC,Ci.createElement("td",{className:"core"},n),VC,Ci.createElement("td",{className:"core"},o),VC,Ci.createElement("td",{className:"core"},a,i))))}return null},t}(e.Component),zC=_f(gE,bE)(WC),YC="components/TabularReportResults",JC={border:BE,padding:5},KC={marginBottom:10},XC={fontSize:12},ZC={border:UE,padding:5,marginBottom:10},$C={display:"inline-block",color:"#337ab7",cursor:"pointer"},ex={display:"inline-block",color:"#b77ab7",cursor:"pointer"},tx=function(e){function t(t){var r=this;e.call(this,t),["download","getBatchLinks"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.download=function(e,t,r){var n=this.props,o=n.dispatchAction,a=n.tabularReport,i=a.batch,s=a.format,c=a.mode,l=a.clicked;console.log(YC,r,i,s,c),"pdb_ids"===r?ci(this.props,{batch:i,mode:c,from:e,to:t}):ii(this.props,{batch:i,format:s,from:e,to:t}),o(Hh,{clicked:l.concat([e])})},t.prototype.getBatchLinks=function(e,t,r){var n=this;console.log("getBatchLinks",e,t),on(YC,r,"clicked");var o="pdb_ids"===t?km:xm,a=parseInt(e/o);e%o!=0&&a++;for(var i=[],s=0;s<a;s++)!function(s){var c=s*o+1,l=(s+1)*o;s===a-1&&(l=Math.min(l,e));var u=r.includes(c)?ex:$C;i.push(Ci.createElement("div",{style:u,onClick:function(){return n.download(c,l,t)}},"Rows ",c," -  ",l)),i.push(Ci.createElement("br",null))}(s);return i},t.prototype.render=function(){var e=this.props,t=e.booleans,r=e.returnType,n=e.searchResults,o=e.tabularReport,a=e.views;if(!t.dataLoading){var i,s=o.batch,c=o.format,l=o.mode,u=o.clicked,p=n.table,d=a.report,f="pdb_ids"===d?n.result_set.join(","):hi(n),h="pdb_ids"===d?n.result_set.join(", "):null,m="pdb_ids"===d?"PDB IDs":ay[d],y=Ci.createElement("h4",null,m," Report");if("pdb_ids"===d)i=Ci.createElement("div",{style:KC},y);else{var v="/search/report-query?identifiers="+f+"&returnType="+r;v+="custom_report"===d?"&attributes="+o.attributes.join(","):"&report="+d,i=Ci.createElement("div",{style:KC},Ci.createElement("div",{style:VE},y),Ci.createElement("div",{style:GE},Ci.createElement("a",{rel:"noopener noreferrer",href:v,target:"_blank"},"View GraphQL Query")))}var g;if(s){var b="pdb_ids"===d?km+" IDs":xm+" records",_="pdb_ids"===d?"Batch "+("download"===l?"Download":"Display"):c.toUpperCase()+" Batch Download",E="pdb_ids"===d&&"display"===l?"display":"download",w=n.total_count;g=Ci.createElement("div",{style:ZC},Ci.createElement("p",null,Ci.createElement("b",null,_,":")," ",E," the complete data set in batches of up to ",b,". Each file may take up to one minute to ",E,". ",Ci.createElement("span",{dangerouslySetInnerHTML:{__html:Qm.downloadMsg}})),this.getBatchLinks(w,d,u))}return Ci.createElement("div",{style:XC},i,g,n&&"pdb_ids"===d&&Ci.createElement("div",{style:JC},h),n&&p&&"pdb_ids"!==d&&Ci.createElement("div",{dangerouslySetInnerHTML:{__html:p}}))}return null},t}(e.Component),rx=_f(gE,bE)(tx),nx=Ci.createElement("tr",null,Ci.createElement("th",null,"ID"),Ci.createElement("th",null,"Name"),Ci.createElement("th",null,"Formula"),Ci.createElement("th",null,"Molecular Weight"),Ci.createElement("th",null,"Type")),ox=function(e){function t(t){e.call(this,t),this.handleItemChecked=this.handleItemChecked.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleItemChecked=function(e){var t=e.target,r=t.value,n=t.checked;this.props.dispatchAction($f,{id:r,checked:n})},t.prototype.render=function(){var e=this,t=this.props,r=t.booleans,n=t.cw,o=t.searchResults,a=t.views,i=t.select,s=a.search;if(!r.dataLoading&&o){if(s===Pf)return"create_custom_report"===a.report?Ci.createElement(zC,null):Ci.createElement(rx,null);var c=o.result_set.map(function(t){var r=t.formula,o=t.formula_weight,a=t.id,c=t.identifiers,l=t.InChIKey,u=t.name,p=t.type,d="/ligand/"+a,f="https://cdn.rcsb.org/images/ccd/unlabeled/"+a.substring(0,1)+"/"+a+".svg",h=Ci.createElement("a",{href:d},Ci.createElement("img",{className:"img-responsive gallery-item-img",src:f})),m=Ci.createElement("a",{href:d},a),y=c?c.map(function(e){return Ci.createElement("div",{key:e},e)}):null,v=i.all||i.ids.includes(a),g=i.all,b=Ci.createElement("input",{type:"checkbox",value:a,onClick:e.handleItemChecked,checked:v,disabled:g}),_="https://files.rcsb.org/ligands/download/",E="https://files.rcsb.org/ligands/view/";if(10===a.length&&a.startsWith("PRD_")&&(_="https://files.rcsb.org/birds/download/",E="https://files.rcsb.org/birds/view/"),s===Bf)return Ci.createElement("div",{className:"results-item",key:a},Ci.createElement("div",{className:"row results-item-row"},Ci.createElement("div",{className:"col-md-3 col-xs-12 results-item-img"},h),Ci.createElement("div",{className:"col-md-9 col-xs-12 results-item-info"},Ci.createElement("table",{className:"results-item-header"},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("h3",null,m)),Ci.createElement("td",{className:"text-right",style:{whiteSpace:"nowrap"}},Ci.createElement("div",{className:"btn-group btn-group-xs"},Ci.createElement("a",{className:"btn btn-default",type:"button",href:""+_+a+".cif",rel:"noopener noreferrer",target:"_blank"},"Download File"),Ci.createElement("a",{className:"btn btn-default",type:"button",href:""+E+a+".cif",rel:"noopener noreferrer",target:"_blank"},"View File")),Ci.createElement(Dw,{w:10}),b))),Ci.createElement(Dw,{h:10}),Ci.createElement("h4",{className:"break"},Ci.createElement("a",{href:d},u)),Ci.createElement(Dw,{h:10}),Ci.createElement("table",{className:"results-item-data"},Ci.createElement("tr",null,Ci.createElement("td",null,"Formula"),Ci.createElement("td",null,r)),Ci.createElement("tr",null,Ci.createElement("td",null,"Molecular Weight"),Ci.createElement("td",null,o)),Ci.createElement("tr",null,Ci.createElement("td",null,"Type"),Ci.createElement("td",null,p)),Ci.createElement("tr",null,Ci.createElement("td",null,"InChIKey"),Ci.createElement("td",null,l)),c&&Ci.createElement("tr",null,Ci.createElement("td",null,"Identifiers"),Ci.createElement("td",{className:"break"},y))))));if("GALLERY"===s){var w=n===Lm?{width:"33.33%"}:{width:"25%"};return Ci.createElement("td",{className:"gallery-item",style:w,key:a},Ci.createElement("div",null,Ci.createElement("div",null,m))," ",h)}return"COMPACT"===s?Ci.createElement("tr",{key:a},Ci.createElement("td",null,m),Ci.createElement("td",{style:{width:"50%"}},u),Ci.createElement("td",null,r),Ci.createElement("td",null,o),Ci.createElement("td",null,p)):void 0});if(s===Bf)return Ci.createElement("div",null,c);if("GALLERY"===s){for(var l=[],u=n===Lm||"SM"===n?3:4,p=0,d=c.length;p<d;p+=u){var f=3===u?Ci.createElement("tr",null,c[p],c[p+1],c[p+2]):Ci.createElement("tr",null,c[p],c[p+1],c[p+2],c[p+3]);l.push(f)}return Ci.createElement("table",{id:"gallery-items"},l)}if("COMPACT"===s)return Ci.createElement("table",{id:"compact-view"},nx,c)}return null},t}(e.Component),ax=_f(gE,bE)(ox),ix=r(function(e,t){!function(e,t){t()}(0,function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof xi&&xi.global===xi?xi:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,i){var s=a.URL||a.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):n(c.href)?r(e,t,i):o(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,i){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),a);else if(n(e))r(e,a,i);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){o(s)})}}:function(e,t,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var p=a.URL||a.webkitURL,d=p.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout(function(){p.revokeObjectURL(d)},4e4)}});a.saveAs=s.saveAs=s,e.exports=s})}),sx=Object.assign({},tw,{marginLeft:5}),cx=function(e){function t(t){var r=this;e.call(this,t),["setShowAllChainIds"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={showAllChainIds:!1}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getSnapshotBeforeUpdate=function(e,t){var r=this.props,n=r.alignmentView,o=r.searchView;if(this.props.item&&this.props.item.data){var a="pfvAlignment_"+this.props.item.data.identifier;n!==e.alignmentView&&o===Bf&&RcsbFvWebApp.unmount(a)}},t.prototype.componentWillUnmount=function(){if(this.props.item&&this.props.item.data){var e="pfvAlignment_"+this.props.item.data.identifier;RcsbFvWebApp.unmount(e)}},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.alignmentView,n=t.searchView;e.alignmentView!==r&&n===Bf&&this.updateAlignmentView()},t.prototype.componentDidMount=function(){this.props.searchView===Bf&&this.updateAlignmentView()},t.prototype.setShowAllChainIds=function(){var e=!this.state.showAllChainIds;this.setState({showAllChainIds:e})},t.prototype.render=function(){var e=this,t=this.props,r=t.attributeValueSearch,n=t.cw,o=t.handleItemChecked,a=t.item,i=t.searchView,s=t.select,c=t.structureQuery,l=t.strucmotifQuery,u=a.data,p=a.sequence_match,d=a.seqmotif_match,f=a.structure_match,h=a.strucmotif_match;if(u){var m=u.audit_author,y=u.auth_mapping,v=u.assembly,g=u.entity,b=u.entryId,_=u.exptl,E=u.identifier,w=u.imgSrc,S=u.initial_release_date,O=u.macromoleculeCount,C=u.name,x=u.publication,k=u.return_type,T=u.sspHref,A=u.title,j=Ci.createElement("a",{href:T},Ci.createElement("img",{className:"img-responsive gallery-item-img",src:w})),q=s.all||s.ids.includes(b),R=s.all,I=Ci.createElement("input",{type:"checkbox",value:E,onClick:o,checked:q,disabled:R});if("GALLERY"===i){var N=n===Lm?{width:"33.33%"}:{width:"25%"};return Ci.createElement("td",{className:"gallery-item",style:N},Ci.createElement("div",null,Ci.createElement("div",null,I," ",E),j))}if("COMPACT"===i)return Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("a",{href:T},C)),Ci.createElement("td",null,A),Ci.createElement("td",{style:{whiteSpace:"nowrap"}},S&&Ci.createElement("div",null,S)),Ci.createElement("td",null,I));var B,P;if("polymer_entity"===k||"non_polymer_entity"===k&&g.chains&&g.chains.length){var D=this.state.showAllChainIds,M=g.chains.length>1?"Chain IDs":"Chain ID",L=D?g.chains.join(", "):g.chains.slice(0,5).join(", ");if(g.chains.length>8){var U=D?"minus":"plus",F=Ci.createElement("span",{className:"glyphicon glyphicon-"+U}),H=D?"Less":"More ("+g.chains.length+")";P=Ci.createElement("div",{style:sx,onClick:this.setShowAllChainIds},F," ",H)}B=Ci.createElement("tr",null,Ci.createElement("td",null,M),Ci.createElement("td",null,L," ",P))}return Ci.createElement("div",{className:"results-item",key:E},Ci.createElement("div",{className:"row results-item-row"},Ci.createElement("div",{className:"col-md-3 col-xs-12 results-item-img"},j,"non_polymer_entity"!==k&&Ci.createElement("div",{className:"view-button-3d"},Ci.createElement("a",{className:"btn btn-default btn-xs",type:"button",href:"/3d-view/"+b},Ci.createElement("i",{className:"fa fa-cube"}," "),"3D View"))),Ci.createElement("div",{className:"col-md-9 col-xs-12 results-item-info"},Ci.createElement("table",{className:"results-item-header"},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("h3",null,Ci.createElement("a",{href:T},C))),Ci.createElement("td",{className:"text-right",style:{whiteSpace:"nowrap"}},Ci.createElement("div",{className:"btn-group btn-group-xs"},Ci.createElement("a",{className:"btn btn-default",type:"button",href:"https://files.rcsb.org/download/"+b+".cif.gz",rel:"noopener noreferrer",target:"_blank"},"Download File"),Ci.createElement("a",{className:"btn btn-default",type:"button",href:"https://files.rcsb.org/view/"+b+".cif",rel:"noopener noreferrer",target:"_blank"},"View File")),Ci.createElement(Dw,{w:10}),I))),Ci.createElement(Dw,{h:10}),Ci.createElement("h4",null,Ci.createElement("a",{href:T},A)),Ci.createElement(Dw,{h:5}),m&&Ci.createElement("p",null,m.map(function(e,t){var n=t<m.length-1?", ":"";return Ci.createElement("span",{key:e.name},Ci.createElement("a",{onClick:function(){return r("audit_author.name",e.name)}},e.name),n)})),x&&Ci.createElement("p",{dangerouslySetInnerHTML:{__html:x}}),Ci.createElement("table",{className:"results-item-data"},S&&Ci.createElement("tr",null,Ci.createElement("td",null,"Released"),Ci.createElement("td",null,S)),_&&Ci.createElement("tr",null,Ci.createElement("td",null,"Method"),Ci.createElement("td",null,_.map(function(e){return Ci.createElement("div",{key:e.method},e.method+(e.resolution?" "+e.resolution+" Å":""))}))),"entry"===k&&Ci.createElement("tbody",null,u.organisms&&Ci.createElement("tr",null,Ci.createElement("td",null,"Organisms"),Ci.createElement("td",null,u.organisms.map(function(e){return Ci.createElement("div",{key:e},Ci.createElement("a",{onClick:function(){return r("rcsb_entity_source_organism.taxonomy_lineage.name",e)}},e))}))),O>0&&Ci.createElement("tr",null,Ci.createElement("td",null,"Macromolecule"),O>5&&Ci.createElement("td",null,u.polymer_entity_count_protein>0&&Ci.createElement("div",null,"Unique protein chains: ",u.polymer_entity_count_protein),u.polymer_entity_count_nucleic_acid>0&&Ci.createElement("div",null,"Unique nucleic acid chains: ",u.polymer_entity_count_nucleic_acid),u.polymer_entity_count_nucleic_acid_hybrid>0&&Ci.createElement("div",null,"Unique nucleic acid hybrid chains: ",u.polymer_entity_count_nucleic_acid_hybrid)),O<=5&&Ci.createElement("td",null,u.proteinChains&&u.proteinChains.map(function(e,t){return Ci.createElement("div",{key:"m"+t},Ci.createElement("a",{onClick:function(){return r("rcsb_polymer_entity.pdbx_description",e)}},e," ")," (protein)")}),u.nucleicAcidChains&&u.nucleicAcidChains.map(function(e,t){return Ci.createElement("div",{key:"m"+t},Ci.createElement("a",{onClick:function(){return r("rcsb_polymer_entity.pdbx_description",e)}},e)," (nucleic acid)")}),u.hybridChains&&u.hybridChains.map(function(e,t){return Ci.createElement("div",{key:"m"+t},Ci.createElement("a",{onClick:function(){return r("rcsb_polymer_entity.pdbx_description",e)}},e)," (hybrid)")}))),u.ligands&&Ci.createElement("tr",null,Ci.createElement("td",null,"Unique Ligands"),Ci.createElement("td",null,u.ligands.map(function(e,t){var r=t<u.ligands.length-1?", ":"";return Ci.createElement("span",{key:e},Ci.createElement("a",{href:"/ligand/"+e},e),r)}))),u.branched_monosaccharides&&Ci.createElement("tr",null,Ci.createElement("td",null,"Unique branched monosaccharides"),Ci.createElement("td",null,u.branched_monosaccharides.map(function(e,t){var r=t<u.branched_monosaccharides.length-1?", ":"";return Ci.createElement("span",{key:e},e,r)}))))," ","polymer_entity"===k&&Ci.createElement("tbody",null,B,g.organisms&&Ci.createElement("tr",null,Ci.createElement("td",null,"Organism"),Ci.createElement("td",null,g.organisms.map(function(e){return Ci.createElement("div",{key:e},Ci.createElement("a",{onClick:function(){return r("rcsb_entity_source_organism.taxonomy_lineage.name",e)}},e))
}))),g.pdbx_description&&Ci.createElement("tr",null,Ci.createElement("td",null,"Macromolecule"),Ci.createElement("td",null,Ci.createElement("a",{onClick:function(){return r("rcsb_polymer_entity.pdbx_description",g.pdbx_description)}},g.pdbx_description))))," ","non_polymer_entity"===k&&Ci.createElement("tbody",null,B,Ci.createElement("tr",null,Ci.createElement("td",null,"Chemical ID"),Ci.createElement("td",null,Ci.createElement("a",{href:"/ligand/"+g.chem_comp_id},g.chem_comp_id))),Ci.createElement("tr",null,Ci.createElement("td",null,"Formula"),Ci.createElement("td",null,g.chem_comp_formula))),"assembly"===k&&v.symmetry&&Ci.createElement("tbody",null,Ci.createElement("tr",null,Ci.createElement("td",null,v.symmetry.kind,": "),Ci.createElement("td",null,v.symmetry.type," - ",v.symmetry.symbol)),v.oligomeric_count&&Ci.createElement("tr",null,Ci.createElement("td",null,"Oligomeric Count"),Ci.createElement("td",null,v.oligomeric_count))),Ci.createElement("tbody",null,p&&Ci.createElement("tr",null,Ci.createElement("td",null,"Sequence Match"),Ci.createElement("td",null,p.map(function(e){return Ci.createElement("div",{key:e.region},Ci.createElement("div",null,"Sequence Identity: ",Math.ceil(100*e.sequence_identity)+"%",", E-Value: ",e.evalue,", Region: ",e.region))}))),d&&Ci.createElement("tr",null,Ci.createElement("td",null,"Sequence Motif Match"),Ci.createElement("td",null,"Regions: ",d.map(function(e){var t=y[g.asym_id].auth_to_entity_poly_seq_mapping[e.start-1],r=y[g.asym_id].auth_to_entity_poly_seq_mapping[e.end-1];return e.start!=t||e.end!=r?e.start+"-"+e.end+" [auth "+t+"-"+r+"]":e.start+"-"+e.end}).join(", "))),f&&"assembly"===k&&Ci.createElement("tr",null,Ci.createElement("td",null,"Structure Match Score ",Ci.createElement(mw,{__html:Xm.structureMatchScore,lineHeight:20})),Ci.createElement("td",null,f)),f&&"polymer_entity"===k&&c&&Ci.createElement("tr",null,Ci.createElement("td",null,"Structure Match"),Ci.createElement("td",null,Ci.createElement("span",{className:"align-button-3d"},Ci.createElement("a",{className:"btn btn-default btn-xs",type:"button",title:"Show 3D alignment of query chain and the first chain of this entity",href:yi(c,b,g.asym_id),target:"_blank",rel:"noopener noreferrer"},Ci.createElement("i",{className:"fa fa-cube"}," "),"View")))),h&&Ci.createElement("tr",null,Ci.createElement("td",null,"Structure Motif Match ",Ci.createElement(mw,{__html:Xm.strucmotifMatchScore,lineHeight:20})),Ci.createElement("td",null,h.map(function(e,t){var r=e.residue_ids.map(function(t,r){var n=t.struct_oper_id&&"1"!==t.struct_oper_id?"_"+t.struct_oper_id:"",o=y[t.label_asym_id],a=o.auth_asym_id,i=o.auth_to_entity_poly_seq_mapping,s=i[t.label_seq_id-1],c=e.residue_types[r];return t.label_asym_id!==a||t.label_seq_id!=s?c+":"+t.label_asym_id+n+"-"+t.label_seq_id+" [auth "+a+n+"-"+s+"]":c+":"+t.label_asym_id+n+"-"+t.label_seq_id}).join(", ");return Ci.createElement("div",{key:"sm"+t,className:"ellipsis-container"},Ci.createElement("div",{className:"ellipsis"},Ci.createElement("span",{className:"align-button-3d"},Ci.createElement("a",{className:"btn btn-default btn-xs",type:"button",title:"Show 3D alignment of query motif and this match",href:vi(l,b,v.id,t+1,e.residue_ids,e.score,e.transformation),target:"_blank",rel:"noopener noreferrer"},Ci.createElement("i",{className:"fa fa-cube"}," "),"Align")),"RMSD: ",e.score," Å - ",Ci.createElement("span",{title:r},r)))}))))))),p&&Ci.createElement("div",{className:"btn-group btn-group-xs",style:{marginLeft:82,marginTop:25,marginBottom:"pairwise"===this.props.alignmentView?5:0}},Ci.createElement("a",{className:"btn btn-default",onClick:function(){mi(e.props.item)},type:"button",rel:"noopener noreferrer"},"Download Alignment")),p&&Ci.createElement("div",{id:"pfvAlignment_"+E,style:{marginBottom:5}}))}return Ci.createElement("div",{className:"row results-item",key:a.identifier},Ci.createElement("div",{className:"err-msg"},Ci.createElement("strong",null,"MISSING DATA FOR ",a.identifier)))},t.prototype.updateAlignmentView=function(){var e=this.props,t=e.alignmentView,r=e.item,n=e.querySequence,o=r.data,a=r.sequence_match;if(null!=a){var i=o.identifier,s=o.entity,c="pfvAlignment_"+i,l=[];a.map(function(e){l.push({elementId:c,targetId:i,queryAlignment:e.query_aligned_seq,targetAlignment:e.subject_aligned_seq,querySequence:n,targetSequence:s.sequence,queryBegin:e.query_beg,queryEnd:e.query_end,targetBegin:e.subject_beg,targetEnd:e.subject_end,sequenceId:e.sequence_identity})});var u={rowTitleWidth:80,trackWidth:820};l.forEach(function(e){switch(t){case"subject":setTimeout(function(){RcsbFvWebApp.buildPairwiseAlignment(e.elementId,{querySequence:e.targetSequence,targetSequence:e.querySequence,queryAlignment:e.targetAlignment,targetAlignment:e.queryAlignment,queryBegin:e.targetBegin,queryEnd:e.targetEnd,targetBegin:e.queryBegin,targetEnd:e.queryEnd,targetId:"QUERY",queryId:e.targetId,sequenceId:e.sequenceId,isQueryExternal:!1,isTargetExternal:!0},{boardConfig:u})},100);break;case"pairwise":setTimeout(function(){RcsbFvWebApp.buildPairwiseAlignment(e.elementId,{querySequence:e.querySequence,targetSequence:e.targetSequence,queryAlignment:e.queryAlignment,targetAlignment:e.targetAlignment,queryBegin:e.queryBegin,queryEnd:e.queryEnd,targetBegin:e.targetBegin,targetEnd:e.targetEnd,targetId:e.targetId,queryId:"QUERY",sequenceId:e.sequenceId,isQueryExternal:!0,isTargetExternal:!1,pairwiseView:!0},{boardConfig:u})},100);break;default:setTimeout(function(){RcsbFvWebApp.buildPairwiseAlignment(e.elementId,{querySequence:e.querySequence,targetSequence:e.targetSequence,queryAlignment:e.queryAlignment,targetAlignment:e.targetAlignment,queryBegin:e.queryBegin,queryEnd:e.queryEnd,targetBegin:e.targetBegin,targetEnd:e.targetEnd,targetId:e.targetId,queryId:"QUERY",sequenceId:e.sequenceId,isQueryExternal:!0,isTargetExternal:!1},{boardConfig:u})},100)}})}},t}(e.Component),lx=function(e){function t(t){e.call(this,t),this.handleItemChecked=this.handleItemChecked.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleItemChecked=function(e){var t=e.target,r=t.value,n=t.checked;this.props.dispatchAction($f,{id:r,checked:n})},t.prototype.render=function(){var e,t,r,n=this,o=this.props,a=o.booleans,i=o.cw,s=o.attributeValueSearch,c=o.request,l=o.searchResults,u=o.select,p=o.views,d=o.alignmentView,f=c.query,h=zr(f,"sequence");h&&(e=h.parameters.value);var m=zr(f,"structure");m&&m.parameters&&m.parameters.value&&m.parameters.value.asym_id&&(t=m.parameters.value);var y=zr(f,"strucmotif");y&&(r=y.parameters);var v=p.search;if(!a.dataLoading&&l&&l.result_set){if(v===Pf)return"create_custom_report"===p.report?Ci.createElement(zC,null):Ci.createElement(rx,null);var g=l.result_set.map(function(o){return Ci.createElement(cx,{item:o,alignmentView:d,key:o.identifier,searchView:v,cw:i,select:u,handleItemChecked:n.handleItemChecked,attributeValueSearch:s,querySequence:e,structureQuery:t,strucmotifQuery:r})});if("GALLERY"===v){for(var b=[],_=i===Lm?3:4,E=0,w=g.length;E<w;E+=_){var S=3===_?Ci.createElement("tr",null,g[E],g[E+1],g[E+2]):Ci.createElement("tr",null,g[E],g[E+1],g[E+2],g[E+3]);b.push(S)}return Ci.createElement("table",{id:"gallery-items"},b)}if("COMPACT"===v){var O=Ci.createElement("tr",null,Ci.createElement("th",null,"ID"),Ci.createElement("th",null,"Title"),Ci.createElement("th",null,"Released"),Ci.createElement("th",null));return Ci.createElement("table",{id:"compact-view"},O,g)}return Ci.createElement("div",null,g)}return null},t}(e.Component),ux=_f(gE,bE)(lx),px=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=(e.returnType,e.searchResults),r=e.views,n=t.result_type,o=r.report,a=r.search,i=!0,s=!0;return a===Pf&&("create_custom_report"===o&&(i=!1),"create_custom_report"!==o&&"pdb_ids"!==o||(s=!1)),Ci.createElement("div",null,Ci.createElement(SC,null),Ci.createElement(Dw,{h:10}),Ci.createElement("div",null,i&&Ci.createElement(AC,null),Ci.createElement(Dw,{h:10}),"mol_definition"===n?Ci.createElement(ax,null):Ci.createElement(ux,null),Ci.createElement(Dw,{h:10}),s&&Ci.createElement(AC,null)))},t}(e.Component),dx=_f(gE,_E)(px),fx={width:"100%"},hx={verticalAlign:"top"},mx={paddingRight:10},yx={width:"100%"},vx=Object.assign({},QE,{color:"rgba(207, 0, 0, 1)"}),gx={textAlign:"right"},bx=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.continue=function(){location.href="/search"},t.prototype.render=function(){var e=this.props,t=e.cw,r=e.msg,n=e.searchResults;return Ci.createElement("div",null,r&&Ci.createElement("div",null,r.type===Wm?Ci.createElement("div",{style:vx},Ci.createElement("table",{style:fx},Ci.createElement("tr",null,Ci.createElement("td",null,Ci.createElement("div",{dangerouslySetInnerHTML:{__html:r.value}})),Ci.createElement("td",{style:gx},Ci.createElement("div",{style:YE,className:"search-btn",onClick:this.continue},"Continue"))))):Ci.createElement("div",{style:QE,dangerouslySetInnerHTML:{__html:r.value}})),Ci.createElement("div",null,Ci.createElement(lC,null),Ci.createElement(Dw,{h:10})),n&&Ci.createElement("div",null,(t===Um||"MD"===t)&&Ci.createElement("table",{style:fx},Ci.createElement("tr",{style:hx},Ci.createElement("td",{style:mx},Ci.createElement(hC,null)),Ci.createElement("td",{style:yx},Ci.createElement(dx,null)))),("SM"===t||t===Lm)&&Ci.createElement("div",null,Ci.createElement(dx,null),Ci.createElement(Dw,{h:10}),Ci.createElement(hC,null))))},t}(e.Component),_x=_f(gE,bE)(bx),Ex=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props.booleans,t=e.dataLoading,r=e.countLoading,n=window.innerHeight/2-20,o=window.innerWidth/2-200,a={top:n,left:o};if(t||r){var i=t?Qm.dataLoading:Qm.countLoading;return Ci.createElement("div",{id:"data-loading",style:a},Ci.createElement("div",{className:"progress"},Ci.createElement("div",{className:"progress-bar progress-bar-striped active"},i)))}return null},t}(e.Component),wx=_f(gE,_E)(Ex),Sx={padding:"3px 4px",border:PE,backgroundColor:SE,fontSize:12},Ox={padding:"0 4px",width:"100%"},Cx=function(e){function t(t){var r=this;e.call(this,t),["handleJson","saveToMypdb"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleJson=function(){var e=kr(this.props.request);mo(e.query),delete e.request_info;var t=Tf+"?json=";window.open(t+encodeURIComponent(JSON.stringify(e)))},t.prototype.saveToMypdb=function(){var e=this.props,t=e.history,r=e.request,n=t.map[r.request_info.query_id];n?oi(n):console.error("item NOT FOUND for request.request_info.query_id="+r.request_info.query_id)},t.prototype.render=function(){var e=this.props,t=e.booleans,r=e.dispatchAction,n=e.history,o=e.prevNextSearch,a=e.request,i=e.requestHtml,s=a.request_info?a.request_info.query_id:null,c=t.hasMypdb;if(s&&i){var l,u,p,d,f,h,m,y,v=n.ids,g=v.length;g>1&&(s===v[g-1]?p=ZE:(u="prev",p=JE,d="srch-btn"),s===v[0]?m=XE:(h="next",m=YE,y="srch-btn"),l=Ci.createElement("div",{style:p,className:d,onClick:function(){return o(u)}},qw),f=Ci.createElement("div",{style:m,className:y,onClick:function(){return o(h)}},Rw));var b=a?Ci.createElement("div",{style:JE,className:"srch-btn",onClick:this.handleJson},"JSON ",Sw):null,_=Ci.createElement("div",{style:Sx,dangerouslySetInnerHTML:{__html:"<strong>QUERY:</strong> "+i}});return Ci.createElement("div",null,Ci.createElement("table",null,Ci.createElement("tr",null,Ci.createElement("td",null,l),Ci.createElement("td",null,f),Ci.createElement("td",{style:Ox},_),Ci.createElement("td",null,b),Ci.createElement("td",null,c?Ci.createElement("div",{style:YE,className:"srch-btn",onClick:this.saveToMypdb},Ci.createElement("div",{style:HE},Iw)," Save to MyPDB"):Ci.createElement("div",{style:YE,className:"srch-btn",onClick:function(){return r(nh,{tab:Rf})}},"MyPDB Login")))),Ci.createElement(Dw,{h:10}))}return null},t}(e.Component),xx=_f(gE,bE)(Cx),kx=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.requestHtml;return Ci.createElement("div",null,Ci.createElement(wx,null),t&&Ci.createElement(xx,null),Ci.createElement(_x,null))},t}(e.Component),Tx=_f(gE,_E)(kx),Ax=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleClick=function(e){return this.props.dispatchAction(nh,{tab:e}),!1},t.prototype.render=function(){var e=this;return Ci.createElement("div",{style:{position:"relative"}},Ci.createElement("ul",{className:"nav nav-tabs"},If.map(function(t){var r,n={cursor:"pointer"};return t===e.props.views.tab&&(r="active",n=null),Ci.createElement("li",{key:t,style:n,className:r,onClick:function(){return e.handleClick(t)}},Ci.createElement("a",null,Nf[t]))})))},t}(e.Component),jx=_f(gE,bE)(Ax),qx={position:"fixed",width:240,zIndex:1e4,backgroundColor:"#555",color:"#fff",borderRadius:4,padding:"4px 8px",fontSize:12},Rx={position:"fixed",width:10,height:10,zIndex:1e4,border:"5px solid rgba(0, 0, 0, 0)"},Ix=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props.tooltip;if(e){var t,r,n,o,a,i=e.__html,s=e.x,c=e.y,l=e.iconWidth,u=e.iconHeight,p=e.htmlHeight,d=e.position;"left"===d||"right"===d?(t=c-(p-u)/2+"px",o=c+u/2-5+"px","left"===d?(r=s-240-10,a=s-10,n="borderLeft"):"right"===d&&(r=s+l+10,a=s+l,n="borderRight")):(t=c-p-10+"px",r=s-(240-l)/2+"px",o=c-10+"px",a=s+l/2-5+"px",n="borderTop");var f=Object.assign({},qx,{top:t,left:r}),h=Object.assign({},Rx,{top:o,left:a});return h[n]="5px solid #555",Ci.createElement("div",null,Ci.createElement("div",{style:f,dangerouslySetInnerHTML:{__html:i}}),Ci.createElement("div",{style:h}))}return null},t}(e.Component),Nx=_f(gE,bE)(Ix),Bx=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props.node;e.s&&bi(e.i)},t.prototype.componentDidUpdate=function(e){},t.prototype.render=function(){var e=this.props,r=e.node,n=e.parent,o=e.tree_id,a=e.clickNode,i=e.clickLink,s=r.id,c=r.n,l=r.ch,u=r.hasCh,p=r.d,d=r.i,f=(r.pi,r.o),h=r.c,m=r.s,y=metadata.tree_config[o],v=y.is_go,g=y.show_id,b=y.sort_by,_=y.return_type,E="";"id"===b?(g&&(E+="<strong>"+s+"</strong> - "),E+=c):c?(E+=c,g&&(E+=v?" <strong>("+pn(s)+")</strong>":" <strong>("+s+")</strong>")):E+="<strong>("+s+")</strong>";var w,S=m?"tree-node-selected":"tree-node";w="entry"===_?1===h?"Structure":"Structures":"assembly"===_?1===h?"Assembly":"Assemblies":"polymer_entity"===_?1===h?"Polymer Entity":"Polymer Entities":"mol_definition"===_?1===h?"Molecular Definition":"Molecular Definitions":"UNKOWN RETURN TYPE";var O=n&&n.o?"block":"none",C={display:O},x=20*(p-1);u||(x+=15);var k=u?function(){return a(r)}:null;return Ci.createElement("div",null,(c||s)&&Ci.createElement("div",{id:"tree-item-"+d,className:S,style:C},Ci.createElement("span",{onClick:k},x>0&&Ci.createElement(Dw,{w:x}),u&&f&&jw,u&&!f&&Rw),Ci.createElement("span",{dangerouslySetInnerHTML:{__html:E},onClick:k}),h&&Ci.createElement("span",null,Ci.createElement("i",null," - [ ",Ci.createElement("a",{className:"tree-browser-link",onClick:function(){return i(r)}},h," ",w)," ]"))),f&&l&&l.map(function(e){return Ci.createElement(t,{key:e.i,node:e,parent:r,tree_id:o,clickNode:a,clickLink:i})}))},t}(e.Component),Px={width:"100%",height:28,border:UE},Dx=function(e){function t(t){var r=this;e.call(this,t),["handleInputChange","handleInputChangeCallback","handleInputClick","menuSelect"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Fr(),this.name="tree-search-bar",this.state=Ir("menu-state")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleInputChange=function(e){var t=this.props,r=t.tree_id,n=e.target,o=n.value;if(console.log("value="+o),o.length>2){qr(["/search/tree-menu",r,o].join("/"),Hm,this.handleInputChangeCallback)}else Ja(Ir("menu-state"),this)},t.prototype.handleInputChangeCallback=function(e){e&&e.length>0?Ja({menuItems:e,menuIndex:-1,menuOpen:!0},this):Ja(Ir("menu-state"),this)},t.prototype.handleInputClick=function(e){var t=e.target,r=t.value;console.log("components/TreeSearchBar","value="+r),r.length>2&&this.state.menuItems&&Ja({menuOpen:!0},this)},t.prototype.menuSelect=function(e){var t=e[1];this.props.selectNode(t),Ja({menuOpen:!1},this)},t.prototype.render=function(){var e=this,t=this.state,r=t.menuIndex,n=t.menuItems,o=t.menuOpen;return Ci.createElement("div",{id:"menu-container-"+this.guid,className:"input-menu-container"},Ci.createElement("input",{type:"text",style:Px,onClick:function(t){return e.handleInputClick(t)},onChange:this.handleInputChange,placeholder:Zm.treeSearchBar,autoComplete:"off",spellCheck:"false"}),o&&Ci.createElement("div",{className:"input-menu"},n.map(function(t,n){var o=t[0],a=n===r?"selected":null;return Ci.createElement("div",{id:"menu"+n,key:"i"+n,className:a,onClick:function(){return e.menuSelect(t)},dangerouslySetInnerHTML:{__html:o}})})))},t}(e.Component),Mx=_f(gE,_E)(Dx),Lx="components/tree-browser/TreeApp",Ux="/search/tree",Fx=function(e){function t(t){var r=this;e.call(this,t),["clickLink","clickNode","clickTree","getNode","getNodeCallback","saveTree","selectNode","selectNodeCallback","setTree"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){if(metadata.tree_ids){var e=this.props.views.tree;this.setTree(e)}},t.prototype.componentWillUnmount=function(){this.saveTree()},t.prototype.clickLink=function(e){var t=this.props,r=t.requestSearch,n=t.views,o=n.tree,a=metadata.tree_config[o],i=a.attribute,s=a.is_go,c=a.return_type,l=a.type_attribute,u=a.type_value,p=jr(i),d=p?p.service:null,f=s?pn(e.id):e.id,h=wi({attribute:i,operator:"exact_match",value:f},d),m=l?Ei(h,wi({attribute:l,operator:"exact_match",value:u},d)):h;m=So(m),m=So(m,d),m=So(m),r(bo(m,c),Lx)},t.prototype.clickNode=function(e){if(e.ch){e.o=!e.o;var t=this.state,r=t.tree;this.setState({tree:r})}else{var n=this.props.views.tree;this.getNode(n,e)}},t.prototype.clickTree=function(e){this.props.views.tree!==e&&this.setTree(e)},t.prototype.getNode=function(e,t){var r;r="string"==typeof t?t:metadata.tree_config[e].is_go?t.i:t.id,qr([Ux,e,r].join("/"),Hm,this.getNodeCallback,{obj:t})},t.prototype.getNodeCallback=function(e,t,r){if("root"===e.id||0===e.d)this.setState({tree:e});else{var n=r.obj;n.ch=e.ch,n.o=!0;var o=this.state,a=o.tree;this.setState({tree:a})}},t.prototype.saveTree=function(){var e=this.props,t=e.saveTreeData,r=e.views,n=r.tree,o=this.state,a=o.tree;a&&t(n,a)},t.prototype.selectNode=function(e){var t=this.props.views.tree;qr([Ux+"-select",t,e].join("/"),Hm,this.selectNodeCallback)},t.prototype.selectNodeCallback=function(e,t){var r=kr(this.state.tree);_i(r);for(var n=0;n<r.ch.length;n++)r.ch[n].i===e.i&&(r.ch[n]=e);this.setState({tree:r})},t.prototype.setTree=function(e){var t=this.props,r=t.dispatchAction,n=t.pushState,o=t.trees;this.saveTree(),o[e]?this.setState({tree:o[e]}):this.getNode(e,"root"),r(nh,{tree:e}),n({path:"/search/browse/"+e,src:Lx+": setTree",view:"tree",id:e})},t.prototype.render=function(){var e=this;if(metadata.tree_ids){var t=this.state,r=t.tree,n=this.props.views.tree;if(console.log(Lx,"render: "+n),r){var o=metadata.tree_config[n],a=o.show_id,i=o.external?"tree-browse-header-external":"tree-browse-header",s=r;return Ci.createElement("div",{id:"tree-browse"},metadata.tree_ids.map(function(t){var r=t===n?Cm:Cm+" btn-tree-browse";return Ci.createElement("span",{key:t},Ci.createElement("a",{className:r,onClick:function(){return e.setTree(t)}},metadata.tree_config[t].name),Ci.createElement(Dw,{w:2}))}),Ci.createElement(Dw,{h:10}),Ci.createElement("div",{className:i},o.name," Browser"),Ci.createElement(Dw,{h:10}),Ci.createElement("div",{dangerouslySetInnerHTML:{__html:ty.headers[n]}}),Ci.createElement(Dw,{h:10}),Ci.createElement(Mx,{show_id:a,tree_id:n,selectNode:this.selectNode}),Ci.createElement(Dw,{h:10}),Ci.createElement("div",{id:"tree"},Ci.createElement(Bx,{key:s.id,node:s,tree_id:n,clickNode:this.clickNode,clickLink:this.clickLink})),Ci.createElement(Dw,{h:10}),o.external&&Ci.createElement("div",{className:"data-external"},Tw," Data from external resource."))}return null}return Ci.createElement("div",null,"Tree data has not been set in ",metadata.instance," instance.")},t}(e.Component),Hx=_f(gE,bE)(Fx),Vx={position:"relative"},Gx={position:"fixed",width:240,padding:"4px 8px",fontSize:12,left:-5e3},Qx=function(e){function t(t){var r=this;e.call(this,t),["setCw"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props,t=e.booleans,r=e.dispatchAction,n=e.popState,o=e.pushState,a=e.urlSearch,i=document.referrer,s=window.location.pathname,c=window.location.search;t.appLoaded||r(Lf,{appLoaded:!0}),setDispatchAction(r),window.onpopstate=n,window.addEventListener("resize",this.setCw),this.setCw(),document.referrer&&o({referrer:i,src:"App.componentDidMount"}),tn(c)?Do(t,null,r,s):a()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.setCw)},t.prototype.setCw=function(){var e=this.props,t=e.dispatchAction,r=Xr("maincontentcontainer"),n=Um;r<=970&&(n="MD"),r<=750&&(n="SM"),r<=500&&(n=Lm),t(Uf,{containerWidth:r}),t(Hf,{cw:n})},t.prototype.render=function(){var e=this.props,t=e.booleans,r=e.views,n=r.search,o=r.tab;return Ci.createElement("div",{style:Vx,id:"app"},Ci.createElement(Nx,null),Ci.createElement("div",{id:"tooltip-html",style:Gx}),Ci.createElement("form",{id:"data-form",method:"post"},Ci.createElement("input",{type:"hidden",id:"data",name:"data"}),Ci.createElement("input",{type:"hidden",id:"ids",name:"ids"})),o===jf&&n===Pf&&Ci.createElement("style",null,"#maincontentcontainer { width: 98%; margin: auto; }"),("rlowe"===metadata.user||t.dev)&&Ci.createElement(Uw,null)," ",Ci.createElement(jx,null),Ci.createElement(Dw,{h:10}),"TAB_HISTORY"===o&&Ci.createElement(Yw,null),o===Rf&&Ci.createElement(OS,null),o===jf&&Ci.createElement(Tx,null),o===qf&&Ci.createElement(Hx,null))},t}(e.Component),Wx=_f(gE,bE)(Qx),zx=function(e){function t(t){e.call(this,t),this.state={hasError:!1},this.clearError=this.clearError.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidCatch=function(e,t){this.setState({hasError:!0,error:e,info:t})},t.prototype.clearError=function(){this.setState({hasError:!1}),location.href="/search"},t.prototype.render=function(){var e=this.state,t=e.hasError,r=e.error,n=e.info;return t?Ci.createElement("div",null,Ci.createElement("h4",null,"Error"),Ci.createElement("p",null,r.toString()),Ci.createElement("pre",null,n.componentStack.toString()),Ci.createElement("button",{onClick:this.clearError},"Continue")):this.props.children},t}(Ci.Component),Yx={marginTop:10},Jx={marginTop:0},Kx={marginRight:5},Xx=function(e){function t(t){var r=this;e.call(this,t),["goTo","logout"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.goTo=function(e){console.log("components/mypdb/Menu","view="+e);var t=this.props,r=t.booleans,n=t.dispatchAction;r.appLoaded?n(nh,{mypdb:e,tab:Rf}):window.location.href="/search/mypdb/"+e},t.prototype.logout=function(){Jw.remove(qm),this.props.dispatchAction(Lf,{hasMypdb:!1}),this.props.dispatchAction(nh,{mypdb:"login",tab:Rf})},t.prototype.render=function(){var e=this,t=this.props.booleans.hasMypdb;return Ci.createElement("div",{style:Yx,className:"dropdown pull-right"},Ci.createElement("button",{className:"btn btn-info btn-sm dropdown-toggle",type:"button","data-toggle":"dropdown"},"MyPDB ",Ci.createElement("span",{className:"caret"})),t?Ci.createElement("ul",{className:"dropdown-menu",style:Jx},Ci.createElement("li",null,Ci.createElement("a",{onClick:function(){return e.goTo("queries")}},"Saved Queries")),Ci.createElement("li",null,Ci.createElement("a",{onClick:function(){return e.goTo("account")}},"Account Settings")),Ci.createElement("li",null,Ci.createElement("a",{onClick:this.logout},"Sign out")),Ci.createElement("hr",null),Ci.createElement("li",null,Ci.createElement("a",{href:"/docs/search-and-browse/mypdb",target:"_blank"},"Documentation ",Sw))):Ci.createElement("ul",{className:"dropdown-menu",style:Jx},ey.map(function(e){return Ci.createElement("li",{key:e.id},Ci.createElement("a",{href:"/auth/"+e.id},Ci.createElement("img",{style:Kx,src:"https://cdn.rcsb.org/rcsb-pdb/logos/"+e.id+"-sm.png"}),"Sign in with ",e.name))}),Ci.createElement("hr",null),Ci.createElement("li",null,Ci.createElement("a",{href:"/docs/search-and-browse/mypdb",target:"_blank"},"Documentation ",Sw))))},t}(e.Component),Zx=_f(gE,bE)(Xx),$x="search-bar",ek=$x+"-component",tk=function(e){function t(t){var r=this;e.call(this,t),["focus","handleInputChange","handleInputChangeCallback","handleInputClick","handleLink","menuSelect","search"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Fr(),this.name=$x,this.component_id=ek,this.state=Ir("menu-state")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.props.setEventsGetState(),Ya(this)},t.prototype.focus=function(e){var t=e?"SEARCH_BAR":Af;this.props.dispatchAction(Ff,{control:t})},t.prototype.handleInputChange=function(e){var t=e.target,r=t.value;if(r.length>1){r=encodeURIComponent(r);qr(["/search/suggest",r].join("/"),Hm,this.handleInputChangeCallback)}else Ja(Ir("menu-state"),this)},t.prototype.handleInputChangeCallback=function(e){if(e.attributes&&e.items){var t=e.attributes,r=e.items;r&&r.length>0&&Ja({attributes:t,menuItems:r,menuIndex:-1,menuOpen:!0},this)}else Ja(Ir("menu-state"),this)},t.prototype.handleInputClick=function(e){var t=e.target,r=t.value;r=r.trim(),r.length>1&&this.state.menuItems&&Ja({menuOpen:!0},this)},t.prototype.handleLink=function(e,t){e.preventDefault();var r=this.props,n=r.booleans,o=r.dispatchAction;n.appLoaded?"advanced"===t?(o(nh,{tab:jf}),o(ah)):o(nh,{tab:qf}):window.location.href="/search/"+t},t.prototype.menuSelect=function(e){var t=e.attrIndex,r=e.__html,n=e.context,o=this.state.attributes[t].attribute,a=cn(r);this.handleSearch(o,a,n)},t.prototype.handleSearch=function(e,t,r){if(t=fn(t))if("rcsb_entry_container_identifiers.entry_id"===e)window.location.href="/structure/"+t;else if("rcsb_repository_holdings_removed_entry_container_identifiers.entry_id"===e)window.location.href="/structure/removed/redirect/"+t;else if("rcsb_repository_holdings_unreleased_entry_container_identifiers.entry_id"===e)window.location.href="/structure/unreleased/"+t;else if("rcsb_chem_comp_container_identifiers.comp_id"===e||"rcsb_chem_comp_container_identifiers.prd_id"===e)window.location.href="/ligand/"+t;else{var n=this.props,o=n.booleans,a=n.dispatchAction,i=n.requestSearch;if("searchdev"===t)a(Lf,{dev:!o.dev});else{var s=yo(e,t,r);s.query.label=Kh,o.appLoaded?(this.setState({menuOpen:!1}),i(s,"components/SearchBar")):window.location.href=go(s)}}},t.prototype.search=function(){var e,t,r=this.state,n=r.attributes,o=r.menuItems,a=r.menuIndex,i=r.menuOpen,s=Pr("search-bar-input-text").trim();if(-1===a&&i&&2===o.length){var c=o[1];e=n[c.attrIndex].attribute,$r(e)&&(t=cn(c.__html))!==s&&(t=null)}if(!t&&(t=s,!Si(t))){for(var l=t.split(" "),u=0,p=l.length;u<p;u++){var d=l[u];d.trim().length>1&&(Si(d)||-1!==d.indexOf("-")&&(l[u]='"'+d+'"'))}t=l.join(" ")}Ja({menuOpen:!1},this),this.handleSearch(e,t)},t.prototype.render=function(){var e=this,t=this.props,r=t.control,n=t.queryBuilder,o=t.views,a=!(!n||!n.open),i=this.state,s=i.attributes,c=i.menuItems,l=i.menuIndex,u=i.menuOpen,p="glyphicon glyphicon-search search-btn";return"SEARCH_BAR"===r&&(p+=" search-control"),Ci.createElement("div",{id:this.component_id,className:"search-bar"},Ci.createElement("div",{id:"menu-container-"+this.guid},Ci.createElement("table",{className:"search-bar-table"},Ci.createElement("tr",null,Ci.createElement("td",{className:"search-bar-input"},Ci.createElement("input",{type:"text",id:"search-bar-input-text",onClick:this.handleInputClick,onChange:this.handleInputChange,placeholder:Zm.searchBar,autoComplete:"off",spellCheck:"false",autoFocus:!0,onFocus:function(){return e.focus(!0)},onBlur:function(){return e.focus(!1)}}),u&&Ci.createElement("div",{id:"search-bar-menu",className:"search-bar-menu"},c&&c.map(function(t,r){var n=t.attrIndex,o=t.context,a=t.__html,i=t.id;if("header"===t.type)return Ci.createElement("div",{className:"attribute",key:"a"+n},"in ",s[n].display_name);var c=r===l?"value-selected":"value";return o&&(a+=" - "+o),Ci.createElement("div",{className:c,id:i,key:"i"+r,onClick:function(){return e.menuSelect(t)},dangerouslySetInnerHTML:{__html:a}})}))),Ci.createElement("td",null,Ci.createElement("div",{id:"search-icon",onClick:this.search},Ci.createElement("span",{className:p})))),Ci.createElement("tr",{id:"search-bar-links"},Ci.createElement("td",null,a&&o.tab===jf?Ci.createElement("span",{style:{color:AE}},"Advanced Search"):Ci.createElement("a",{href:"/search/advanced",onClick:function(t){return e.handleLink(t,"advanced")}},"Advanced Search"),Ci.createElement(Dw,{w:5}),"|",Ci.createElement(Dw,{w:5}),Ci.createElement("a",{href:"/search/browse/atc",onClick:function(t){return e.handleLink(t,"browse")}},"Browse Annotations")),Ci.createElement("td",null,Ci.createElement("div",null,Ci.createElement("a",{href:"/docs/search-and-browse/basic-search",target:"_blank",rel:"noopener noreferrer"},"Help ",Ow)))))))},t}(e.Component),rk=_f(gE,bE)(tk);wf.referer=function(){var e=window.location.href,t=e.lastIndexOf("/search");return-1!==t?e.substring(0,t):e}(),console.log("index","c.ENV.referer="+wf.referer),function(){ey.forEach(function(e){return ay[e.id]=e}),_m.forEach(function(e){return ay[e.key]=e.value}),Em.forEach(function(e){return ay[e.key]=e.value}),bm.forEach(function(e){return ay[e.key]=e.value}),fm.forEach(function(e){return ay[e.key]=e.value}),lm.forEach(function(e){return ay[e.key]=e.value}),mm.forEach(function(e){return ay[e.key]=e.value}),vm.forEach(function(e){return ay[e.key]=e.value});for(var e in Qh)iy[Qh[e]]=e;metadata.returnTypes.forEach(function(e){var t=e.key,r=e.value,n=e.core,o=e.ui;ny[t]=e,ry[n]=e,o&&oy.push({key:t,value:r})}),metadata.tabularReportGroups.forEach(function(e){return e.reports.forEach(function(e){return ay[e.id]=e.name})}),metadata.structure.selectorItems.forEach(function(e){Je(e)}),metadata.chemical.selectorItems.forEach(function(e){Je(e)});var t=0;metadata.structure.selectorItems.forEach(function(e){"header"===e.type&&t++}),cy.selectorMenuMaxHeight=22*(t+4),console.log("constants INITIALIZED")}();var nk=Ir("booleans"),ok=Jw.get(qm);nk.hasMypdb=void 0!==ok;var ak,ik=Jr();if(ik){var sk=ik.getItem("history");sk&&(ak=JSON.parse(sk))}ak||(ak={map:{},ids:[],id:null});var ck=Bm,lk=function(e){return le(U_,e,be(Ef))}({booleans:nk,history:ak,returnType:ck}),uk=document.getElementById("mypdb-menu-container"),pk=document.getElementById("search-bar-container"),dk=document.getElementById("search-container");document.addEventListener("keydown",Qa,!1),document.addEventListener("click",Ga,!1),
pk&&(console.log("search_bar_container FOUND"),t.render(Ci.createElement(xd,{store:lk},Ci.createElement(Zx,null)),uk),t.render(Ci.createElement(xd,{store:lk},Ci.createElement(rk,null)),pk)),dk&&(document.title=function(e){return"RCSB PDB: "+e}("Search"),"local"===metadata.instance?t.render(Ci.createElement(xd,{store:lk},Ci.createElement(zx,null,Ci.createElement(Wx,null))),dk):t.render(Ci.createElement(xd,{store:lk},Ci.createElement(Wx,null)),dk))}(React,ReactDOM);
